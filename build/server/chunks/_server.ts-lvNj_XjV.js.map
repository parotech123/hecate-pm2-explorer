{"version":3,"file":"_server.ts-lvNj_XjV.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/processes/_server.ts.js"],"sourcesContent":["import { P as PM2Wrapper } from \"../../../../chunks/PM2Wrapper.js\";\nimport axios from \"axios\";\nconst pm2 = new PM2Wrapper();\nconst TIMEOUT = 3e3;\nconst GET = async ({ request, params, url }) => {\n  let host = url.searchParams.get(\"host\");\n  console.log(\"Host: \" + host);\n  if (host) {\n    console.log(\"Host specified, using host: \" + host);\n    let urlToCall = host + \"/api/processes\";\n    let data = [];\n    try {\n      console.log(\"Calling: \" + urlToCall);\n      const res = await axios.get(urlToCall, {\n        timeout: TIMEOUT,\n        method: \"GET\"\n      });\n      let texgt = await res.data;\n      console.log(texgt);\n      data = await res.data;\n    } catch (error) {\n      console.error(error);\n      data = [];\n    }\n    return new Response(JSON.stringify(data));\n  } else {\n    console.log(\"No host specified, using local host\");\n    await pm2.connect();\n    const processList = await pm2.listProcesses();\n    pm2.disconnect();\n    return new Response(JSON.stringify(processList));\n  }\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM,GAAG,GAAG,IAAI,UAAU,EAAE,CAAC;AAC7B,MAAM,OAAO,GAAG,GAAG,CAAC;AACf,MAAC,GAAG,GAAG,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK;AAChD,EAAE,IAAI,IAAI,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC1C,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;AAC/B,EAAE,IAAI,IAAI,EAAE;AACZ,IAAI,OAAO,CAAC,GAAG,CAAC,8BAA8B,GAAG,IAAI,CAAC,CAAC;AACvD,IAAI,IAAI,SAAS,GAAG,IAAI,GAAG,gBAAgB,CAAC;AAC5C,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC;AAClB,IAAI,IAAI;AACR,MAAM,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC;AAC3C,MAAM,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE;AAC7C,QAAQ,OAAO,EAAE,OAAO;AACxB,QAAQ,MAAM,EAAE,KAAK;AACrB,OAAO,CAAC,CAAC;AACT,MAAM,IAAI,KAAK,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC;AACjC,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACzB,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC;AAC5B,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3B,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB,KAAK;AACL,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9C,GAAG,MAAM;AACT,IAAI,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;AACvD,IAAI,MAAM,GAAG,CAAC,OAAO,EAAE,CAAC;AACxB,IAAI,MAAM,WAAW,GAAG,MAAM,GAAG,CAAC,aAAa,EAAE,CAAC;AAClD,IAAI,GAAG,CAAC,UAAU,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;AACrD,GAAG;AACH;;;;"}