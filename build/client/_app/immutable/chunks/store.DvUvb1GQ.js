import{u as m,e as a,f as i,g as p,h as o,i as _,j as d,k as g,l as v,C as h,m as y,n as I,U as f,s as c,o as b,q as k}from"./runtime.D8OBqRL4.js";import{s as N}from"./index.BhO3S-8N.js";function U(){const n=g,e=n.l.u;e&&(e.b.length&&m(()=>{var s;l(n),o(e.b);const t=(s=v)==null?void 0:s.parent;t!=null&&!(t.f&h)&&y(t)}),a(()=>{const t=i(()=>e.m.map(p));return()=>{for(const s of t)typeof s=="function"&&s()}}),e.a.length&&a(()=>{l(n),o(e.a)}))}function l(n){if(n.l.s)for(const e of n.l.s)_(e);d(n.s)}function j(n,e,t){let s=t[e];const r=s===void 0;r&&(s={store:null,last_value:null,value:k(f),unsubscribe:b},t[e]=s),(r||s.store!==n)&&(s.unsubscribe(),s.store=n??null,s.unsubscribe=A(n,s.value));const u=_(s.value);return u===f?s.last_value:u}function A(n,e){return n==null?(c(e,void 0),b):N(n,t=>c(e,t))}function q(n,e){return n.set(e),e}function w(n){C(()=>{let e;for(e in n)n[e].unsubscribe()})}function x(n,e,t){return n.set(t),e}function C(n){I(()=>()=>i(n))}export{q as a,U as i,x as m,j as s,w as u};
