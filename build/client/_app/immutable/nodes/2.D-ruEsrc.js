var Kc=Object.defineProperty;var Hc=(e,t,r)=>t in e?Kc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tn=(e,t,r)=>(Hc(e,typeof t!="symbol"?t+"":t,r),r),Yc=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Ge=(e,t,r)=>(Yc(e,t,"read from private field"),r?r.call(e):t.get(e)),Ut=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};import{g as ss,w as Wc,x as nt,d as gt,s as Ue,a as ae,t as Ce,f as Re,c as G,n as uo,b as j,r as Zt,y as Na,v as $c,$ as Gc}from"../chunks/disclose-version.I6GFEVAi.js";import{r as fe,w as Dt,i as R,s as Ke,Q as en,c as nr,d as ar,aq as Lt,at as Oi,j as mt,ar as uu,q as Rt,L as cu,e as En,f as Ft,as as ce,v as us}from"../chunks/runtime.D8OBqRL4.js";import{p as yt,i as He,l as Ui,o as Qc,c as zc,d as lu,a as _e,b as co,s as lo}from"../chunks/index-client.B7V-3nGG.js";import{h as fu,s as Ri,e as Yt,i as Wt,c as In,a as ct,r as Vc,d as cs}from"../chunks/drawer.state.svelte.BzkAP9zv.js";import{i as Ba,u as La,s as jn,m as tn}from"../chunks/store.DvUvb1GQ.js";import{w as sn,g as qi}from"../chunks/index.BhO3S-8N.js";function rn(e,t){var r=e.__className,n=Xc(t);ss&&e.className===n?e.__className=n:(r!==n||ss&&e.className!==n)&&(t==null?e.removeAttribute("class"):Wc(e,n),e.__className=n)}function Xc(e){return e??""}let ls=!1;function du(e,t,r,n=r){e.addEventListener(t,r);const i=e.__on_r;i?e.__on_r=()=>{i(),n()}:e.__on_r=n,ls||(ls=!0,document.addEventListener("reset",u=>{Promise.resolve().then(()=>{var s;if(!u.defaultPrevented)for(const h of u.target.elements)(s=h.__on_r)==null||s.call(h)})},{capture:!0}))}function Ni(e,t,r){du(e,"input",()=>{r(ds(e)?hs(e.value):e.value)}),fe(()=>{var n=t();e.__value=n,!(ds(e)&&n===hs(e.value))&&(e.type==="date"&&!n&&!e.value||(e.value=nt(n)))})}function fs(e,t,r){du(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),fe(()=>{var n=t();e.checked=!!n})}function ds(e){var t=e.type;return t==="number"||t==="range"}function hs(e){return e===""?null:+e}function lr(e){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(e)}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function lt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ot(e){lt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||lr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Jc(e,t){lt(2,arguments);var r=Ot(e).getTime(),n=At(t);return new Date(r+n)}var Zc={};function un(){return Zc}function hu(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var el=6e4,tl=36e5,rl=1e3;function nl(e){return lt(1,arguments),e instanceof Date||lr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function al(e){if(lt(1,arguments),!nl(e)&&typeof e!="number")return!1;var t=Ot(e);return!isNaN(Number(t))}function pu(e,t){lt(2,arguments);var r=At(t);return Jc(e,-r)}var il=864e5;function ol(e){lt(1,arguments);var t=Ot(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/il)+1}function nn(e){lt(1,arguments);var t=1,r=Ot(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function vu(e){lt(1,arguments);var t=Ot(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=nn(n),u=new Date(0);u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0);var s=nn(u);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function sl(e){lt(1,arguments);var t=vu(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=nn(r);return n}var ul=6048e5;function mu(e){lt(1,arguments);var t=Ot(e),r=nn(t).getTime()-sl(t).getTime();return Math.round(r/ul)+1}function qr(e,t){var r,n,i,u,s,h,v,T;lt(1,arguments);var M=un(),D=At((r=(n=(i=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&i!==void 0?i:M.weekStartsOn)!==null&&n!==void 0?n:(v=M.locale)===null||v===void 0||(T=v.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&r!==void 0?r:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var q=Ot(e),N=q.getUTCDay(),$=(N<D?7:0)+N-D;return q.setUTCDate(q.getUTCDate()-$),q.setUTCHours(0,0,0,0),q}function fo(e,t){var r,n,i,u,s,h,v,T;lt(1,arguments);var M=Ot(e),D=M.getUTCFullYear(),q=un(),N=At((r=(n=(i=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:q.firstWeekContainsDate)!==null&&n!==void 0?n:(v=q.locale)===null||v===void 0||(T=v.options)===null||T===void 0?void 0:T.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=new Date(0);$.setUTCFullYear(D+1,0,N),$.setUTCHours(0,0,0,0);var F=qr($,t),Z=new Date(0);Z.setUTCFullYear(D,0,N),Z.setUTCHours(0,0,0,0);var X=qr(Z,t);return M.getTime()>=F.getTime()?D+1:M.getTime()>=X.getTime()?D:D-1}function cl(e,t){var r,n,i,u,s,h,v,T;lt(1,arguments);var M=un(),D=At((r=(n=(i=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:M.firstWeekContainsDate)!==null&&n!==void 0?n:(v=M.locale)===null||v===void 0||(T=v.options)===null||T===void 0?void 0:T.firstWeekContainsDate)!==null&&r!==void 0?r:1),q=fo(e,t),N=new Date(0);N.setUTCFullYear(q,0,D),N.setUTCHours(0,0,0,0);var $=qr(N,t);return $}var ll=6048e5;function yu(e,t){lt(1,arguments);var r=Ot(e),n=qr(r,t).getTime()-cl(r,t).getTime();return Math.round(n/ll)+1}function Ie(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var xr={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return Ie(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ie(n+1,2)},d:function(t,r){return Ie(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ie(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ie(t.getUTCHours(),r.length)},m:function(t,r){return Ie(t.getUTCMinutes(),r.length)},s:function(t,r){return Ie(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),u=Math.floor(i*Math.pow(10,n-3));return Ie(u,r.length)}},Jr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fl={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),u=i>0?i:1-i;return n.ordinalNumber(u,{unit:"year"})}return xr.y(t,r)},Y:function(t,r,n,i){var u=fo(t,i),s=u>0?u:1-u;if(r==="YY"){var h=s%100;return Ie(h,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ie(s,r.length)},R:function(t,r){var n=vu(t);return Ie(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ie(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Ie(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Ie(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return xr.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Ie(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var u=yu(t,i);return r==="wo"?n.ordinalNumber(u,{unit:"week"}):Ie(u,r.length)},I:function(t,r,n){var i=mu(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Ie(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):xr.d(t,r)},D:function(t,r,n){var i=ol(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ie(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var u=t.getUTCDay(),s=(u-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Ie(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(u,{width:"short",context:"formatting"});case"eeee":default:return n.day(u,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var u=t.getUTCDay(),s=(u-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Ie(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(u,{width:"narrow",context:"standalone"});case"cccccc":return n.day(u,{width:"short",context:"standalone"});case"cccc":default:return n.day(u,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),u=i===0?7:i;switch(r){case"i":return String(u);case"ii":return Ie(u,r.length);case"io":return n.ordinalNumber(u,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),u=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),u;switch(i===12?u=Jr.noon:i===0?u=Jr.midnight:u=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),u;switch(i>=17?u=Jr.evening:i>=12?u=Jr.afternoon:i>=4?u=Jr.morning:u=Jr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return xr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xr.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ie(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ie(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xr.s(t,r)},S:function(t,r){return xr.S(t,r)},X:function(t,r,n,i){var u=i._originalDate||t,s=u.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return vs(s);case"XXXX":case"XX":return Ur(s);case"XXXXX":case"XXX":default:return Ur(s,":")}},x:function(t,r,n,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(r){case"x":return vs(s);case"xxxx":case"xx":return Ur(s);case"xxxxx":case"xxx":default:return Ur(s,":")}},O:function(t,r,n,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ps(s,":");case"OOOO":default:return"GMT"+Ur(s,":")}},z:function(t,r,n,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ps(s,":");case"zzzz":default:return"GMT"+Ur(s,":")}},t:function(t,r,n,i){var u=i._originalDate||t,s=Math.floor(u.getTime()/1e3);return Ie(s,r.length)},T:function(t,r,n,i){var u=i._originalDate||t,s=u.getTime();return Ie(s,r.length)}};function ps(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),u=n%60;if(u===0)return r+String(i);var s=t;return r+String(i)+s+Ie(u,2)}function vs(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ie(Math.abs(e)/60,2)}return Ur(e,t)}function Ur(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),u=Ie(Math.floor(i/60),2),s=Ie(i%60,2);return n+u+r+s}var ms=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},gu=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},dl=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],u=n[2];if(!u)return ms(t,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",ms(i,r)).replace("{{time}}",gu(u,r))},Bi={p:gu,P:dl},hl=["D","DD"],pl=["YY","YYYY"];function bu(e){return hl.indexOf(e)!==-1}function wu(e){return pl.indexOf(e)!==-1}function Ea(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ml=function(t,r,n){var i,u=vl[t];return typeof u=="string"?i=u:r===1?i=u.one:i=u.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ki(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var yl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wl={date:ki({formats:yl,defaultWidth:"full"}),time:ki({formats:gl,defaultWidth:"full"}),dateTime:ki({formats:bl,defaultWidth:"full"})},_l={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xl=function(t,r,n,i){return _l[t]};function Pn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):u;i=e.formattingValues[s]||e.formattingValues[u]}else{var h=e.defaultWidth,v=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[v]||e.values[h]}var T=e.argumentCallback?e.argumentCallback(t):t;return i[T]}}var Tl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ol={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},El=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Dl={ordinalNumber:El,era:Pn({values:Tl,defaultWidth:"wide"}),quarter:Pn({values:Pl,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Pn({values:Ol,defaultWidth:"wide"}),day:Pn({values:kl,defaultWidth:"wide"}),dayPeriod:Pn({values:Cl,defaultWidth:"wide",formattingValues:Sl,defaultFormattingWidth:"wide"})};function On(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],u=t.match(i);if(!u)return null;var s=u[0],h=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(h)?Ml(h,function(D){return D.test(s)}):Al(h,function(D){return D.test(s)}),T;T=e.valueCallback?e.valueCallback(v):v,T=r.valueCallback?r.valueCallback(T):T;var M=t.slice(s.length);return{value:T,rest:M}}}function Al(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Ml(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Il(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],u=t.match(e.parsePattern);if(!u)return null;var s=e.valueCallback?e.valueCallback(u[0]):u[0];s=r.valueCallback?r.valueCallback(s):s;var h=t.slice(i.length);return{value:s,rest:h}}}var jl=/^(\d+)(th|st|nd|rd)?/i,Ul=/\d+/i,Rl={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ql={any:[/^b/i,/^(a|c)/i]},Nl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bl={any:[/1/i,/2/i,/3/i,/4/i]},Ll={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fl={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$l={ordinalNumber:Il({matchPattern:jl,parsePattern:Ul,valueCallback:function(t){return parseInt(t,10)}}),era:On({matchPatterns:Rl,defaultMatchWidth:"wide",parsePatterns:ql,defaultParseWidth:"any"}),quarter:On({matchPatterns:Nl,defaultMatchWidth:"wide",parsePatterns:Bl,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:On({matchPatterns:Ll,defaultMatchWidth:"wide",parsePatterns:Fl,defaultParseWidth:"any"}),day:On({matchPatterns:Kl,defaultMatchWidth:"wide",parsePatterns:Hl,defaultParseWidth:"any"}),dayPeriod:On({matchPatterns:Yl,defaultMatchWidth:"any",parsePatterns:Wl,defaultParseWidth:"any"})},_u={code:"en-US",formatDistance:ml,formatLong:wl,formatRelative:xl,localize:Dl,match:$l,options:{weekStartsOn:0,firstWeekContainsDate:1}},Gl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ql=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zl=/^'([^]*?)'?$/,Vl=/''/g,Xl=/[a-zA-Z]/;function Jl(e,t,r){var n,i,u,s,h,v,T,M,D,q,N,$,F,Z;lt(2,arguments);var X=String(t),U=un(),ee=(n=(i=void 0)!==null&&i!==void 0?i:U.locale)!==null&&n!==void 0?n:_u,oe=At((u=(s=(h=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&h!==void 0?h:U.firstWeekContainsDate)!==null&&s!==void 0?s:(T=U.locale)===null||T===void 0||(M=T.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(oe>=1&&oe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var de=At((D=(q=(N=($=void 0)!==null&&$!==void 0?$:void 0)!==null&&N!==void 0?N:U.weekStartsOn)!==null&&q!==void 0?q:(F=U.locale)===null||F===void 0||(Z=F.options)===null||Z===void 0?void 0:Z.weekStartsOn)!==null&&D!==void 0?D:0);if(!(de>=0&&de<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ee.localize)throw new RangeError("locale must contain localize property");if(!ee.formatLong)throw new RangeError("locale must contain formatLong property");var J=Ot(e);if(!al(J))throw new RangeError("Invalid time value");var ne=hu(J),se=pu(J,ne),Pe={firstWeekContainsDate:oe,weekStartsOn:de,locale:ee,_originalDate:J},Me=X.match(Ql).map(function(te){var le=te[0];if(le==="p"||le==="P"){var Se=Bi[le];return Se(te,ee.formatLong)}return te}).join("").match(Gl).map(function(te){if(te==="''")return"'";var le=te[0];if(le==="'")return Zl(te);var Se=fl[le];if(Se)return wu(te)&&Ea(te,t,String(e)),bu(te)&&Ea(te,t,String(e)),Se(se,te,ee.localize,Pe);if(le.match(Xl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return te}).join("");return Me}function Zl(e){var t=e.match(zl);return t?t[1].replace(Vl,"'"):e}function ef(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function ys(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tf(e,t){if(e){if(typeof e=="string")return ys(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ys(e,t)}}function gs(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=tf(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(T){throw T},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,s=!1,h;return{s:function(){r=r.call(e)},n:function(){var T=r.next();return u=T.done,T},e:function(T){s=!0,h=T},f:function(){try{!u&&r.return!=null&&r.return()}finally{if(s)throw h}}}}function z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Li(e,t){return Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Li(e,t)}function xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Da(e)}function rf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nf(e,t){if(t&&(lr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function Te(e){var t=rf();return function(){var n=Da(e),i;if(t){var u=Da(this).constructor;i=Reflect.construct(n,arguments,u)}else i=n.apply(this,arguments);return nf(this,i)}}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){if(lr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(e){var t=af(e,"string");return lr(t)==="symbol"?t:String(t)}function of(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xu(n.key),n)}}function we(e,t,r){return t&&of(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t,r){return t=xu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sf=10,Tu=function(){function e(){be(this,e),Q(this,"priority",void 0),Q(this,"subPriority",0)}return we(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),uf=function(e){xe(r,e);var t=Te(r);function r(n,i,u,s,h){var v;return be(this,r),v=t.call(this),v.value=n,v.validateValue=i,v.setValue=u,v.priority=s,h&&(v.subPriority=h),v}return we(r,[{key:"validate",value:function(i,u){return this.validateValue(i,this.value,u)}},{key:"set",value:function(i,u,s){return this.setValue(i,u,this.value,s)}}]),r}(Tu),cf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",sf),Q(z(n),"subPriority",-1),n}return we(r,[{key:"set",value:function(i,u){if(u.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),r}(Tu),Ae=function(){function e(){be(this,e),Q(this,"incompatibleTokens",void 0),Q(this,"priority",void 0),Q(this,"subPriority",void 0)}return we(e,[{key:"run",value:function(r,n,i,u){var s=this.parse(r,n,i,u);return s?{setter:new uf(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(r,n,i){return!0}}]),e}(),lf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",140),Q(z(n),"incompatibleTokens",["R","u","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,u,s){return u.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},er={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function it(e,t){return e&&{value:t(e.value),rest:e.rest}}function ze(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function tr(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(i*tl+u*el+s*rl),rest:t.slice(r[0].length)}}function Pu(e){return ze(at.anyDigitsSigned,e)}function Ze(e,t){switch(e){case 1:return ze(at.singleDigit,t);case 2:return ze(at.twoDigits,t);case 3:return ze(at.threeDigits,t);case 4:return ze(at.fourDigits,t);default:return ze(new RegExp("^\\d{1,"+e+"}"),t)}}function Aa(e,t){switch(e){case 1:return ze(at.singleDigitSigned,t);case 2:return ze(at.twoDigitsSigned,t);case 3:return ze(at.threeDigitsSigned,t);case 4:return ze(at.fourDigitsSigned,t);default:return ze(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ho(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ou(e,t){var r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{var u=n+50,s=Math.floor(u/100)*100,h=e>=u%100;i=e+s-(h?100:0)}return r?i:1-i}function ku(e){return e%400===0||e%4===0&&e%100!==0}var ff=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",130),Q(z(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){var h=function(T){return{year:T,isTwoDigitYear:u==="yy"}};switch(u){case"y":return it(Ze(4,i),h);case"yo":return it(s.ordinalNumber(i,{unit:"year"}),h);default:return it(Ze(u.length,i),h)}}},{key:"validate",value:function(i,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(i,u,s){var h=i.getUTCFullYear();if(s.isTwoDigitYear){var v=Ou(s.year,h);return i.setUTCFullYear(v,0,1),i.setUTCHours(0,0,0,0),i}var T=!("era"in u)||u.era===1?s.year:1-s.year;return i.setUTCFullYear(T,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),df=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",130),Q(z(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){var h=function(T){return{year:T,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return it(Ze(4,i),h);case"Yo":return it(s.ordinalNumber(i,{unit:"year"}),h);default:return it(Ze(u.length,i),h)}}},{key:"validate",value:function(i,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(i,u,s,h){var v=fo(i,h);if(s.isTwoDigitYear){var T=Ou(s.year,v);return i.setUTCFullYear(T,0,h.firstWeekContainsDate),i.setUTCHours(0,0,0,0),qr(i,h)}var M=!("era"in u)||u.era===1?s.year:1-s.year;return i.setUTCFullYear(M,0,h.firstWeekContainsDate),i.setUTCHours(0,0,0,0),qr(i,h)}}]),r}(Ae),hf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",130),Q(z(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u){return Aa(u==="R"?4:u.length,i)}},{key:"set",value:function(i,u,s){var h=new Date(0);return h.setUTCFullYear(s,0,4),h.setUTCHours(0,0,0,0),nn(h)}}]),r}(Ae),pf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",130),Q(z(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u){return Aa(u==="u"?4:u.length,i)}},{key:"set",value:function(i,u,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),vf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",120),Q(z(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"Q":case"QQ":return Ze(u.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=1&&u<=4}},{key:"set",value:function(i,u,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),mf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",120),Q(z(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"q":case"qq":return Ze(u.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=1&&u<=4}},{key:"set",value:function(i,u,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),yf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Q(z(n),"priority",110),n}return we(r,[{key:"parse",value:function(i,u,s){var h=function(T){return T-1};switch(u){case"M":return it(ze(at.month,i),h);case"MM":return it(Ze(2,i),h);case"Mo":return it(s.ordinalNumber(i,{unit:"month"}),h);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),gf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",110),Q(z(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){var h=function(T){return T-1};switch(u){case"L":return it(ze(at.month,i),h);case"LL":return it(Ze(2,i),h);case"Lo":return it(s.ordinalNumber(i,{unit:"month"}),h);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),r}(Ae);function bf(e,t,r){lt(2,arguments);var n=Ot(e),i=At(t),u=yu(n,r)-i;return n.setUTCDate(n.getUTCDate()-u*7),n}var wf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",100),Q(z(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"w":return ze(at.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=53}},{key:"set",value:function(i,u,s,h){return qr(bf(i,s,h),h)}}]),r}(Ae);function _f(e,t){lt(2,arguments);var r=Ot(e),n=At(t),i=mu(r)-n;return r.setUTCDate(r.getUTCDate()-i*7),r}var xf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",100),Q(z(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"I":return ze(at.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=53}},{key:"set",value:function(i,u,s){return nn(_f(i,s))}}]),r}(Ae),Tf=[31,28,31,30,31,30,31,31,30,31,30,31],Pf=[31,29,31,30,31,30,31,31,30,31,30,31],Of=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"subPriority",1),Q(z(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"d":return ze(at.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){var s=i.getUTCFullYear(),h=ku(s),v=i.getUTCMonth();return h?u>=1&&u<=Pf[v]:u>=1&&u<=Tf[v]}},{key:"set",value:function(i,u,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),kf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"subpriority",1),Q(z(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"D":case"DD":return ze(at.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){var s=i.getUTCFullYear(),h=ku(s);return h?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(i,u,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),r}(Ae);function po(e,t,r){var n,i,u,s,h,v,T,M;lt(2,arguments);var D=un(),q=At((n=(i=(u=(s=r==null?void 0:r.weekStartsOn)!==null&&s!==void 0?s:r==null||(h=r.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&u!==void 0?u:D.weekStartsOn)!==null&&i!==void 0?i:(T=D.locale)===null||T===void 0||(M=T.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&n!==void 0?n:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var N=Ot(e),$=At(t),F=N.getUTCDay(),Z=$%7,X=(Z+7)%7,U=(X<q?7:0)+$-F;return N.setUTCDate(N.getUTCDate()+U),N}var Cf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=po(i,s,h),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),Sf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s,h){var v=function(M){var D=Math.floor((M-1)/7)*7;return(M+h.weekStartsOn+6)%7+D};switch(u){case"e":case"ee":return it(Ze(u.length,i),v);case"eo":return it(s.ordinalNumber(i,{unit:"day"}),v);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=po(i,s,h),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),Ef=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s,h){var v=function(M){var D=Math.floor((M-1)/7)*7;return(M+h.weekStartsOn+6)%7+D};switch(u){case"c":case"cc":return it(Ze(u.length,i),v);case"co":return it(s.ordinalNumber(i,{unit:"day"}),v);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=po(i,s,h),i.setUTCHours(0,0,0,0),i}}]),r}(Ae);function Df(e,t){lt(2,arguments);var r=At(t);r%7===0&&(r=r-7);var n=1,i=Ot(e),u=i.getUTCDay(),s=r%7,h=(s+7)%7,v=(h<n?7:0)+r-u;return i.setUTCDate(i.getUTCDate()+v),i}var Af=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",90),Q(z(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){var h=function(T){return T===0?7:T};switch(u){case"i":case"ii":return Ze(u.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return it(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h);case"iiiii":return it(s.day(i,{width:"narrow",context:"formatting"}),h);case"iiiiii":return it(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h);case"iiii":default:return it(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h)}}},{key:"validate",value:function(i,u){return u>=1&&u<=7}},{key:"set",value:function(i,u,s){return i=Df(i,s),i.setUTCHours(0,0,0,0),i}}]),r}(Ae),Mf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",80),Q(z(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(ho(s),0,0,0),i}}]),r}(Ae),If=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",80),Q(z(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(ho(s),0,0,0),i}}]),r}(Ae),jf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",80),Q(z(n),"incompatibleTokens",["a","b","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(ho(s),0,0,0),i}}]),r}(Ae),Uf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",70),Q(z(n),"incompatibleTokens",["H","K","k","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"h":return ze(at.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=12}},{key:"set",value:function(i,u,s){var h=i.getUTCHours()>=12;return h&&s<12?i.setUTCHours(s+12,0,0,0):!h&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),r}(Ae),Rf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",70),Q(z(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"H":return ze(at.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=23}},{key:"set",value:function(i,u,s){return i.setUTCHours(s,0,0,0),i}}]),r}(Ae),qf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",70),Q(z(n),"incompatibleTokens",["h","H","k","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"K":return ze(at.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){var h=i.getUTCHours()>=12;return h&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),r}(Ae),Nf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",70),Q(z(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"k":return ze(at.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=24}},{key:"set",value:function(i,u,s){var h=s<=24?s%24:s;return i.setUTCHours(h,0,0,0),i}}]),r}(Ae),Bf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",60),Q(z(n),"incompatibleTokens",["t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"m":return ze(at.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=59}},{key:"set",value:function(i,u,s){return i.setUTCMinutes(s,0,0),i}}]),r}(Ae),Lf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",50),Q(z(n),"incompatibleTokens",["t","T"]),n}return we(r,[{key:"parse",value:function(i,u,s){switch(u){case"s":return ze(at.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Ze(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=59}},{key:"set",value:function(i,u,s){return i.setUTCSeconds(s,0),i}}]),r}(Ae),Ff=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",30),Q(z(n),"incompatibleTokens",["t","T"]),n}return we(r,[{key:"parse",value:function(i,u){var s=function(v){return Math.floor(v*Math.pow(10,-u.length+3))};return it(Ze(u.length,i),s)}},{key:"set",value:function(i,u,s){return i.setUTCMilliseconds(s),i}}]),r}(Ae),Kf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",10),Q(z(n),"incompatibleTokens",["t","T","x"]),n}return we(r,[{key:"parse",value:function(i,u){switch(u){case"X":return tr(er.basicOptionalMinutes,i);case"XX":return tr(er.basic,i);case"XXXX":return tr(er.basicOptionalSeconds,i);case"XXXXX":return tr(er.extendedOptionalSeconds,i);case"XXX":default:return tr(er.extended,i)}}},{key:"set",value:function(i,u,s){return u.timestampIsSet?i:new Date(i.getTime()-s)}}]),r}(Ae),Hf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",10),Q(z(n),"incompatibleTokens",["t","T","X"]),n}return we(r,[{key:"parse",value:function(i,u){switch(u){case"x":return tr(er.basicOptionalMinutes,i);case"xx":return tr(er.basic,i);case"xxxx":return tr(er.basicOptionalSeconds,i);case"xxxxx":return tr(er.extendedOptionalSeconds,i);case"xxx":default:return tr(er.extended,i)}}},{key:"set",value:function(i,u,s){return u.timestampIsSet?i:new Date(i.getTime()-s)}}]),r}(Ae),Yf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",40),Q(z(n),"incompatibleTokens","*"),n}return we(r,[{key:"parse",value:function(i){return Pu(i)}},{key:"set",value:function(i,u,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),r}(Ae),Wf=function(e){xe(r,e);var t=Te(r);function r(){var n;be(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=t.call.apply(t,[this].concat(u)),Q(z(n),"priority",20),Q(z(n),"incompatibleTokens","*"),n}return we(r,[{key:"parse",value:function(i){return Pu(i)}},{key:"set",value:function(i,u,s){return[new Date(s),{timestampIsSet:!0}]}}]),r}(Ae),$f={G:new lf,y:new ff,Y:new df,R:new hf,u:new pf,Q:new vf,q:new mf,M:new yf,L:new gf,w:new wf,I:new xf,d:new Of,D:new kf,E:new Cf,e:new Sf,c:new Ef,i:new Af,a:new Mf,b:new If,B:new jf,h:new Uf,H:new Rf,K:new qf,k:new Nf,m:new Bf,s:new Lf,S:new Ff,X:new Kf,x:new Hf,t:new Yf,T:new Wf},Gf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zf=/^'([^]*?)'?$/,Vf=/''/g,Xf=/\S/,Jf=/[a-zA-Z]/;function bs(e,t,r,n){var i,u,s,h,v,T,M,D,q,N,$,F,Z,X;lt(3,arguments);var U=String(e),ee=String(t),oe=un(),de=(i=(u=void 0)!==null&&u!==void 0?u:oe.locale)!==null&&i!==void 0?i:_u;if(!de.match)throw new RangeError("locale must contain match property");var J=At((s=(h=(v=(T=void 0)!==null&&T!==void 0?T:void 0)!==null&&v!==void 0?v:oe.firstWeekContainsDate)!==null&&h!==void 0?h:(M=oe.locale)===null||M===void 0||(D=M.options)===null||D===void 0?void 0:D.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(J>=1&&J<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ne=At((q=(N=($=(F=void 0)!==null&&F!==void 0?F:void 0)!==null&&$!==void 0?$:oe.weekStartsOn)!==null&&N!==void 0?N:(Z=oe.locale)===null||Z===void 0||(X=Z.options)===null||X===void 0?void 0:X.weekStartsOn)!==null&&q!==void 0?q:0);if(!(ne>=0&&ne<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(ee==="")return U===""?Ot(r):new Date(NaN);var se={firstWeekContainsDate:J,weekStartsOn:ne,locale:de},Pe=[new cf],Me=ee.match(Qf).map(function(ie){var ye=ie[0];if(ye in Bi){var je=Bi[ye];return je(ie,de.formatLong)}return ie}).join("").match(Gf),te=[],le=gs(Me),Se;try{var Ve=function(){var ye=Se.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&wu(ye)&&Ea(ye,ee,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&bu(ye)&&Ea(ye,ee,e);var je=ye[0],vt=$f[je];if(vt){var ir=vt.incompatibleTokens;if(Array.isArray(ir)){var re=te.find(function(qt){return ir.includes(qt.token)||qt.token===je});if(re)throw new RangeError("The format string mustn't contain `".concat(re.fullToken,"` and `").concat(ye,"` at the same time"))}else if(vt.incompatibleTokens==="*"&&te.length>0)throw new RangeError("The format string mustn't contain `".concat(ye,"` and any other token at the same time"));te.push({token:je,fullToken:ye});var wt=vt.run(U,ye,de.match,se);if(!wt)return{v:new Date(NaN)};Pe.push(wt.setter),U=wt.rest}else{if(je.match(Jf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+je+"`");if(ye==="''"?ye="'":je==="'"&&(ye=Zf(ye)),U.indexOf(ye)===0)U=U.slice(ye.length);else return{v:new Date(NaN)}}};for(le.s();!(Se=le.n()).done;){var ot=Ve();if(lr(ot)==="object")return ot.v}}catch(ie){le.e(ie)}finally{le.f()}if(U.length>0&&Xf.test(U))return new Date(NaN);var bt=Pe.map(function(ie){return ie.priority}).sort(function(ie,ye){return ye-ie}).filter(function(ie,ye,je){return je.indexOf(ie)===ye}).map(function(ie){return Pe.filter(function(ye){return ye.priority===ie}).sort(function(ye,je){return je.subPriority-ye.subPriority})}).map(function(ie){return ie[0]}),ft=Ot(r);if(isNaN(ft.getTime()))return new Date(NaN);var Ye=pu(ft,hu(ft)),st={},Xe=gs(bt),dt;try{for(Xe.s();!(dt=Xe.n()).done;){var Gt=dt.value;if(!Gt.validate(Ye,se))return new Date(NaN);var Be=Gt.set(Ye,st,se);Array.isArray(Be)?(Ye=Be[0],ef(st,Be[1])):Ye=Be}}catch(ie){Xe.e(ie)}finally{Xe.f()}return Ye}function Zf(e){return e.match(zf)[1].replace(Vf,"'")}function Pa(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Kt=Array.isArray,Cu=typeof global=="object"&&global&&global.Object===Object&&global,ed=typeof self=="object"&&self&&self.Object===Object&&self,fr=Cu||ed||Function("return this")(),Or=fr.Symbol,Su=Object.prototype,td=Su.hasOwnProperty,rd=Su.toString,kn=Or?Or.toStringTag:void 0;function nd(e){var t=td.call(e,kn),r=e[kn];try{e[kn]=void 0;var n=!0}catch{}var i=rd.call(e);return n&&(t?e[kn]=r:delete e[kn]),i}var ad=Object.prototype,id=ad.toString;function od(e){return id.call(e)}var sd="[object Null]",ud="[object Undefined]",ws=Or?Or.toStringTag:void 0;function cn(e){return e==null?e===void 0?ud:sd:ws&&ws in Object(e)?nd(e):od(e)}function an(e){return e!=null&&typeof e=="object"}var cd="[object Symbol]";function on(e){return typeof e=="symbol"||an(e)&&cn(e)==cd}var ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fd=/^\w*$/;function vo(e,t){if(Kt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||on(e)?!0:fd.test(e)||!ld.test(e)||t!=null&&e in Object(t)}function mo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dd="[object AsyncFunction]",hd="[object Function]",pd="[object GeneratorFunction]",vd="[object Proxy]";function Eu(e){if(!mo(e))return!1;var t=cn(e);return t==hd||t==pd||t==dd||t==vd}var Ci=fr["__core-js_shared__"],_s=function(){var e=/[^.]+$/.exec(Ci&&Ci.keys&&Ci.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function md(e){return!!_s&&_s in e}var yd=Function.prototype,gd=yd.toString;function Fr(e){if(e!=null){try{return gd.call(e)}catch{}try{return e+""}catch{}}return""}var bd=/[\\^$.*+?()[\]{}|]/g,wd=/^\[object .+?Constructor\]$/,_d=Function.prototype,xd=Object.prototype,Td=_d.toString,Pd=xd.hasOwnProperty,Od=RegExp("^"+Td.call(Pd).replace(bd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kd(e){if(!mo(e)||md(e))return!1;var t=Eu(e)?Od:wd;return t.test(Fr(e))}function Cd(e,t){return e==null?void 0:e[t]}function ln(e,t){var r=Cd(e,t);return kd(r)?r:void 0}var Un=ln(Object,"create");function Sd(){this.__data__=Un?Un(null):{},this.size=0}function Ed(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dd="__lodash_hash_undefined__",Ad=Object.prototype,Md=Ad.hasOwnProperty;function Id(e){var t=this.__data__;if(Un){var r=t[e];return r===Dd?void 0:r}return Md.call(t,e)?t[e]:void 0}var jd=Object.prototype,Ud=jd.hasOwnProperty;function Rd(e){var t=this.__data__;return Un?t[e]!==void 0:Ud.call(t,e)}var qd="__lodash_hash_undefined__";function Nd(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Un&&t===void 0?qd:t,this}function Nr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nr.prototype.clear=Sd;Nr.prototype.delete=Ed;Nr.prototype.get=Id;Nr.prototype.has=Rd;Nr.prototype.set=Nd;function Bd(){this.__data__=[],this.size=0}function Du(e,t){return e===t||e!==e&&t!==t}function Fa(e,t){for(var r=e.length;r--;)if(Du(e[r][0],t))return r;return-1}var Ld=Array.prototype,Fd=Ld.splice;function Kd(e){var t=this.__data__,r=Fa(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fd.call(t,r,1),--this.size,!0}function Hd(e){var t=this.__data__,r=Fa(t,e);return r<0?void 0:t[r][1]}function Yd(e){return Fa(this.__data__,e)>-1}function Wd(e,t){var r=this.__data__,n=Fa(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function dr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dr.prototype.clear=Bd;dr.prototype.delete=Kd;dr.prototype.get=Hd;dr.prototype.has=Yd;dr.prototype.set=Wd;var Rn=ln(fr,"Map");function $d(){this.size=0,this.__data__={hash:new Nr,map:new(Rn||dr),string:new Nr}}function Gd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ka(e,t){var r=e.__data__;return Gd(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Qd(e){var t=Ka(this,e).delete(e);return this.size-=t?1:0,t}function zd(e){return Ka(this,e).get(e)}function Vd(e){return Ka(this,e).has(e)}function Xd(e,t){var r=Ka(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function hr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hr.prototype.clear=$d;hr.prototype.delete=Qd;hr.prototype.get=zd;hr.prototype.has=Vd;hr.prototype.set=Xd;var Jd="Expected a function";function yo(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jd);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],u=r.cache;if(u.has(i))return u.get(i);var s=e.apply(this,n);return r.cache=u.set(i,s)||u,s};return r.cache=new(yo.Cache||hr),r}yo.Cache=hr;var Zd=500;function eh(e){var t=yo(e,function(n){return r.size===Zd&&r.clear(),n}),r=t.cache;return t}var th=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rh=/\\(\\)?/g,nh=eh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(th,function(r,n,i,u){t.push(i?u.replace(rh,"$1"):n||r)}),t}),ah=1/0,xs=Or?Or.prototype:void 0,Ts=xs?xs.toString:void 0;function Au(e){if(typeof e=="string")return e;if(Kt(e))return Pa(e,Au)+"";if(on(e))return Ts?Ts.call(e):"";var t=e+"";return t=="0"&&1/e==-ah?"-0":t}function ih(e){return e==null?"":Au(e)}function Mu(e,t){return Kt(e)?e:vo(e,t)?[e]:nh(ih(e))}var oh=1/0;function Ha(e){if(typeof e=="string"||on(e))return e;var t=e+"";return t=="0"&&1/e==-oh?"-0":t}function go(e,t){t=Mu(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ha(t[r++])];return r&&r==n?e:void 0}function sh(){this.__data__=new dr,this.size=0}function uh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ch(e){return this.__data__.get(e)}function lh(e){return this.__data__.has(e)}var fh=200;function dh(e,t){var r=this.__data__;if(r instanceof dr){var n=r.__data__;if(!Rn||n.length<fh-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new hr(n)}return r.set(e,t),this.size=r.size,this}function cr(e){var t=this.__data__=new dr(e);this.size=t.size}cr.prototype.clear=sh;cr.prototype.delete=uh;cr.prototype.get=ch;cr.prototype.has=lh;cr.prototype.set=dh;var hh="__lodash_hash_undefined__";function ph(e){return this.__data__.set(e,hh),this}function vh(e){return this.__data__.has(e)}function Ma(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hr;++t<r;)this.add(e[t])}Ma.prototype.add=Ma.prototype.push=ph;Ma.prototype.has=vh;function mh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function yh(e,t){return e.has(t)}var gh=1,bh=2;function Iu(e,t,r,n,i,u){var s=r&gh,h=e.length,v=t.length;if(h!=v&&!(s&&v>h))return!1;var T=u.get(e),M=u.get(t);if(T&&M)return T==t&&M==e;var D=-1,q=!0,N=r&bh?new Ma:void 0;for(u.set(e,t),u.set(t,e);++D<h;){var $=e[D],F=t[D];if(n)var Z=s?n(F,$,D,t,e,u):n($,F,D,e,t,u);if(Z!==void 0){if(Z)continue;q=!1;break}if(N){if(!mh(t,function(X,U){if(!yh(N,U)&&($===X||i($,X,r,n,u)))return N.push(U)})){q=!1;break}}else if(!($===F||i($,F,r,n,u))){q=!1;break}}return u.delete(e),u.delete(t),q}var Ps=fr.Uint8Array;function wh(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function _h(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var xh=1,Th=2,Ph="[object Boolean]",Oh="[object Date]",kh="[object Error]",Ch="[object Map]",Sh="[object Number]",Eh="[object RegExp]",Dh="[object Set]",Ah="[object String]",Mh="[object Symbol]",Ih="[object ArrayBuffer]",jh="[object DataView]",Os=Or?Or.prototype:void 0,Si=Os?Os.valueOf:void 0;function Uh(e,t,r,n,i,u,s){switch(r){case jh:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ih:return!(e.byteLength!=t.byteLength||!u(new Ps(e),new Ps(t)));case Ph:case Oh:case Sh:return Du(+e,+t);case kh:return e.name==t.name&&e.message==t.message;case Eh:case Ah:return e==t+"";case Ch:var h=wh;case Dh:var v=n&xh;if(h||(h=_h),e.size!=t.size&&!v)return!1;var T=s.get(e);if(T)return T==t;n|=Th,s.set(e,t);var M=Iu(h(e),h(t),n,i,u,s);return s.delete(e),M;case Mh:if(Si)return Si.call(e)==Si.call(t)}return!1}function Rh(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function qh(e,t,r){var n=t(e);return Kt(e)?n:Rh(n,r(e))}function Nh(e,t){for(var r=-1,n=e==null?0:e.length,i=0,u=[];++r<n;){var s=e[r];t(s,r,e)&&(u[i++]=s)}return u}function Bh(){return[]}var Lh=Object.prototype,Fh=Lh.propertyIsEnumerable,ks=Object.getOwnPropertySymbols,Kh=ks?function(e){return e==null?[]:(e=Object(e),Nh(ks(e),function(t){return Fh.call(e,t)}))}:Bh;function Hh(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Yh="[object Arguments]";function Cs(e){return an(e)&&cn(e)==Yh}var ju=Object.prototype,Wh=ju.hasOwnProperty,$h=ju.propertyIsEnumerable,Uu=Cs(function(){return arguments}())?Cs:function(e){return an(e)&&Wh.call(e,"callee")&&!$h.call(e,"callee")};function Gh(){return!1}var Ru=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ss=Ru&&typeof module=="object"&&module&&!module.nodeType&&module,Qh=Ss&&Ss.exports===Ru,Es=Qh?fr.Buffer:void 0,zh=Es?Es.isBuffer:void 0,Fi=zh||Gh,Vh=9007199254740991,Xh=/^(?:0|[1-9]\d*)$/;function qu(e,t){var r=typeof e;return t=t??Vh,!!t&&(r=="number"||r!="symbol"&&Xh.test(e))&&e>-1&&e%1==0&&e<t}var Jh=9007199254740991;function bo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jh}var Zh="[object Arguments]",ep="[object Array]",tp="[object Boolean]",rp="[object Date]",np="[object Error]",ap="[object Function]",ip="[object Map]",op="[object Number]",sp="[object Object]",up="[object RegExp]",cp="[object Set]",lp="[object String]",fp="[object WeakMap]",dp="[object ArrayBuffer]",hp="[object DataView]",pp="[object Float32Array]",vp="[object Float64Array]",mp="[object Int8Array]",yp="[object Int16Array]",gp="[object Int32Array]",bp="[object Uint8Array]",wp="[object Uint8ClampedArray]",_p="[object Uint16Array]",xp="[object Uint32Array]",Fe={};Fe[pp]=Fe[vp]=Fe[mp]=Fe[yp]=Fe[gp]=Fe[bp]=Fe[wp]=Fe[_p]=Fe[xp]=!0;Fe[Zh]=Fe[ep]=Fe[dp]=Fe[tp]=Fe[hp]=Fe[rp]=Fe[np]=Fe[ap]=Fe[ip]=Fe[op]=Fe[sp]=Fe[up]=Fe[cp]=Fe[lp]=Fe[fp]=!1;function Tp(e){return an(e)&&bo(e.length)&&!!Fe[cn(e)]}function Nu(e){return function(t){return e(t)}}var Bu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dn=Bu&&typeof module=="object"&&module&&!module.nodeType&&module,Pp=Dn&&Dn.exports===Bu,Ei=Pp&&Cu.process,Ds=function(){try{var e=Dn&&Dn.require&&Dn.require("util").types;return e||Ei&&Ei.binding&&Ei.binding("util")}catch{}}(),As=Ds&&Ds.isTypedArray,Lu=As?Nu(As):Tp,Op=Object.prototype,kp=Op.hasOwnProperty;function Cp(e,t){var r=Kt(e),n=!r&&Uu(e),i=!r&&!n&&Fi(e),u=!r&&!n&&!i&&Lu(e),s=r||n||i||u,h=s?Hh(e.length,String):[],v=h.length;for(var T in e)kp.call(e,T)&&!(s&&(T=="length"||i&&(T=="offset"||T=="parent")||u&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||qu(T,v)))&&h.push(T);return h}var Sp=Object.prototype;function Ep(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Sp;return e===r}function Dp(e,t){return function(r){return e(t(r))}}var Ap=Dp(Object.keys,Object),Mp=Object.prototype,Ip=Mp.hasOwnProperty;function jp(e){if(!Ep(e))return Ap(e);var t=[];for(var r in Object(e))Ip.call(e,r)&&r!="constructor"&&t.push(r);return t}function wo(e){return e!=null&&bo(e.length)&&!Eu(e)}function _o(e){return wo(e)?Cp(e):jp(e)}function Ms(e){return qh(e,_o,Kh)}var Up=1,Rp=Object.prototype,qp=Rp.hasOwnProperty;function Np(e,t,r,n,i,u){var s=r&Up,h=Ms(e),v=h.length,T=Ms(t),M=T.length;if(v!=M&&!s)return!1;for(var D=v;D--;){var q=h[D];if(!(s?q in t:qp.call(t,q)))return!1}var N=u.get(e),$=u.get(t);if(N&&$)return N==t&&$==e;var F=!0;u.set(e,t),u.set(t,e);for(var Z=s;++D<v;){q=h[D];var X=e[q],U=t[q];if(n)var ee=s?n(U,X,q,t,e,u):n(X,U,q,e,t,u);if(!(ee===void 0?X===U||i(X,U,r,n,u):ee)){F=!1;break}Z||(Z=q=="constructor")}if(F&&!Z){var oe=e.constructor,de=t.constructor;oe!=de&&"constructor"in e&&"constructor"in t&&!(typeof oe=="function"&&oe instanceof oe&&typeof de=="function"&&de instanceof de)&&(F=!1)}return u.delete(e),u.delete(t),F}var Ki=ln(fr,"DataView"),Hi=ln(fr,"Promise"),Yi=ln(fr,"Set"),Wi=ln(fr,"WeakMap"),Is="[object Map]",Bp="[object Object]",js="[object Promise]",Us="[object Set]",Rs="[object WeakMap]",qs="[object DataView]",Lp=Fr(Ki),Fp=Fr(Rn),Kp=Fr(Hi),Hp=Fr(Yi),Yp=Fr(Wi),Tr=cn;(Ki&&Tr(new Ki(new ArrayBuffer(1)))!=qs||Rn&&Tr(new Rn)!=Is||Hi&&Tr(Hi.resolve())!=js||Yi&&Tr(new Yi)!=Us||Wi&&Tr(new Wi)!=Rs)&&(Tr=function(e){var t=cn(e),r=t==Bp?e.constructor:void 0,n=r?Fr(r):"";if(n)switch(n){case Lp:return qs;case Fp:return Is;case Kp:return js;case Hp:return Us;case Yp:return Rs}return t});var Wp=1,Ns="[object Arguments]",Bs="[object Array]",_a="[object Object]",$p=Object.prototype,Ls=$p.hasOwnProperty;function Gp(e,t,r,n,i,u){var s=Kt(e),h=Kt(t),v=s?Bs:Tr(e),T=h?Bs:Tr(t);v=v==Ns?_a:v,T=T==Ns?_a:T;var M=v==_a,D=T==_a,q=v==T;if(q&&Fi(e)){if(!Fi(t))return!1;s=!0,M=!1}if(q&&!M)return u||(u=new cr),s||Lu(e)?Iu(e,t,r,n,i,u):Uh(e,t,v,r,n,i,u);if(!(r&Wp)){var N=M&&Ls.call(e,"__wrapped__"),$=D&&Ls.call(t,"__wrapped__");if(N||$){var F=N?e.value():e,Z=$?t.value():t;return u||(u=new cr),i(F,Z,r,n,u)}}return q?(u||(u=new cr),Np(e,t,r,n,i,u)):!1}function xo(e,t,r,n,i){return e===t?!0:e==null||t==null||!an(e)&&!an(t)?e!==e&&t!==t:Gp(e,t,r,n,xo,i)}var Qp=1,zp=2;function Vp(e,t,r,n){var i=r.length,u=i;if(e==null)return!u;for(e=Object(e);i--;){var s=r[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<u;){s=r[i];var h=s[0],v=e[h],T=s[1];if(s[2]){if(v===void 0&&!(h in e))return!1}else{var M=new cr,D;if(!(D===void 0?xo(T,v,Qp|zp,n,M):D))return!1}}return!0}function Fu(e){return e===e&&!mo(e)}function Xp(e){for(var t=_o(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Fu(i)]}return t}function Ku(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Jp(e){var t=Xp(e);return t.length==1&&t[0][2]?Ku(t[0][0],t[0][1]):function(r){return r===e||Vp(r,e,t)}}function Zp(e,t,r){var n=e==null?void 0:go(e,t);return n===void 0?r:n}function ev(e,t){return e!=null&&t in Object(e)}function tv(e,t,r){t=Mu(t,e);for(var n=-1,i=t.length,u=!1;++n<i;){var s=Ha(t[n]);if(!(u=e!=null&&r(e,s)))break;e=e[s]}return u||++n!=i?u:(i=e==null?0:e.length,!!i&&bo(i)&&qu(s,i)&&(Kt(e)||Uu(e)))}function rv(e,t){return e!=null&&tv(e,t,ev)}var nv=1,av=2;function iv(e,t){return vo(e)&&Fu(t)?Ku(Ha(e),t):function(r){var n=Zp(r,e);return n===void 0&&n===t?rv(r,e):xo(t,n,nv|av)}}function Hu(e){return e}function ov(e){return function(t){return t==null?void 0:t[e]}}function sv(e){return function(t){return go(t,e)}}function uv(e){return vo(e)?ov(Ha(e)):sv(e)}function Yu(e){return typeof e=="function"?e:e==null?Hu:typeof e=="object"?Kt(e)?iv(e[0],e[1]):Jp(e):uv(e)}function cv(e){return function(t,r,n){for(var i=-1,u=Object(t),s=n(t),h=s.length;h--;){var v=s[++i];if(r(u[v],v,u)===!1)break}return t}}var lv=cv();function fv(e,t){return e&&lv(e,t,_o)}function dv(e,t){return function(r,n){if(r==null)return r;if(!wo(r))return e(r,n);for(var i=r.length,u=-1,s=Object(r);++u<i&&n(s[u],u,s)!==!1;);return r}}var hv=dv(fv);function pv(e,t){var r=-1,n=wo(e)?Array(e.length):[];return hv(e,function(i,u,s){n[++r]=t(i,u,s)}),n}function vv(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function mv(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,u=on(e),s=t!==void 0,h=t===null,v=t===t,T=on(t);if(!h&&!T&&!u&&e>t||u&&s&&v&&!h&&!T||n&&s&&v||!r&&v||!i)return 1;if(!n&&!u&&!T&&e<t||T&&r&&i&&!n&&!u||h&&r&&i||!s&&i||!v)return-1}return 0}function yv(e,t,r){for(var n=-1,i=e.criteria,u=t.criteria,s=i.length,h=r.length;++n<s;){var v=mv(i[n],u[n]);if(v){if(n>=h)return v;var T=r[n];return v*(T=="desc"?-1:1)}}return e.index-t.index}function gv(e,t,r){t.length?t=Pa(t,function(u){return Kt(u)?function(s){return go(s,u.length===1?u[0]:u)}:u}):t=[Hu];var n=-1;t=Pa(t,Nu(Yu));var i=pv(e,function(u,s,h){var v=Pa(t,function(T){return T(u)});return{criteria:v,index:++n,value:u}});return vv(i,function(u,s){return yv(u,s,r)})}function bv(e,t,r,n){return e==null?[]:(Kt(t)||(t=t==null?[]:[t]),r=r,Kt(r)||(r=r==null?[]:[r]),gv(e,t,r))}let An=yt([]);var Bn,Ln,Fn;class To{constructor(t){Ut(this,Bn,Dt(null));Tn(this,"_id");Ut(this,Ln,Dt(null));Ut(this,Fn,Dt(!1));this._id=t}get data(){return R(Ge(this,Bn))}set data(t){Ke(Ge(this,Bn),yt(t))}get selected(){return R(Ge(this,Ln))}set selected(t){Ke(Ge(this,Ln),yt(t))}get loading(){return R(Ge(this,Fn))}set loading(t){Ke(Ge(this,Fn),yt(t))}replace(t){Array.isArray(t)?this.data=[...t,...this.data?this.data.filter(r=>t.map(n=>n[this._id]).includes(r[this._id])):[]]:this.data=[...this.data?this.data.filter(r=>r[this._id]!==t[this._id]):[],t]}remove(t){this.data&&(Array.isArray(t)?this.data=this.data.filter(r=>!t.map(n=>n[this._id]).includes(r[this._id])):this.data=this.data.filter(r=>r[this._id]!==t[this._id]))}reset(){this.data=null}add(t){Array.isArray(t)?this.data=[...this.data??[],...t]:this.data=[...this.data??[],t]}}Bn=new WeakMap,Ln=new WeakMap,Fn=new WeakMap;const wv=sn([]),_v=sn([]),Fs=sn(" | ");var Kn,Hn,qa;class xv{constructor(){Ut(this,Kn,Dt(yt([])));Ut(this,Hn,Dt(""));Ut(this,qa,en(()=>this.logs?this.filterText==""?this.logs:this.logs.filter(r=>{if(typeof r=="object"&&r.message)return r.message.toLowerCase().includes(this.filterText.toLowerCase());if(typeof r=="string")return r.toLowerCase().includes(this.filterText.toLowerCase())}):void 0))}get logs(){return R(Ge(this,Kn))}set logs(t){Ke(Ge(this,Kn),yt(t))}get filterText(){return R(Ge(this,Hn))}set filterText(t){Ke(Ge(this,Hn),yt(t))}get filteredLogs(){return R(Ge(this,qa))}}Kn=new WeakMap,Hn=new WeakMap,qa=new WeakMap;var Ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wu={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ks,function(){var r=function(a,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])})(a,o)},n=function(){return(n=Object.assign||function(a){for(var o,c=1,l=arguments.length;c<l;c++)for(var f in o=arguments[c])Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f]);return a}).apply(this,arguments)};function i(a,o,c){for(var l,f=0,d=o.length;f<d;f++)!l&&f in o||((l=l||Array.prototype.slice.call(o,0,f))[f]=o[f]);return a.concat(l||Array.prototype.slice.call(o))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ks,s=Object.keys,h=Array.isArray;function v(a,o){return typeof o!="object"||s(o).forEach(function(c){a[c]=o[c]}),a}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var T=Object.getPrototypeOf,M={}.hasOwnProperty;function D(a,o){return M.call(a,o)}function q(a,o){typeof o=="function"&&(o=o(T(a))),(typeof Reflect>"u"?s:Reflect.ownKeys)(o).forEach(function(c){$(a,c,o[c])})}var N=Object.defineProperty;function $(a,o,c,l){N(a,o,v(c&&D(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},l))}function F(a){return{from:function(o){return a.prototype=Object.create(o.prototype),$(a.prototype,"constructor",a),{extend:q.bind(null,a.prototype)}}}}var Z=Object.getOwnPropertyDescriptor,X=[].slice;function U(a,o,c){return X.call(a,o,c)}function ee(a,o){return o(a)}function oe(a){if(!a)throw new Error("Assertion Failed")}function de(a){u.setImmediate?setImmediate(a):setTimeout(a,0)}function J(a,o){if(typeof o=="string"&&D(a,o))return a[o];if(!o)return a;if(typeof o!="string"){for(var c=[],l=0,f=o.length;l<f;++l){var d=J(a,o[l]);c.push(d)}return c}var p=o.indexOf(".");if(p!==-1){var m=a[o.substr(0,p)];return m==null?void 0:J(m,o.substr(p+1))}}function ne(a,o,c){if(a&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof o!="string"&&"length"in o){oe(typeof c!="string"&&"length"in c);for(var l=0,f=o.length;l<f;++l)ne(a,o[l],c[l])}else{var d,p,m=o.indexOf(".");m!==-1?(d=o.substr(0,m),(p=o.substr(m+1))===""?c===void 0?h(a)&&!isNaN(parseInt(d))?a.splice(d,1):delete a[d]:a[d]=c:ne(m=!(m=a[d])||!D(a,d)?a[d]={}:m,p,c)):c===void 0?h(a)&&!isNaN(parseInt(o))?a.splice(o,1):delete a[o]:a[o]=c}}function se(a){var o,c={};for(o in a)D(a,o)&&(c[o]=a[o]);return c}var Pe=[].concat;function Me(a){return Pe.apply([],a)}var sr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Me([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(o){return o+a+"Array"})}))).filter(function(a){return u[a]}),te=new Set(sr.map(function(a){return u[a]})),le=null;function Se(a){return le=new WeakMap,a=function o(c){if(!c||typeof c!="object")return c;var l=le.get(c);if(l)return l;if(h(c)){l=[],le.set(c,l);for(var f=0,d=c.length;f<d;++f)l.push(o(c[f]))}else if(te.has(c.constructor))l=c;else{var p,m=T(c);for(p in l=m===Object.prototype?{}:Object.create(m),le.set(c,l),c)D(c,p)&&(l[p]=o(c[p]))}return l}(a),le=null,a}var Ve={}.toString;function ot(a){return Ve.call(a).slice(8,-1)}var bt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ft=typeof bt=="symbol"?function(a){var o;return a!=null&&(o=a[bt])&&o.apply(a)}:function(){return null};function Ye(a,o){return o=a.indexOf(o),0<=o&&a.splice(o,1),0<=o}var st={};function Xe(a){var o,c,l,f;if(arguments.length===1){if(h(a))return a.slice();if(this===st&&typeof a=="string")return[a];if(f=ft(a)){for(c=[];!(l=f.next()).done;)c.push(l.value);return c}if(a==null)return[a];if(typeof(o=a.length)!="number")return[a];for(c=new Array(o);o--;)c[o]=a[o];return c}for(o=arguments.length,c=new Array(o);o--;)c[o]=arguments[o];return c}var dt=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Bt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qe),Gt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Be(a,o){this.name=a,this.message=o}function ie(a,o){return a+". Errors: "+Object.keys(o).map(function(c){return o[c].toString()}).filter(function(c,l,f){return f.indexOf(c)===l}).join(`
`)}function ye(a,o,c,l){this.failures=o,this.failedKeys=l,this.successCount=c,this.message=ie(a,o)}function je(a,o){this.name="BulkError",this.failures=Object.keys(o).map(function(c){return o[c]}),this.failuresByPos=o,this.message=ie(a,this.failures)}F(Be).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(ye).from(Be),F(je).from(Be);var vt=Bt.reduce(function(a,o){return a[o]=o+"Error",a},{}),ir=Be,re=Bt.reduce(function(a,o){var c=o+"Error";function l(f,d){this.name=c,f?typeof f=="string"?(this.message="".concat(f).concat(d?`
 `+d:""),this.inner=d||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Gt[o]||c,this.inner=null)}return F(l).from(ir),a[o]=l,a},{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var wt=qe.reduce(function(a,o){return a[o+"Error"]=re[o],a},{}),qt=Bt.reduce(function(a,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(a[o+"Error"]=re[o]),a},{});function ge(){}function Qt(a){return a}function fn(a,o){return a==null||a===Qt?o:function(c){return o(a(c))}}function Nt(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}}function kr(a,o){return a===ge?o:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var l=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var d=o.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?Nt(l,this.onsuccess):l),f&&(this.onerror=this.onerror?Nt(f,this.onerror):f),d!==void 0?d:c}}function Cr(a,o){return a===ge?o:function(){a.apply(this,arguments);var c=this.onsuccess,l=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Nt(c,this.onsuccess):c),l&&(this.onerror=this.onerror?Nt(l,this.onerror):l)}}function Kr(a,o){return a===ge?o:function(c){var l=a.apply(this,arguments);v(c,l);var f=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,c=o.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Nt(f,this.onsuccess):f),d&&(this.onerror=this.onerror?Nt(d,this.onerror):d),l===void 0?c===void 0?void 0:c:v(l,c)}}function zt(a,o){return a===ge?o:function(){return o.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function vr(a,o){return a===ge?o:function(){var c=a.apply(this,arguments);if(c&&typeof c.then=="function"){for(var l=this,f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];return c.then(function(){return o.apply(l,d)})}return o.apply(this,arguments)}}qt.ModifyError=ye,qt.DexieError=Be,qt.BulkError=je;var _t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Sr(a){_t=a}var Vt={},Hr=100,sr=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,T(a),a];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,T(o),a]}(),qe=sr[0],Bt=sr[1],sr=sr[2],Bt=Bt&&Bt.then,Ee=qe&&qe.constructor,ut=!!sr,Je=function(a,o){Ct.push([a,o]),Et&&(queueMicrotask(gc),Et=!1)},kt=!0,Et=!0,et=[],We=[],Mt=Qt,Ne={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ge,pgp:!1,env:{},finalize:ge},V=Ne,Ct=[],Qe=0,It=[];function K(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=V;if(typeof a!="function"){if(a!==Vt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hn(this,this._value))}this._state=null,this._value=null,++o.ref,function c(l,f){try{f(function(d){if(l._state===null){if(d===l)throw new TypeError("A promise cannot be resolved with itself.");var p=l._lib&&Wr();d&&typeof d.then=="function"?c(l,function(m,w){d instanceof K?d._then(m,w):d.then(m,w)}):(l._state=!0,l._value=d,Xn(l)),p&&$r()}},hn.bind(null,l))}catch(d){hn(l,d)}}(this,a)}var Yr={get:function(){var a=V,o=ta;function c(l,f){var d=this,p=!a.global&&(a!==V||o!==ta),m=p&&!yr(),w=new K(function(g,P){pn(d,new dn(jo(l,a,p,m),jo(f,a,p,m),g,P,a))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return c.prototype=Vt,c},set:function(a){$(this,"then",a&&a.prototype===Vt?Yr:{get:function(){return a},set:Yr.set})}};function dn(a,o,c,l,f){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof o=="function"?o:null,this.resolve=c,this.reject=l,this.psd=f}function hn(a,o){var c,l;We.push(o),a._state===null&&(c=a._lib&&Wr(),o=Mt(o),a._state=!1,a._value=o,l=a,et.some(function(f){return f._value===l._value})||et.push(l),Xn(a),c&&$r())}function Xn(a){var o=a._listeners;a._listeners=[];for(var c=0,l=o.length;c<l;++c)pn(a,o[c]);var f=a._PSD;--f.ref||f.finalize(),Qe===0&&(++Qe,Je(function(){--Qe==0&&Qa()},[]))}function pn(a,o){if(a._state!==null){var c=a._state?o.onFulfilled:o.onRejected;if(c===null)return(a._state?o.resolve:o.reject)(a._value);++o.psd.ref,++Qe,Je(yc,[c,a,o])}else a._listeners.push(o)}function yc(a,o,c){try{var l,f=o._value;!o._state&&We.length&&(We=[]),l=_t&&o._consoleTask?o._consoleTask.run(function(){return a(f)}):a(f),o._state||We.indexOf(f)!==-1||function(d){for(var p=et.length;p;)if(et[--p]._value===d._value)return et.splice(p,1)}(o),c.resolve(l)}catch(d){c.reject(d)}finally{--Qe==0&&Qa(),--c.psd.ref||c.psd.finalize()}}function gc(){Er(Ne,function(){Wr()&&$r()})}function Wr(){var a=kt;return Et=kt=!1,a}function $r(){var a,o,c;do for(;0<Ct.length;)for(a=Ct,Ct=[],c=a.length,o=0;o<c;++o){var l=a[o];l[0].apply(null,l[1])}while(0<Ct.length);Et=kt=!0}function Qa(){var a=et;et=[],a.forEach(function(l){l._PSD.onunhandled.call(null,l._value,l)});for(var o=It.slice(0),c=o.length;c;)o[--c]()}function Jn(a){return new K(Vt,!1,a)}function $e(a,o){var c=V;return function(){var l=Wr(),f=V;try{return gr(c,!0),a.apply(this,arguments)}catch(d){o&&o(d)}finally{gr(f,!1),l&&$r()}}}q(K.prototype,{then:Yr,_then:function(a,o){pn(this,new dn(null,null,a,o,V))},catch:function(a){if(arguments.length===1)return this.then(null,a);var o=a,c=arguments[1];return typeof o=="function"?this.then(null,function(l){return(l instanceof o?c:Jn)(l)}):this.then(null,function(l){return(l&&l.name===o?c:Jn)(l)})},finally:function(a){return this.then(function(o){return K.resolve(a()).then(function(){return o})},function(o){return K.resolve(a()).then(function(){return Jn(o)})})},timeout:function(a,o){var c=this;return a<1/0?new K(function(l,f){var d=setTimeout(function(){return f(new re.Timeout(o))},a);c.then(l,f).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(K.prototype,Symbol.toStringTag,"Dexie.Promise"),Ne.env=Io(),q(K,{all:function(){var a=Xe.apply(null,arguments).map(ra);return new K(function(o,c){a.length===0&&o([]);var l=a.length;a.forEach(function(f,d){return K.resolve(f).then(function(p){a[d]=p,--l||o(a)},c)})})},resolve:function(a){return a instanceof K?a:a&&typeof a.then=="function"?new K(function(o,c){a.then(o,c)}):new K(Vt,!0,a)},reject:Jn,race:function(){var a=Xe.apply(null,arguments).map(ra);return new K(function(o,c){a.map(function(l){return K.resolve(l).then(o,c)})})},PSD:{get:function(){return V},set:function(a){return V=a}},totalEchoes:{get:function(){return ta}},newPSD:mr,usePSD:Er,scheduler:{get:function(){return Je},set:function(a){Je=a}},rejectionMapper:{get:function(){return Mt},set:function(a){Mt=a}},follow:function(a,o){return new K(function(c,l){return mr(function(f,d){var p=V;p.unhandleds=[],p.onunhandled=d,p.finalize=Nt(function(){var m,w=this;m=function(){w.unhandleds.length===0?f():d(w.unhandleds[0])},It.push(function g(){m(),It.splice(It.indexOf(g),1)}),++Qe,Je(function(){--Qe==0&&Qa()},[])},p.finalize),a()},o,c,l)})}}),Ee&&(Ee.allSettled&&$(K,"allSettled",function(){var a=Xe.apply(null,arguments).map(ra);return new K(function(o){a.length===0&&o([]);var c=a.length,l=new Array(c);a.forEach(function(f,d){return K.resolve(f).then(function(p){return l[d]={status:"fulfilled",value:p}},function(p){return l[d]={status:"rejected",reason:p}}).then(function(){return--c||o(l)})})})}),Ee.any&&typeof AggregateError<"u"&&$(K,"any",function(){var a=Xe.apply(null,arguments).map(ra);return new K(function(o,c){a.length===0&&c(new AggregateError([]));var l=a.length,f=new Array(l);a.forEach(function(d,p){return K.resolve(d).then(function(m){return o(m)},function(m){f[p]=m,--l||c(new AggregateError(f))})})})}));var ht={awaits:0,echoes:0,id:0},bc=0,Zn=[],ea=0,ta=0,wc=0;function mr(a,o,c,l){var f=V,d=Object.create(f);return d.parent=f,d.ref=0,d.global=!1,d.id=++wc,Ne.env,d.env=ut?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{},o&&v(d,o),++f.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},l=Er(d,a,c,l),d.ref===0&&d.finalize(),l}function Gr(){return ht.id||(ht.id=++bc),++ht.awaits,ht.echoes+=Hr,ht.id}function yr(){return!!ht.awaits&&(--ht.awaits==0&&(ht.id=0),ht.echoes=ht.awaits*Hr,!0)}function ra(a){return ht.echoes&&a&&a.constructor===Ee?(Gr(),a.then(function(o){return yr(),o},function(o){return yr(),tt(o)})):a}function _c(){var a=Zn[Zn.length-1];Zn.pop(),gr(a,!1)}function gr(a,o){var c,l=V;(o?!ht.echoes||ea++&&a===V:!ea||--ea&&a===V)||queueMicrotask(o?(function(f){++ta,ht.echoes&&--ht.echoes!=0||(ht.echoes=ht.awaits=ht.id=0),Zn.push(V),gr(f,!0)}).bind(null,a):_c),a!==V&&(V=a,l===Ne&&(Ne.env=Io()),ut&&(c=Ne.env.Promise,o=a.env,(l.global||a.global)&&(Object.defineProperty(u,"Promise",o.PromiseProp),c.all=o.all,c.race=o.race,c.resolve=o.resolve,c.reject=o.reject,o.allSettled&&(c.allSettled=o.allSettled),o.any&&(c.any=o.any))))}function Io(){var a=u.Promise;return ut?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Er(a,o,c,l,f){var d=V;try{return gr(a,!0),o(c,l,f)}finally{gr(d,!1)}}function jo(a,o,c,l){return typeof a!="function"?a:function(){var f=V;c&&Gr(),gr(o,!0);try{return a.apply(this,arguments)}finally{gr(f,!1),l&&queueMicrotask(yr)}}}function za(a){Promise===Ee&&ht.echoes===0?ea===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Bt).indexOf("[native code]")===-1&&(Gr=yr=ge);var tt=K.reject,Dr="￿",or="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uo="String expected.",Qr=[],na="__dbnames",Va="readonly",Xa="readwrite";function Ar(a,o){return a?o?function(){return a.apply(this,arguments)&&o.apply(this,arguments)}:a:o}var Ro={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function aa(a){return typeof a!="string"||/\./.test(a)?function(o){return o}:function(o){return o[a]===void 0&&a in o&&delete(o=Se(o))[a],o}}function qo(){throw re.Type()}function De(a,o){try{var c=No(a),l=No(o);if(c!==l)return c==="Array"?1:l==="Array"?-1:c==="binary"?1:l==="binary"?-1:c==="string"?1:l==="string"?-1:c==="Date"?1:l!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return o<a?1:a<o?-1:0;case"binary":return function(f,d){for(var p=f.length,m=d.length,w=p<m?p:m,g=0;g<w;++g)if(f[g]!==d[g])return f[g]<d[g]?-1:1;return p===m?0:p<m?-1:1}(Bo(a),Bo(o));case"Array":return function(f,d){for(var p=f.length,m=d.length,w=p<m?p:m,g=0;g<w;++g){var P=De(f[g],d[g]);if(P!==0)return P}return p===m?0:p<m?-1:1}(a,o)}}catch{}return NaN}function No(a){var o=typeof a;return o!="object"?o:ArrayBuffer.isView(a)?"binary":(a=ot(a),a==="ArrayBuffer"?"binary":a)}function Bo(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Lo=(Le.prototype._trans=function(a,o,c){var l=this._tx||V.trans,f=this.name,d=_t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function p(g,P,y){if(!y.schema[f])throw new re.NotFound("Table "+f+" not part of transaction");return o(y.idbtrans,y)}var m=Wr();try{var w=l&&l.db._novip===this.db._novip?l===V.trans?l._promise(a,p,c):mr(function(){return l._promise(a,p,c)},{trans:l,transless:V.transless||V}):function g(P,y,O,b){if(P.idbdb&&(P._state.openComplete||V.letThrough||P._vip)){var x=P._createTransaction(y,O,P._dbSchema);try{x.create(),P._state.PR1398_maxLoop=3}catch(k){return k.name===vt.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return g(P,y,O,b)})):tt(k)}return x._promise(y,function(k,_){return mr(function(){return V.trans=x,b(k,_,x)})}).then(function(k){if(y==="readwrite")try{x.idbtrans.commit()}catch{}return y==="readonly"?k:x._completion.then(function(){return k})})}if(P._state.openComplete)return tt(new re.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return tt(new re.DatabaseClosed);P.open().catch(ge)}return P._state.dbReadyPromise.then(function(){return g(P,y,O,b)})}(this.db,a,[this.name],p);return d&&(w._consoleTask=d,w=w.catch(function(g){return console.trace(g),tt(g)})),w}finally{m&&$r()}},Le.prototype.get=function(a,o){var c=this;return a&&a.constructor===Object?this.where(a).first(o):a==null?tt(new re.Type("Invalid argument to Table.get()")):this._trans("readonly",function(l){return c.core.get({trans:l,key:a}).then(function(f){return c.hook.reading.fire(f)})}).then(o)},Le.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var o=s(a);if(o.length===1)return this.where(o[0]).equals(a[o[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&o.every(function(P){return 0<=w.keyPath.indexOf(P)})){for(var g=0;g<o.length;++g)if(o.indexOf(w.keyPath[g])===-1)return!1;return!0}return!1}).sort(function(w,g){return w.keyPath.length-g.keyPath.length})[0];if(c&&this.db._maxKey!==Dr){var p=c.keyPath.slice(0,o.length);return this.where(p).equals(p.map(function(g){return a[g]}))}!c&&_t&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var l=this.schema.idxByName,f=this.db._deps.indexedDB;function d(w,g){return f.cmp(w,g)===0}var m=o.reduce(function(O,g){var P=O[0],y=O[1],O=l[g],b=a[g];return[P||O,P||!O?Ar(y,O&&O.multi?function(x){return x=J(x,g),h(x)&&x.some(function(k){return d(b,k)})}:function(x){return d(b,J(x,g))}):y]},[null,null]),p=m[0],m=m[1];return p?this.where(p.name).equals(a[p.keyPath]).filter(m):c?this.filter(m):this.where(o).equals("")},Le.prototype.filter=function(a){return this.toCollection().and(a)},Le.prototype.count=function(a){return this.toCollection().count(a)},Le.prototype.offset=function(a){return this.toCollection().offset(a)},Le.prototype.limit=function(a){return this.toCollection().limit(a)},Le.prototype.each=function(a){return this.toCollection().each(a)},Le.prototype.toArray=function(a){return this.toCollection().toArray(a)},Le.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Le.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))},Le.prototype.reverse=function(){return this.toCollection().reverse()},Le.prototype.mapToClass=function(a){var o,c=this.db,l=this.name;function f(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof qo&&(function(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function P(){this.constructor=w}r(w,g),w.prototype=g===null?Object.create(g):(P.prototype=g.prototype,new P)}(f,o=a),Object.defineProperty(f.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),f.prototype.table=function(){return l},a=f);for(var d=new Set,p=a.prototype;p;p=T(p))Object.getOwnPropertyNames(p).forEach(function(w){return d.add(w)});function m(w){if(!w)return w;var g,P=Object.create(a.prototype);for(g in w)if(!d.has(g))try{P[g]=w[g]}catch{}return P}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),a},Le.prototype.defineClass=function(){return this.mapToClass(function(a){v(this,a)})},Le.prototype.add=function(a,o){var c=this,l=this.schema.primKey,f=l.auto,d=l.keyPath,p=a;return d&&f&&(p=aa(d)(a)),this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"add",keys:o!=null?[o]:null,values:[p]})}).then(function(m){return m.numFailures?K.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ne(a,d,m)}catch{}return m})},Le.prototype.update=function(a,o){return typeof a!="object"||h(a)?this.where(":id").equals(a).modify(o):(a=J(a,this.schema.primKey.keyPath),a===void 0?tt(new re.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(o))},Le.prototype.put=function(a,o){var c=this,l=this.schema.primKey,f=l.auto,d=l.keyPath,p=a;return d&&f&&(p=aa(d)(a)),this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"put",values:[p],keys:o!=null?[o]:null})}).then(function(m){return m.numFailures?K.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ne(a,d,m)}catch{}return m})},Le.prototype.delete=function(a){var o=this;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(c){return c.numFailures?K.reject(c.failures[0]):void 0})},Le.prototype.clear=function(){var a=this;return this._trans("readwrite",function(o){return a.core.mutate({trans:o,type:"deleteRange",range:Ro})}).then(function(o){return o.numFailures?K.reject(o.failures[0]):void 0})},Le.prototype.bulkGet=function(a){var o=this;return this._trans("readonly",function(c){return o.core.getMany({keys:a,trans:c}).then(function(l){return l.map(function(f){return o.hook.reading.fire(f)})})})},Le.prototype.bulkAdd=function(a,o,c){var l=this,f=Array.isArray(o)?o:void 0,d=(c=c||(f?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(p){var g=l.schema.primKey,m=g.auto,g=g.keyPath;if(g&&f)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var w=a.length,g=g&&m?a.map(aa(g)):a;return l.core.mutate({trans:p,type:"add",keys:f,values:g,wantResults:d}).then(function(x){var y=x.numFailures,O=x.results,b=x.lastResult,x=x.failures;if(y===0)return d?O:b;throw new je("".concat(l.name,".bulkAdd(): ").concat(y," of ").concat(w," operations failed"),x)})})},Le.prototype.bulkPut=function(a,o,c){var l=this,f=Array.isArray(o)?o:void 0,d=(c=c||(f?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(p){var g=l.schema.primKey,m=g.auto,g=g.keyPath;if(g&&f)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var w=a.length,g=g&&m?a.map(aa(g)):a;return l.core.mutate({trans:p,type:"put",keys:f,values:g,wantResults:d}).then(function(x){var y=x.numFailures,O=x.results,b=x.lastResult,x=x.failures;if(y===0)return d?O:b;throw new je("".concat(l.name,".bulkPut(): ").concat(y," of ").concat(w," operations failed"),x)})})},Le.prototype.bulkUpdate=function(a){var o=this,c=this.core,l=a.map(function(p){return p.key}),f=a.map(function(p){return p.changes}),d=[];return this._trans("readwrite",function(p){return c.getMany({trans:p,keys:l,cache:"clone"}).then(function(m){var w=[],g=[];a.forEach(function(y,O){var b=y.key,x=y.changes,k=m[O];if(k){for(var _=0,C=Object.keys(x);_<C.length;_++){var S=C[_],E=x[S];if(S===o.schema.primKey.keyPath){if(De(E,b)!==0)throw new re.Constraint("Cannot update primary key in bulkUpdate()")}else ne(k,S,E)}d.push(O),w.push(b),g.push(k)}});var P=w.length;return c.mutate({trans:p,type:"put",keys:w,values:g,updates:{keys:l,changeSpecs:f}}).then(function(y){var O=y.numFailures,b=y.failures;if(O===0)return P;for(var x=0,k=Object.keys(b);x<k.length;x++){var _,C=k[x],S=d[Number(C)];S!=null&&(_=b[C],delete b[C],b[S]=_)}throw new je("".concat(o.name,".bulkUpdate(): ").concat(O," of ").concat(P," operations failed"),b)})})})},Le.prototype.bulkDelete=function(a){var o=this,c=a.length;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"delete",keys:a})}).then(function(p){var f=p.numFailures,d=p.lastResult,p=p.failures;if(f===0)return d;throw new je("".concat(o.name,".bulkDelete(): ").concat(f," of ").concat(c," operations failed"),p)})},Le);function Le(){}function vn(a){function o(p,m){if(m){for(var w=arguments.length,g=new Array(w-1);--w;)g[w-1]=arguments[w];return c[p].subscribe.apply(null,g),a}if(typeof p=="string")return c[p]}var c={};o.addEventType=d;for(var l=1,f=arguments.length;l<f;++l)d(arguments[l]);return o;function d(p,m,w){if(typeof p!="object"){var g;m=m||zt;var P={subscribers:[],fire:w=w||ge,subscribe:function(y){P.subscribers.indexOf(y)===-1&&(P.subscribers.push(y),P.fire=m(P.fire,y))},unsubscribe:function(y){P.subscribers=P.subscribers.filter(function(O){return O!==y}),P.fire=P.subscribers.reduce(m,w)}};return c[p]=o[p]=P}s(g=p).forEach(function(y){var O=g[y];if(h(O))d(y,g[y][0],g[y][1]);else{if(O!=="asap")throw new re.InvalidArgument("Invalid event config");var b=d(y,Qt,function(){for(var x=arguments.length,k=new Array(x);x--;)k[x]=arguments[x];b.subscribers.forEach(function(_){de(function(){_.apply(null,k)})})})}})}}function mn(a,o){return F(o).from({prototype:a}),o}function zr(a,o){return!(a.filter||a.algorithm||a.or)&&(o?a.justLimit:!a.replayFilter)}function Ja(a,o){a.filter=Ar(a.filter,o)}function Za(a,o,c){var l=a.replayFilter;a.replayFilter=l?function(){return Ar(l(),o())}:o,a.justLimit=c&&!l}function ia(a,o){if(a.isPrimKey)return o.primaryKey;var c=o.getIndexByKeyPath(a.index);if(!c)throw new re.Schema("KeyPath "+a.index+" on object store "+o.name+" is not indexed");return c}function Fo(a,o,c){var l=ia(a,o.schema);return o.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:l,range:a.range}})}function oa(a,o,c,l){var f=a.replayFilter?Ar(a.filter,a.replayFilter()):a.filter;if(a.or){var d={},p=function(m,w,g){var P,y;f&&!f(w,g,function(O){return w.stop(O)},function(O){return w.fail(O)})||((y=""+(P=w.primaryKey))=="[object ArrayBuffer]"&&(y=""+new Uint8Array(P)),D(d,y)||(d[y]=!0,o(m,w,g)))};return Promise.all([a.or._iterate(p,c),Ko(Fo(a,l,c),a.algorithm,p,!a.keysOnly&&a.valueMapper)])}return Ko(Fo(a,l,c),Ar(a.algorithm,f),o,!a.keysOnly&&a.valueMapper)}function Ko(a,o,c,l){var f=$e(l?function(d,p,m){return c(l(d),p,m)}:c);return a.then(function(d){if(d)return d.start(function(){var p=function(){return d.continue()};o&&!o(d,function(m){return p=m},function(m){d.stop(m),p=ge},function(m){d.fail(m),p=ge})||f(d.value,d,function(m){return p=m}),p()})})}var sr=Symbol(),ei=(Ho.prototype.execute=function(a){var o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0];return o&&typeof a=="string"&&a.startsWith(o)?this.replacePrefix[1]+a.substring(o.length):a},Ho);function Ho(a){Object.assign(this,a)}var xc=(Oe.prototype._read=function(a,o){var c=this._ctx;return c.error?c.table._trans(null,tt.bind(null,c.error)):c.table._trans("readonly",a).then(o)},Oe.prototype._write=function(a){var o=this._ctx;return o.error?o.table._trans(null,tt.bind(null,o.error)):o.table._trans("readwrite",a,"locked")},Oe.prototype._addAlgorithm=function(a){var o=this._ctx;o.algorithm=Ar(o.algorithm,a)},Oe.prototype._iterate=function(a,o){return oa(this._ctx,a,o,this._ctx.table.core)},Oe.prototype.clone=function(a){var o=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return a&&v(c,a),o._ctx=c,o},Oe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Oe.prototype.each=function(a){var o=this._ctx;return this._read(function(c){return oa(o,a,c,o.table.core)})},Oe.prototype.count=function(a){var o=this;return this._read(function(c){var l=o._ctx,f=l.table.core;if(zr(l,!0))return f.count({trans:c,query:{index:ia(l,f.schema),range:l.range}}).then(function(p){return Math.min(p,l.limit)});var d=0;return oa(l,function(){return++d,!1},c,f).then(function(){return d})}).then(a)},Oe.prototype.sortBy=function(a,o){var c=a.split(".").reverse(),l=c[0],f=c.length-1;function d(w,g){return g?d(w[c[g]],g-1):w[l]}var p=this._ctx.dir==="next"?1:-1;function m(w,g){return w=d(w,f),g=d(g,f),w<g?-p:g<w?p:0}return this.toArray(function(w){return w.sort(m)}).then(o)},Oe.prototype.toArray=function(a){var o=this;return this._read(function(c){var l=o._ctx;if(l.dir==="next"&&zr(l,!0)&&0<l.limit){var f=l.valueMapper,d=ia(l,l.table.core.schema);return l.table.core.query({trans:c,limit:l.limit,values:!0,query:{index:d,range:l.range}}).then(function(m){return m=m.result,f?m.map(f):m})}var p=[];return oa(l,function(m){return p.push(m)},c,l.table.core).then(function(){return p})},a)},Oe.prototype.offset=function(a){var o=this._ctx;return a<=0||(o.offset+=a,zr(o)?Za(o,function(){var c=a;return function(l,f){return c===0||(c===1?--c:f(function(){l.advance(c),c=0}),!1)}}):Za(o,function(){var c=a;return function(){return--c<0}})),this},Oe.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Za(this._ctx,function(){var o=a;return function(c,l,f){return--o<=0&&l(f),0<=o}},!0),this},Oe.prototype.until=function(a,o){return Ja(this._ctx,function(c,l,f){return!a(c.value)||(l(f),o)}),this},Oe.prototype.first=function(a){return this.limit(1).toArray(function(o){return o[0]}).then(a)},Oe.prototype.last=function(a){return this.reverse().first(a)},Oe.prototype.filter=function(a){var o;return Ja(this._ctx,function(c){return a(c.value)}),(o=this._ctx).isMatch=Ar(o.isMatch,a),this},Oe.prototype.and=function(a){return this.filter(a)},Oe.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},Oe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Oe.prototype.desc=function(){return this.reverse()},Oe.prototype.eachKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,l){a(l.key,l)})},Oe.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},Oe.prototype.eachPrimaryKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,l){a(l.primaryKey,l)})},Oe.prototype.keys=function(a){var o=this._ctx;o.keysOnly=!o.isMatch;var c=[];return this.each(function(l,f){c.push(f.key)}).then(function(){return c}).then(a)},Oe.prototype.primaryKeys=function(a){var o=this._ctx;if(o.dir==="next"&&zr(o,!0)&&0<o.limit)return this._read(function(l){var f=ia(o,o.table.core.schema);return o.table.core.query({trans:l,values:!1,limit:o.limit,query:{index:f,range:o.range}})}).then(function(l){return l.result}).then(a);o.keysOnly=!o.isMatch;var c=[];return this.each(function(l,f){c.push(f.primaryKey)}).then(function(){return c}).then(a)},Oe.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},Oe.prototype.firstKey=function(a){return this.limit(1).keys(function(o){return o[0]}).then(a)},Oe.prototype.lastKey=function(a){return this.reverse().firstKey(a)},Oe.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var o={};return Ja(this._ctx,function(f){var l=f.primaryKey.toString(),f=D(o,l);return o[l]=!0,!f}),this},Oe.prototype.modify=function(a){var o=this,c=this._ctx;return this._write(function(l){var f,d,p;p=typeof a=="function"?a:(f=s(a),d=f.length,function(_){for(var C=!1,S=0;S<d;++S){var E=f[S],A=a[E],I=J(_,E);A instanceof ei?(ne(_,E,A.execute(I)),C=!0):I!==A&&(ne(_,E,A),C=!0)}return C});function m(_,E){var S=E.failures,E=E.numFailures;x+=_-E;for(var A=0,I=s(S);A<I.length;A++){var H=I[A];b.push(S[H])}}var w=c.table.core,g=w.schema.primaryKey,P=g.outbound,y=g.extractKey,O=o.db._options.modifyChunkSize||200,b=[],x=0,k=[];return o.clone().primaryKeys().then(function(_){function C(S){var E=Math.min(O,_.length-S);return w.getMany({trans:l,keys:_.slice(S,S+E),cache:"immutable"}).then(function(A){for(var I=[],H=[],B=P?[]:null,L=[],Y=0;Y<E;++Y){var W=A[Y],ue={value:Se(W),primKey:_[S+Y]};p.call(ue,ue.value,ue)!==!1&&(ue.value==null?L.push(_[S+Y]):P||De(y(W),y(ue.value))===0?(H.push(ue.value),P&&B.push(_[S+Y])):(L.push(_[S+Y]),I.push(ue.value)))}var he=zr(c)&&c.limit===1/0&&(typeof a!="function"||a===ti)&&{index:c.index,range:c.range};return Promise.resolve(0<I.length&&w.mutate({trans:l,type:"add",values:I}).then(function(me){for(var pe in me.failures)L.splice(parseInt(pe),1);m(I.length,me)})).then(function(){return(0<H.length||he&&typeof a=="object")&&w.mutate({trans:l,type:"put",keys:B,values:H,criteria:he,changeSpec:typeof a!="function"&&a}).then(function(me){return m(H.length,me)})}).then(function(){return(0<L.length||he&&a===ti)&&w.mutate({trans:l,type:"delete",keys:L,criteria:he}).then(function(me){return m(L.length,me)})}).then(function(){return _.length>S+E&&C(S+O)})})}return C(0).then(function(){if(0<b.length)throw new ye("Error modifying one or more objects",b,x,k);return _.length})})})},Oe.prototype.delete=function(){var a=this._ctx,o=a.range;return zr(a)&&(a.isPrimKey||o.type===3)?this._write(function(c){var l=a.table.core.schema.primaryKey,f=o;return a.table.core.count({trans:c,query:{index:l,range:f}}).then(function(d){return a.table.core.mutate({trans:c,type:"deleteRange",range:f}).then(function(p){var m=p.failures;if(p.lastResult,p.results,p=p.numFailures,p)throw new ye("Could not delete some values",Object.keys(m).map(function(w){return m[w]}),d-p);return d-p})})}):this.modify(ti)},Oe);function Oe(){}var ti=function(a,o){return o.value=null};function Tc(a,o){return a<o?-1:a===o?0:1}function Pc(a,o){return o<a?-1:a===o?0:1}function jt(a,o,c){return a=a instanceof Wo?new a.Collection(a):a,a._ctx.error=new(c||TypeError)(o),a}function Vr(a){return new a.Collection(a,function(){return Yo("")}).limit(0)}function sa(a,o,c,l){var f,d,p,m,w,g,P,y=c.length;if(!c.every(function(x){return typeof x=="string"}))return jt(a,Uo);function O(x){f=x==="next"?function(_){return _.toUpperCase()}:function(_){return _.toLowerCase()},d=x==="next"?function(_){return _.toLowerCase()}:function(_){return _.toUpperCase()},p=x==="next"?Tc:Pc;var k=c.map(function(_){return{lower:d(_),upper:f(_)}}).sort(function(_,C){return p(_.lower,C.lower)});m=k.map(function(_){return _.upper}),w=k.map(function(_){return _.lower}),P=(g=x)==="next"?"":l}O("next"),a=new a.Collection(a,function(){return br(m[0],w[y-1]+l)}),a._ondirectionchange=function(x){O(x)};var b=0;return a._addAlgorithm(function(x,k,_){var C=x.key;if(typeof C!="string")return!1;var S=d(C);if(o(S,w,b))return!0;for(var E=null,A=b;A<y;++A){var I=function(H,B,L,Y,W,ue){for(var he=Math.min(H.length,Y.length),me=-1,pe=0;pe<he;++pe){var Ht=B[pe];if(Ht!==Y[pe])return W(H[pe],L[pe])<0?H.substr(0,pe)+L[pe]+L.substr(pe+1):W(H[pe],Y[pe])<0?H.substr(0,pe)+Y[pe]+L.substr(pe+1):0<=me?H.substr(0,me)+B[me]+L.substr(me+1):null;W(H[pe],Ht)<0&&(me=pe)}return he<Y.length&&ue==="next"?H+L.substr(H.length):he<H.length&&ue==="prev"?H.substr(0,L.length):me<0?null:H.substr(0,me)+Y[me]+L.substr(me+1)}(C,S,m[A],w[A],p,g);I===null&&E===null?b=A+1:(E===null||0<p(E,I))&&(E=I)}return k(E!==null?function(){x.continue(E+P)}:_),!1}),a}function br(a,o,c,l){return{type:2,lower:a,upper:o,lowerOpen:c,upperOpen:l}}function Yo(a){return{type:1,lower:a,upper:a}}var Wo=(Object.defineProperty(pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),pt.prototype.between=function(a,o,c,l){c=c!==!1,l=l===!0;try{return 0<this._cmp(a,o)||this._cmp(a,o)===0&&(c||l)&&(!c||!l)?Vr(this):new this.Collection(this,function(){return br(a,o,!c,!l)})}catch{return jt(this,or)}},pt.prototype.equals=function(a){return a==null?jt(this,or):new this.Collection(this,function(){return Yo(a)})},pt.prototype.above=function(a){return a==null?jt(this,or):new this.Collection(this,function(){return br(a,void 0,!0)})},pt.prototype.aboveOrEqual=function(a){return a==null?jt(this,or):new this.Collection(this,function(){return br(a,void 0,!1)})},pt.prototype.below=function(a){return a==null?jt(this,or):new this.Collection(this,function(){return br(void 0,a,!1,!0)})},pt.prototype.belowOrEqual=function(a){return a==null?jt(this,or):new this.Collection(this,function(){return br(void 0,a)})},pt.prototype.startsWith=function(a){return typeof a!="string"?jt(this,Uo):this.between(a,a+Dr,!0,!0)},pt.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):sa(this,function(o,c){return o.indexOf(c[0])===0},[a],Dr)},pt.prototype.equalsIgnoreCase=function(a){return sa(this,function(o,c){return o===c[0]},[a],"")},pt.prototype.anyOfIgnoreCase=function(){var a=Xe.apply(st,arguments);return a.length===0?Vr(this):sa(this,function(o,c){return c.indexOf(o)!==-1},a,"")},pt.prototype.startsWithAnyOfIgnoreCase=function(){var a=Xe.apply(st,arguments);return a.length===0?Vr(this):sa(this,function(o,c){return c.some(function(l){return o.indexOf(l)===0})},a,Dr)},pt.prototype.anyOf=function(){var a=this,o=Xe.apply(st,arguments),c=this._cmp;try{o.sort(c)}catch{return jt(this,or)}if(o.length===0)return Vr(this);var l=new this.Collection(this,function(){return br(o[0],o[o.length-1])});l._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,o.sort(c)};var f=0;return l._addAlgorithm(function(d,p,m){for(var w=d.key;0<c(w,o[f]);)if(++f===o.length)return p(m),!1;return c(w,o[f])===0||(p(function(){d.continue(o[f])}),!1)}),l},pt.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},pt.prototype.noneOf=function(){var a=Xe.apply(st,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return jt(this,or)}var o=a.reduce(function(c,l){return c?c.concat([[c[c.length-1][1],l]]):[[-1/0,l]]},null);return o.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},pt.prototype.inAnyRange=function(C,o){var c=this,l=this._cmp,f=this._ascending,d=this._descending,p=this._min,m=this._max;if(C.length===0)return Vr(this);if(!C.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&f(S[0],S[1])<=0}))return jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var w=!o||o.includeLowers!==!1,g=o&&o.includeUppers===!0,P,y=f;function O(S,E){return y(S[0],E[0])}try{(P=C.reduce(function(S,E){for(var A=0,I=S.length;A<I;++A){var H=S[A];if(l(E[0],H[1])<0&&0<l(E[1],H[0])){H[0]=p(H[0],E[0]),H[1]=m(H[1],E[1]);break}}return A===I&&S.push(E),S},[])).sort(O)}catch{return jt(this,or)}var b=0,x=g?function(S){return 0<f(S,P[b][1])}:function(S){return 0<=f(S,P[b][1])},k=w?function(S){return 0<d(S,P[b][0])}:function(S){return 0<=d(S,P[b][0])},_=x,C=new this.Collection(this,function(){return br(P[0][0],P[P.length-1][1],!w,!g)});return C._ondirectionchange=function(S){y=S==="next"?(_=x,f):(_=k,d),P.sort(O)},C._addAlgorithm(function(S,E,A){for(var I,H=S.key;_(H);)if(++b===P.length)return E(A),!1;return!x(I=H)&&!k(I)||(c._cmp(H,P[b][1])===0||c._cmp(H,P[b][0])===0||E(function(){y===f?S.continue(P[b][0]):S.continue(P[b][1])}),!1)}),C},pt.prototype.startsWithAnyOf=function(){var a=Xe.apply(st,arguments);return a.every(function(o){return typeof o=="string"})?a.length===0?Vr(this):this.inAnyRange(a.map(function(o){return[o,o+Dr]})):jt(this,"startsWithAnyOf() only works with strings")},pt);function pt(){}function Xt(a){return $e(function(o){return yn(o),a(o.target.error),!1})}function yn(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var gn="storagemutated",ri="x-storagemutated-1",wr=vn(null,gn),Oc=(Jt.prototype._lock=function(){return oe(!V.global),++this._reculock,this._reculock!==1||V.global||(V.lockOwnerFor=this),this},Jt.prototype._unlock=function(){if(oe(!V.global),--this._reculock==0)for(V.global||(V.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Er(a[1],a[0])}catch{}}return this},Jt.prototype._locked=function(){return this._reculock&&V.lockOwnerFor!==this},Jt.prototype.create=function(a){var o=this;if(!this.mode)return this;var c=this.db.idbdb,l=this.db._state.dbOpenError;if(oe(!this.idbtrans),!a&&!c)switch(l&&l.name){case"DatabaseClosedError":throw new re.DatabaseClosed(l);case"MissingAPIError":throw new re.MissingAPI(l.message,l);default:throw new re.OpenFailed(l)}if(!this.active)throw new re.TransactionInactive;return oe(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$e(function(f){yn(f),o._reject(a.error)}),a.onabort=$e(function(f){yn(f),o.active&&o._reject(new re.Abort(a.error)),o.active=!1,o.on("abort").fire(f)}),a.oncomplete=$e(function(){o.active=!1,o._resolve(),"mutatedParts"in a&&wr.storagemutated.fire(a.mutatedParts)}),this},Jt.prototype._promise=function(a,o,c){var l=this;if(a==="readwrite"&&this.mode!=="readwrite")return tt(new re.ReadOnly("Transaction is readonly"));if(!this.active)return tt(new re.TransactionInactive);if(this._locked())return new K(function(d,p){l._blockedFuncs.push([function(){l._promise(a,o,c).then(d,p)},V])});if(c)return mr(function(){var d=new K(function(p,m){l._lock();var w=o(p,m,l);w&&w.then&&w.then(p,m)});return d.finally(function(){return l._unlock()}),d._lib=!0,d});var f=new K(function(d,p){var m=o(d,p,l);m&&m.then&&m.then(d,p)});return f._lib=!0,f},Jt.prototype._root=function(){return this.parent?this.parent._root():this},Jt.prototype.waitFor=function(a){var o,c=this._root(),l=K.resolve(a);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return l}):(c._waitingFor=l,c._waitingQueue=[],o=c.idbtrans.objectStore(c.storeNames[0]),function d(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(o.get(-1/0).onsuccess=d)}());var f=c._waitingFor;return new K(function(d,p){l.then(function(m){return c._waitingQueue.push($e(d.bind(null,m)))},function(m){return c._waitingQueue.push($e(p.bind(null,m)))}).finally(function(){c._waitingFor===f&&(c._waitingFor=null)})})},Jt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},Jt.prototype.table=function(a){var o=this._memoizedTables||(this._memoizedTables={});if(D(o,a))return o[a];var c=this.schema[a];if(!c)throw new re.NotFound("Table "+a+" not part of transaction");return c=new this.db.Table(a,c,this),c.core=this.db.core.table(a),o[a]=c},Jt);function Jt(){}function ni(a,o,c,l,f,d,p){return{name:a,keyPath:o,unique:c,multi:l,auto:f,compound:d,src:(c&&!p?"&":"")+(l?"*":"")+(f?"++":"")+$o(o)}}function $o(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function ai(a,o,c){return{name:a,primKey:o,indexes:c,mappedClass:null,idxByName:(l=function(f){return[f.name,f]},c.reduce(function(f,d,p){return p=l(d,p),p&&(f[p[0]]=p[1]),f},{}))};var l}var bn=function(a){try{return a.only([[]]),bn=function(){return[[]]},[[]]}catch{return bn=function(){return Dr},Dr}};function ii(a){return a==null?function(){}:typeof a=="string"?(o=a).split(".").length===1?function(c){return c[o]}:function(c){return J(c,o)}:function(c){return J(c,a)};var o}function Go(a){return[].slice.call(a)}var kc=0;function wn(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function Cc(a,o,w){function l(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var b=_.lower,x=_.upper,k=_.lowerOpen,_=_.upperOpen;return b===void 0?x===void 0?null:o.upperBound(x,!!_):x===void 0?o.lowerBound(b,!!k):o.bound(b,x,!!k,!!_)}function f(O){var b,x=O.name;return{name:x,schema:O,mutate:function(k){var _=k.trans,C=k.type,S=k.keys,E=k.values,A=k.range;return new Promise(function(I,H){I=$e(I);var B=_.objectStore(x),L=B.keyPath==null,Y=C==="put"||C==="add";if(!Y&&C!=="delete"&&C!=="deleteRange")throw new Error("Invalid operation type: "+C);var W,ue=(S||E||{length:1}).length;if(S&&E&&S.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(ue===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});function he(St){++Ht,yn(St)}var me=[],pe=[],Ht=0;if(C==="deleteRange"){if(A.type===4)return I({numFailures:Ht,failures:pe,results:[],lastResult:void 0});A.type===3?me.push(W=B.clear()):me.push(W=B.delete(l(A)))}else{var L=Y?L?[E,S]:[E,null]:[S,null],ve=L[0],Tt=L[1];if(Y)for(var Pt=0;Pt<ue;++Pt)me.push(W=Tt&&Tt[Pt]!==void 0?B[C](ve[Pt],Tt[Pt]):B[C](ve[Pt])),W.onerror=he;else for(Pt=0;Pt<ue;++Pt)me.push(W=B[C](ve[Pt])),W.onerror=he}function wa(St){St=St.target.result,me.forEach(function(jr,Pi){return jr.error!=null&&(pe[Pi]=jr.error)}),I({numFailures:Ht,failures:pe,results:C==="delete"?S:me.map(function(jr){return jr.result}),lastResult:St})}W.onerror=function(St){he(St),wa(St)},W.onsuccess=wa})},getMany:function(k){var _=k.trans,C=k.keys;return new Promise(function(S,E){S=$e(S);for(var A,I=_.objectStore(x),H=C.length,B=new Array(H),L=0,Y=0,W=function(me){me=me.target,B[me._pos]=me.result,++Y===L&&S(B)},ue=Xt(E),he=0;he<H;++he)C[he]!=null&&((A=I.get(C[he]))._pos=he,A.onsuccess=W,A.onerror=ue,++L);L===0&&S(B)})},get:function(k){var _=k.trans,C=k.key;return new Promise(function(S,E){S=$e(S);var A=_.objectStore(x).get(C);A.onsuccess=function(I){return S(I.target.result)},A.onerror=Xt(E)})},query:(b=g,function(k){return new Promise(function(_,C){_=$e(_);var S,E,A,L=k.trans,I=k.values,H=k.limit,W=k.query,B=H===1/0?void 0:H,Y=W.index,W=W.range,L=L.objectStore(x),Y=Y.isPrimaryKey?L:L.index(Y.name),W=l(W);if(H===0)return _({result:[]});b?((B=I?Y.getAll(W,B):Y.getAllKeys(W,B)).onsuccess=function(ue){return _({result:ue.target.result})},B.onerror=Xt(C)):(S=0,E=!I&&"openKeyCursor"in Y?Y.openKeyCursor(W):Y.openCursor(W),A=[],E.onsuccess=function(ue){var he=E.result;return he?(A.push(I?he.value:he.primaryKey),++S===H?_({result:A}):void he.continue()):_({result:A})},E.onerror=Xt(C))})}),openCursor:function(k){var _=k.trans,C=k.values,S=k.query,E=k.reverse,A=k.unique;return new Promise(function(I,H){I=$e(I);var Y=S.index,B=S.range,L=_.objectStore(x),L=Y.isPrimaryKey?L:L.index(Y.name),Y=E?A?"prevunique":"prev":A?"nextunique":"next",W=!C&&"openKeyCursor"in L?L.openKeyCursor(l(B),Y):L.openCursor(l(B),Y);W.onerror=Xt(H),W.onsuccess=$e(function(ue){var he,me,pe,Ht,ve=W.result;ve?(ve.___id=++kc,ve.done=!1,he=ve.continue.bind(ve),me=(me=ve.continuePrimaryKey)&&me.bind(ve),pe=ve.advance.bind(ve),Ht=function(){throw new Error("Cursor not stopped")},ve.trans=_,ve.stop=ve.continue=ve.continuePrimaryKey=ve.advance=function(){throw new Error("Cursor not started")},ve.fail=$e(H),ve.next=function(){var Tt=this,Pt=1;return this.start(function(){return Pt--?Tt.continue():Tt.stop()}).then(function(){return Tt})},ve.start=function(Tt){function Pt(){if(W.result)try{Tt()}catch(St){ve.fail(St)}else ve.done=!0,ve.start=function(){throw new Error("Cursor behind last entry")},ve.stop()}var wa=new Promise(function(St,jr){St=$e(St),W.onerror=Xt(jr),ve.fail=jr,ve.stop=function(Pi){ve.stop=ve.continue=ve.continuePrimaryKey=ve.advance=Ht,St(Pi)}});return W.onsuccess=$e(function(St){W.onsuccess=Pt,Pt()}),ve.continue=he,ve.continuePrimaryKey=me,ve.advance=pe,Pt(),wa},I(ve)):I(null)},H)})},count:function(k){var _=k.query,C=k.trans,S=_.index,E=_.range;return new Promise(function(A,I){var H=C.objectStore(x),B=S.isPrimaryKey?H:H.index(S.name),H=l(E),B=H?B.count(H):B.count();B.onsuccess=$e(function(L){return A(L.target.result)}),B.onerror=Xt(I)})}}}var d,p,m,P=(p=w,m=Go((d=a).objectStoreNames),{schema:{name:d.name,tables:m.map(function(O){return p.objectStore(O)}).map(function(O){var b=O.keyPath,_=O.autoIncrement,x=h(b),k={},_={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b==null,compound:x,keyPath:b,autoIncrement:_,unique:!0,extractKey:ii(b)},indexes:Go(O.indexNames).map(function(C){return O.index(C)}).map(function(A){var S=A.name,E=A.unique,I=A.multiEntry,A=A.keyPath,I={name:S,compound:h(A),keyPath:A,unique:E,multiEntry:I,extractKey:ii(A)};return k[wn(A)]=I}),getIndexByKeyPath:function(C){return k[wn(C)]}};return k[":id"]=_.primaryKey,b!=null&&(k[wn(b)]=_.primaryKey),_})},hasGetAll:0<m.length&&"getAll"in p.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=P.schema,g=P.hasGetAll,P=w.tables.map(f),y={};return P.forEach(function(O){return y[O.name]=O}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(O){if(!y[O])throw new Error("Table '".concat(O,"' not found"));return y[O]},MIN_KEY:-1/0,MAX_KEY:bn(o),schema:w}}function Sc(a,o,c,l){var f=c.IDBKeyRange;return c.indexedDB,{dbcore:(l=Cc(o,f,l),a.dbcore.reduce(function(d,p){return p=p.create,n(n({},d),p(d))},l))}}function ua(a,l){var c=l.db,l=Sc(a._middlewares,c,a._deps,l);a.core=l.dbcore,a.tables.forEach(function(f){var d=f.name;a.core.schema.tables.some(function(p){return p.name===d})&&(f.core=a.core.table(d),a[d]instanceof a.Table&&(a[d].core=f.core))})}function ca(a,o,c,l){c.forEach(function(f){var d=l[f];o.forEach(function(p){var m=function w(g,P){return Z(g,P)||(g=T(g))&&w(g,P)}(p,f);(!m||"value"in m&&m.value===void 0)&&(p===a.Transaction.prototype||p instanceof a.Transaction?$(p,f,{get:function(){return this.table(f)},set:function(w){N(this,f,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):p[f]=new a.Table(f,d))})})}function oi(a,o){o.forEach(function(c){for(var l in c)c[l]instanceof a.Table&&delete c[l]})}function Ec(a,o){return a._cfg.version-o._cfg.version}function Dc(a,o,c,l){var f=a._dbSchema;c.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ai("$meta",zo("")[0],[]),a._storeNames.push("$meta"));var d=a._createTransaction("readwrite",a._storeNames,f);d.create(c),d._completion.catch(l);var p=d._reject.bind(d),m=V.transless||V;mr(function(){return V.trans=d,V.transless=m,o!==0?(ua(a,c),g=o,((w=d).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(P){return P??g}):K.resolve(g)).then(function(P){return O=P,b=d,x=c,k=[],P=(y=a)._versions,_=y._dbSchema=fa(0,y.idbdb,x),(P=P.filter(function(C){return C._cfg.version>=O})).length!==0?(P.forEach(function(C){k.push(function(){var S=_,E=C._cfg.dbschema;da(y,S,x),da(y,E,x),_=y._dbSchema=E;var A=si(S,E);A.add.forEach(function(Y){ui(x,Y[0],Y[1].primKey,Y[1].indexes)}),A.change.forEach(function(Y){if(Y.recreate)throw new re.Upgrade("Not yet support for changing primary key");var W=x.objectStore(Y.name);Y.add.forEach(function(ue){return la(W,ue)}),Y.change.forEach(function(ue){W.deleteIndex(ue.name),la(W,ue)}),Y.del.forEach(function(ue){return W.deleteIndex(ue)})});var I=C._cfg.contentUpgrade;if(I&&C._cfg.version>O){ua(y,x),b._memoizedTables={};var H=se(E);A.del.forEach(function(Y){H[Y]=S[Y]}),oi(y,[y.Transaction.prototype]),ca(y,[y.Transaction.prototype],s(H),H),b.schema=H;var B,L=dt(I);return L&&Gr(),A=K.follow(function(){var Y;(B=I(b))&&L&&(Y=yr.bind(null,null),B.then(Y,Y))}),B&&typeof B.then=="function"?K.resolve(B):A.then(function(){return B})}}),k.push(function(S){var E,A,I=C._cfg.dbschema;E=I,A=S,[].slice.call(A.db.objectStoreNames).forEach(function(H){return E[H]==null&&A.db.deleteObjectStore(H)}),oi(y,[y.Transaction.prototype]),ca(y,[y.Transaction.prototype],y._storeNames,y._dbSchema),b.schema=y._dbSchema}),k.push(function(S){y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(y.idbdb.version/10)===C._cfg.version?(y.idbdb.deleteObjectStore("$meta"),delete y._dbSchema.$meta,y._storeNames=y._storeNames.filter(function(E){return E!=="$meta"})):S.objectStore("$meta").put(C._cfg.version,"version"))})}),function C(){return k.length?K.resolve(k.shift()(b.idbtrans)).then(C):K.resolve()}().then(function(){Qo(_,x)})):K.resolve();var y,O,b,x,k,_}).catch(p)):(s(f).forEach(function(P){ui(c,P,f[P].primKey,f[P].indexes)}),ua(a,c),void K.follow(function(){return a.on.populate.fire(d)}).catch(p));var w,g})}function Ac(a,o){Qo(a._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var c=fa(0,a.idbdb,o);da(a,a._dbSchema,o);for(var l=0,f=si(c,a._dbSchema).change;l<f.length;l++){var d=function(p){if(p.change.length||p.recreate)return console.warn("Unable to patch indexes of table ".concat(p.name," because it has changes on the type of index or primary key.")),{value:void 0};var m=o.objectStore(p.name);p.add.forEach(function(w){_t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(p.name,".").concat(w.src)),la(m,w)})}(f[l]);if(typeof d=="object")return d.value}}function si(a,o){var c,l={del:[],add:[],change:[]};for(c in a)o[c]||l.del.push(c);for(c in o){var f=a[c],d=o[c];if(f){var p={name:c,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||f.primKey.auto!==d.primKey.auto)p.recreate=!0,l.change.push(p);else{var m=f.idxByName,w=d.idxByName,g=void 0;for(g in m)w[g]||p.del.push(g);for(g in w){var P=m[g],y=w[g];P?P.src!==y.src&&p.change.push(y):p.add.push(y)}(0<p.del.length||0<p.add.length||0<p.change.length)&&l.change.push(p)}}else l.add.push([c,d])}return l}function ui(a,o,c,l){var f=a.db.createObjectStore(o,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return l.forEach(function(d){return la(f,d)}),f}function Qo(a,o){s(a).forEach(function(c){o.db.objectStoreNames.contains(c)||(_t&&console.debug("Dexie: Creating missing table",c),ui(o,c,a[c].primKey,a[c].indexes))})}function la(a,o){a.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function fa(a,o,c){var l={};return U(o.objectStoreNames,0).forEach(function(f){for(var d=c.objectStore(f),p=ni($o(g=d.keyPath),g||"",!0,!1,!!d.autoIncrement,g&&typeof g!="string",!0),m=[],w=0;w<d.indexNames.length;++w){var P=d.index(d.indexNames[w]),g=P.keyPath,P=ni(P.name,g,!!P.unique,!!P.multiEntry,!1,g&&typeof g!="string",!1);m.push(P)}l[f]=ai(f,p,m)}),l}function da(a,o,c){for(var l=c.db.objectStoreNames,f=0;f<l.length;++f){var d=l[f],p=c.objectStore(d);a._hasGetAll="getAll"in p;for(var m=0;m<p.indexNames.length;++m){var w=p.indexNames[m],g=p.index(w).keyPath,P=typeof g=="string"?g:"["+U(g).join("+")+"]";!o[d]||(g=o[d].idxByName[P])&&(g.name=w,delete o[d].idxByName[P],o[d].idxByName[w]=g)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function zo(a){return a.split(",").map(function(o,c){var l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return ni(l,f||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),h(f),c===0)})}var Mc=(ha.prototype._parseStoresSpec=function(a,o){s(a).forEach(function(c){if(a[c]!==null){var l=zo(a[c]),f=l.shift();if(f.unique=!0,f.multi)throw new re.Schema("Primary key cannot be multi-valued");l.forEach(function(d){if(d.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")}),o[c]=ai(c,f,l)}})},ha.prototype.stores=function(c){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,c):c;var c=o._versions,l={},f={};return c.forEach(function(d){v(l,d._cfg.storesSource),f=d._cfg.dbschema={},d._parseStoresSpec(l,f)}),o._dbSchema=f,oi(o,[o._allTables,o,o.Transaction.prototype]),ca(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],s(f),f),o._storeNames=s(f),this},ha.prototype.upgrade=function(a){return this._cfg.contentUpgrade=vr(this._cfg.contentUpgrade||ge,a),this},ha);function ha(){}function ci(a,o){var c=a._dbNamesDB;return c||(c=a._dbNamesDB=new ur(na,{addons:[],indexedDB:a,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function li(a){return a&&typeof a.databases=="function"}function fi(a){return mr(function(){return V.letThrough=!0,a()})}function di(a){return!("from"in a)}var xt=function(a,o){if(!this){var c=new xt;return a&&"d"in a&&v(c,a),c}v(this,arguments.length?{d:1,from:a,to:1<arguments.length?o:a}:{d:0})};function _n(a,o,c){var l=De(o,c);if(!isNaN(l)){if(0<l)throw RangeError();if(di(a))return v(a,{from:o,to:c,d:1});var f=a.l,l=a.r;if(De(c,a.from)<0)return f?_n(f,o,c):a.l={from:o,to:c,d:1,l:null,r:null},Vo(a);if(0<De(o,a.to))return l?_n(l,o,c):a.r={from:o,to:c,d:1,l:null,r:null},Vo(a);De(o,a.from)<0&&(a.from=o,a.l=null,a.d=l?l.d+1:1),0<De(c,a.to)&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1),c=!a.r,f&&!a.l&&xn(a,f),l&&c&&xn(a,l)}}function xn(a,o){di(o)||function c(l,w){var d=w.from,p=w.to,m=w.l,w=w.r;_n(l,d,p),m&&c(l,m),w&&c(l,w)}(a,o)}function pa(a,o){var c=hi(o),l=c.next();if(l.done)return!1;for(var f=l.value,d=hi(a),p=d.next(f.from),m=p.value;!l.done&&!p.done;){if(De(m.from,f.to)<=0&&0<=De(m.to,f.from))return!0;De(f.from,m.from)<0?f=(l=c.next(m.from)).value:m=(p=d.next(f.from)).value}return!1}function hi(a){var o=di(a)?null:{s:0,n:a};return{next:function(c){for(var l=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,l)for(;o.n.l&&De(c,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!l||De(c,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Vo(a){var o,c,l=(((o=a.r)===null||o===void 0?void 0:o.d)||0)-(((c=a.l)===null||c===void 0?void 0:c.d)||0),f=1<l?"r":l<-1?"l":"";f&&(o=f=="r"?"l":"r",c=n({},a),l=a[f],a.from=l.from,a.to=l.to,a[f]=l[f],c[f]=l[o],(a[o]=c).d=Xo(c)),a.d=Xo(a)}function Xo(c){var o=c.r,c=c.l;return(o?c?Math.max(o.d,c.d):o.d:c?c.d:0)+1}function va(a,o){return s(o).forEach(function(c){a[c]?xn(a[c],o[c]):a[c]=function l(f){var d,p,m={};for(d in f)D(f,d)&&(p=f[d],m[d]=!p||typeof p!="object"||te.has(p.constructor)?p:l(p));return m}(o[c])}),a}function pi(a,o){return a.all||o.all||Object.keys(a).some(function(c){return o[c]&&pa(o[c],a[c])})}q(xt.prototype,((Bt={add:function(a){return xn(this,a),this},addKey:function(a){return _n(this,a,a),this},addKeys:function(a){var o=this;return a.forEach(function(c){return _n(o,c,c)}),this}})[bt]=function(){return hi(this)},Bt));var Mr={},vi={},mi=!1;function ma(a){va(vi,a),mi||(mi=!0,setTimeout(function(){mi=!1,yi(vi,!(vi={}))},0))}function yi(a,o){o===void 0&&(o=!1);var c=new Set;if(a.all)for(var l=0,f=Object.values(Mr);l<f.length;l++)Jo(p=f[l],a,c,o);else for(var d in a){var p,m=/^idb\:\/\/(.*)\/(.*)\//.exec(d);m&&(d=m[1],m=m[2],(p=Mr["idb://".concat(d,"/").concat(m)])&&Jo(p,a,c,o))}c.forEach(function(w){return w()})}function Jo(a,o,c,l){for(var f=[],d=0,p=Object.entries(a.queries.query);d<p.length;d++){for(var m=p[d],w=m[0],g=[],P=0,y=m[1];P<y.length;P++){var O=y[P];pi(o,O.obsSet)?O.subscribers.forEach(function(_){return c.add(_)}):l&&g.push(O)}l&&f.push([w,g])}if(l)for(var b=0,x=f;b<x.length;b++){var k=x[b],w=k[0],g=k[1];a.queries.query[w]=g}}function Ic(a){var o=a._state,c=a._deps.indexedDB;if(o.isBeingOpened||a.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?tt(o.dbOpenError):a});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var l=o.openCanceller,f=Math.round(10*a.verno),d=!1;function p(){if(o.openCanceller!==l)throw new re.DatabaseClosed("db.open() was cancelled")}function m(){return new K(function(O,b){if(p(),!c)throw new re.MissingAPI;var x=a.name,k=o.autoSchema||!f?c.open(x):c.open(x,f);if(!k)throw new re.MissingAPI;k.onerror=Xt(b),k.onblocked=$e(a._fireOnBlocked),k.onupgradeneeded=$e(function(_){var C;P=k.transaction,o.autoSchema&&!a._options.allowEmptyDB?(k.onerror=yn,P.abort(),k.result.close(),(C=c.deleteDatabase(x)).onsuccess=C.onerror=$e(function(){b(new re.NoSuchDatabase("Database ".concat(x," doesnt exist")))})):(P.onerror=Xt(b),_=_.oldVersion>Math.pow(2,62)?0:_.oldVersion,y=_<1,a.idbdb=k.result,d&&Ac(a,P),Dc(a,_/10,P,b))},b),k.onsuccess=$e(function(){P=null;var _,C,S,E,A,I=a.idbdb=k.result,H=U(I.objectStoreNames);if(0<H.length)try{var B=I.transaction((E=H).length===1?E[0]:E,"readonly");if(o.autoSchema)C=I,S=B,(_=a).verno=C.version/10,S=_._dbSchema=fa(0,C,S),_._storeNames=U(C.objectStoreNames,0),ca(_,[_._allTables],s(S),S);else if(da(a,a._dbSchema,B),((A=si(fa(0,(A=a).idbdb,B),A._dbSchema)).add.length||A.change.some(function(L){return L.add.length||L.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),I.close(),f=I.version+1,d=!0,O(m());ua(a,B)}catch{}Qr.push(a),I.onversionchange=$e(function(L){o.vcFired=!0,a.on("versionchange").fire(L)}),I.onclose=$e(function(L){a.on("close").fire(L)}),y&&(A=a._deps,B=x,I=A.indexedDB,A=A.IDBKeyRange,li(I)||B===na||ci(I,A).put({name:B}).catch(ge)),O()},b)}).catch(function(O){switch(O==null?void 0:O.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m();break;case"VersionError":if(0<f)return f=0,m()}return K.reject(O)})}var w,g=o.dbReadyResolve,P=null,y=!1;return K.race([l,(typeof navigator>"u"?K.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(O){function b(){return indexedDB.databases().finally(O)}w=setInterval(b,100),b()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(m)]).then(function(){return p(),o.onReadyBeingFired=[],K.resolve(fi(function(){return a.on.ready.fire(a.vip)})).then(function O(){if(0<o.onReadyBeingFired.length){var b=o.onReadyBeingFired.reduce(vr,ge);return o.onReadyBeingFired=[],K.resolve(fi(function(){return b(a.vip)})).then(O)}})}).finally(function(){o.openCanceller===l&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(O){o.dbOpenError=O;try{P&&P.abort()}catch{}return l===o.openCanceller&&a._close(),tt(O)}).finally(function(){o.openComplete=!0,g()}).then(function(){var O;return y&&(O={},a.tables.forEach(function(b){b.schema.indexes.forEach(function(x){x.name&&(O["idb://".concat(a.name,"/").concat(b.name,"/").concat(x.name)]=new xt(-1/0,[[[]]]))}),O["idb://".concat(a.name,"/").concat(b.name,"/")]=O["idb://".concat(a.name,"/").concat(b.name,"/:dels")]=new xt(-1/0,[[[]]])}),wr(gn).fire(O),yi(O,!0)),a})}function gi(a){function o(d){return a.next(d)}var c=f(o),l=f(function(d){return a.throw(d)});function f(d){return function(w){var m=d(w),w=m.value;return m.done?w:w&&typeof w.then=="function"?w.then(c,l):h(w)?Promise.all(w).then(c,l):c(w)}}return f(o)()}function ya(a,o,c){for(var l=h(a)?a.slice():[a],f=0;f<c;++f)l.push(o);return l}var jc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return n(n({},a),{table:function(o){var c=a.table(o),l=c.schema,f={},d=[];function p(y,O,b){var x=wn(y),k=f[x]=f[x]||[],_=y==null?0:typeof y=="string"?1:y.length,C=0<O,C=n(n({},b),{name:C?"".concat(x,"(virtual-from:").concat(b.name,")"):b.name,lowLevelIndex:b,isVirtual:C,keyTail:O,keyLength:_,extractKey:ii(y),unique:!C&&b.unique});return k.push(C),C.isPrimaryKey||d.push(C),1<_&&p(_===2?y[0]:y.slice(0,_-1),O+1,b),k.sort(function(S,E){return S.keyTail-E.keyTail}),C}o=p(l.primaryKey.keyPath,0,l.primaryKey),f[":id"]=[o];for(var m=0,w=l.indexes;m<w.length;m++){var g=w[m];p(g.keyPath,0,g)}function P(y){var O,b=y.query.index;return b.isVirtual?n(n({},y),{query:{index:b.lowLevelIndex,range:(O=y.query.range,b=b.keyTail,{type:O.type===1?2:O.type,lower:ya(O.lower,O.lowerOpen?a.MAX_KEY:a.MIN_KEY,b),lowerOpen:!0,upper:ya(O.upper,O.upperOpen?a.MIN_KEY:a.MAX_KEY,b),upperOpen:!0})}}):y}return n(n({},c),{schema:n(n({},l),{primaryKey:o,indexes:d,getIndexByKeyPath:function(y){return(y=f[wn(y)])&&y[0]}}),count:function(y){return c.count(P(y))},query:function(y){return c.query(P(y))},openCursor:function(y){var O=y.query.index,b=O.keyTail,x=O.isVirtual,k=O.keyLength;return x?c.openCursor(P(y)).then(function(C){return C&&_(C)}):c.openCursor(y);function _(C){return Object.create(C,{continue:{value:function(S){S!=null?C.continue(ya(S,y.reverse?a.MAX_KEY:a.MIN_KEY,b)):y.unique?C.continue(C.key.slice(0,k).concat(y.reverse?a.MIN_KEY:a.MAX_KEY,b)):C.continue()}},continuePrimaryKey:{value:function(S,E){C.continuePrimaryKey(ya(S,a.MAX_KEY,b),E)}},primaryKey:{get:function(){return C.primaryKey}},key:{get:function(){var S=C.key;return k===1?S[0]:S.slice(0,k)}},value:{get:function(){return C.value}}})}}})}})}};function bi(a,o,c,l){return c=c||{},l=l||"",s(a).forEach(function(f){var d,p,m;D(o,f)?(d=a[f],p=o[f],typeof d=="object"&&typeof p=="object"&&d&&p?(m=ot(d))!==ot(p)?c[l+f]=o[f]:m==="Object"?bi(d,p,c,l+f+"."):d!==p&&(c[l+f]=o[f]):d!==p&&(c[l+f]=o[f])):c[l+f]=void 0}),s(o).forEach(function(f){D(a,f)||(c[l+f]=o[f])}),c}function wi(a,o){return o.type==="delete"?o.keys:o.keys||o.values.map(a.extractKey)}var Uc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return n(n({},a),{table:function(o){var c=a.table(o),l=c.schema.primaryKey;return n(n({},c),{mutate:function(f){var d=V.trans,p=d.table(o).hook,m=p.deleting,w=p.creating,g=p.updating;switch(f.type){case"add":if(w.fire===ge)break;return d._promise("readwrite",function(){return P(f)},!0);case"put":if(w.fire===ge&&g.fire===ge)break;return d._promise("readwrite",function(){return P(f)},!0);case"delete":if(m.fire===ge)break;return d._promise("readwrite",function(){return P(f)},!0);case"deleteRange":if(m.fire===ge)break;return d._promise("readwrite",function(){return function y(O,b,x){return c.query({trans:O,values:!1,query:{index:l,range:b},limit:x}).then(function(k){var _=k.result;return P({type:"delete",keys:_,trans:O}).then(function(C){return 0<C.numFailures?Promise.reject(C.failures[0]):_.length<x?{failures:[],numFailures:0,lastResult:void 0}:y(O,n(n({},b),{lower:_[_.length-1],lowerOpen:!0}),x)})})}(f.trans,f.range,1e4)},!0)}return c.mutate(f);function P(y){var O,b,x,k=V.trans,_=y.keys||wi(l,y);if(!_)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?n(n({},y),{keys:_}):n({},y)).type!=="delete"&&(y.values=i([],y.values)),y.keys&&(y.keys=i([],y.keys)),O=c,x=_,((b=y).type==="add"?Promise.resolve([]):O.getMany({trans:b.trans,keys:x,cache:"immutable"})).then(function(C){var S=_.map(function(E,A){var I,H,B,L=C[A],Y={onerror:null,onsuccess:null};return y.type==="delete"?m.fire.call(Y,E,L,k):y.type==="add"||L===void 0?(I=w.fire.call(Y,E,y.values[A],k),E==null&&I!=null&&(y.keys[A]=E=I,l.outbound||ne(y.values[A],l.keyPath,E))):(I=bi(L,y.values[A]),(H=g.fire.call(Y,I,E,L,k))&&(B=y.values[A],Object.keys(H).forEach(function(W){D(B,W)?B[W]=H[W]:ne(B,W,H[W])}))),Y});return c.mutate(y).then(function(E){for(var A=E.failures,I=E.results,H=E.numFailures,E=E.lastResult,B=0;B<_.length;++B){var L=(I||_)[B],Y=S[B];L==null?Y.onerror&&Y.onerror(A[B]):Y.onsuccess&&Y.onsuccess(y.type==="put"&&C[B]?y.values[B]:L)}return{failures:A,results:I,numFailures:H,lastResult:E}}).catch(function(E){return S.forEach(function(A){return A.onerror&&A.onerror(E)}),Promise.reject(E)})})}}})}})}};function Zo(a,o,c){try{if(!o||o.keys.length<a.length)return null;for(var l=[],f=0,d=0;f<o.keys.length&&d<a.length;++f)De(o.keys[f],a[d])===0&&(l.push(c?Se(o.values[f]):o.values[f]),++d);return l.length===a.length?l:null}catch{return null}}var Rc={stack:"dbcore",level:-1,create:function(a){return{table:function(o){var c=a.table(o);return n(n({},c),{getMany:function(l){if(!l.cache)return c.getMany(l);var f=Zo(l.keys,l.trans._cache,l.cache==="clone");return f?K.resolve(f):c.getMany(l).then(function(d){return l.trans._cache={keys:l.keys,values:l.cache==="clone"?Se(d):d},d})},mutate:function(l){return l.type!=="add"&&(l.trans._cache=null),c.mutate(l)}})}}}};function es(a,o){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function ts(a,o){switch(a){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qc={stack:"dbcore",level:0,name:"Observability",create:function(a){var o=a.schema.name,c=new xt(a.MIN_KEY,a.MAX_KEY);return n(n({},a),{transaction:function(l,f,d){if(V.subscr&&f!=="readonly")throw new re.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(V.querier));return a.transaction(l,f,d)},table:function(l){var f=a.table(l),d=f.schema,p=d.primaryKey,y=d.indexes,m=p.extractKey,w=p.outbound,g=p.autoIncrement&&y.filter(function(b){return b.compound&&b.keyPath.includes(p.keyPath)}),P=n(n({},f),{mutate:function(b){function x(W){return W="idb://".concat(o,"/").concat(l,"/").concat(W),E[W]||(E[W]=new xt)}var k,_,C,S=b.trans,E=b.mutatedParts||(b.mutatedParts={}),A=x(""),I=x(":dels"),H=b.type,Y=b.type==="deleteRange"?[b.range]:b.type==="delete"?[b.keys]:b.values.length<50?[wi(p,b).filter(function(W){return W}),b.values]:[],B=Y[0],L=Y[1],Y=b.trans._cache;return h(B)?(A.addKeys(B),(Y=H==="delete"||B.length===L.length?Zo(B,Y):null)||I.addKeys(B),(Y||L)&&(k=x,_=Y,C=L,d.indexes.forEach(function(W){var ue=k(W.name||"");function he(pe){return pe!=null?W.extractKey(pe):null}function me(pe){return W.multiEntry&&h(pe)?pe.forEach(function(Ht){return ue.addKey(Ht)}):ue.addKey(pe)}(_||C).forEach(function(pe,Tt){var ve=_&&he(_[Tt]),Tt=C&&he(C[Tt]);De(ve,Tt)!==0&&(ve!=null&&me(ve),Tt!=null&&me(Tt))})}))):B?(L={from:B.lower,to:B.upper},I.add(L),A.add(L)):(A.add(c),I.add(c),d.indexes.forEach(function(W){return x(W.name).add(c)})),f.mutate(b).then(function(W){return!B||b.type!=="add"&&b.type!=="put"||(A.addKeys(W.results),g&&g.forEach(function(ue){var he=b.values.map(function(pe){return ue.extractKey(pe)}),me=ue.keyPath.findIndex(function(pe){return pe===p.keyPath});W.results.forEach(function(pe){return he[me]=pe}),x(ue.name).addKeys(he)})),S.mutatedParts=va(S.mutatedParts||{},E),W})}}),y=function(x){var k=x.query,x=k.index,k=k.range;return[x,new xt((x=k.lower)!==null&&x!==void 0?x:a.MIN_KEY,(k=k.upper)!==null&&k!==void 0?k:a.MAX_KEY)]},O={get:function(b){return[p,new xt(b.key)]},getMany:function(b){return[p,new xt().addKeys(b.keys)]},count:y,query:y,openCursor:y};return s(O).forEach(function(b){P[b]=function(x){var k=V.subscr,_=!!k,C=es(V,f)&&ts(b,x)?x.obsSet={}:k;if(_){var S=function(L){return L="idb://".concat(o,"/").concat(l,"/").concat(L),C[L]||(C[L]=new xt)},E=S(""),A=S(":dels"),k=O[b](x),_=k[0],k=k[1];if((b==="query"&&_.isPrimaryKey&&!x.values?A:S(_.name||"")).add(k),!_.isPrimaryKey){if(b!=="count"){var I=b==="query"&&w&&x.values&&f.query(n(n({},x),{values:!1}));return f[b].apply(this,arguments).then(function(L){if(b==="query"){if(w&&x.values)return I.then(function(he){return he=he.result,E.addKeys(he),L});var Y=x.values?L.result.map(m):L.result;(x.values?E:A).addKeys(Y)}else if(b==="openCursor"){var W=L,ue=x.values;return W&&Object.create(W,{key:{get:function(){return A.addKey(W.primaryKey),W.key}},primaryKey:{get:function(){var he=W.primaryKey;return A.addKey(he),he}},value:{get:function(){return ue&&E.addKey(W.primaryKey),W.value}}})}return L})}A.add(c)}}return f[b].apply(this,arguments)}}),P}})}};function rs(a,o,c){if(c.numFailures===0)return o;if(o.type==="deleteRange")return null;var l=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return c.numFailures===l?null:(o=n({},o),h(o.keys)&&(o.keys=o.keys.filter(function(f,d){return!(d in c.failures)})),"values"in o&&h(o.values)&&(o.values=o.values.filter(function(f,d){return!(d in c.failures)})),o)}function _i(a,o){return c=a,((l=o).lower===void 0||(l.lowerOpen?0<De(c,l.lower):0<=De(c,l.lower)))&&(a=a,(o=o).upper===void 0||(o.upperOpen?De(a,o.upper)<0:De(a,o.upper)<=0));var c,l}function ns(a,o,O,l,f,d){if(!O||O.length===0)return a;var p=o.query.index,m=p.multiEntry,w=o.query.range,g=l.schema.primaryKey.extractKey,P=p.extractKey,y=(p.lowLevelIndex||p).extractKey,O=O.reduce(function(b,x){var k=b,_=x.type==="add"||x.type==="put"?x.values.filter(function(A){return A=P(A),m&&h(A)?A.some(function(I){return _i(I,w)}):_i(A,w)}).map(function(A){return A=Se(A),d&&Object.freeze(A),A}):[];switch(x.type){case"add":k=b.concat(o.values?_:_.map(function(I){return g(I)}));break;case"put":var C=new xt().addKeys(x.values.map(function(I){return g(I)})),k=b.filter(function(I){return I=o.values?g(I):I,!pa(new xt(I),C)}).concat(o.values?_:_.map(function(I){return g(I)}));break;case"delete":var S=new xt().addKeys(x.keys);k=b.filter(function(I){return I=o.values?g(I):I,!pa(new xt(I),S)});break;case"deleteRange":var E=x.range;k=b.filter(function(I){return!_i(g(I),E)})}return k},a);return O===a?a:(O.sort(function(b,x){return De(y(b),y(x))||De(g(b),g(x))}),o.limit&&o.limit<1/0&&(O.length>o.limit?O.length=o.limit:a.length===o.limit&&O.length<o.limit&&(f.dirty=!0)),d?Object.freeze(O):O)}function as(a,o){return De(a.lower,o.lower)===0&&De(a.upper,o.upper)===0&&!!a.lowerOpen==!!o.lowerOpen&&!!a.upperOpen==!!o.upperOpen}function Nc(a,o){return function(c,l,f,d){if(c===void 0)return l!==void 0?-1:0;if(l===void 0)return 1;if((l=De(c,l))===0){if(f&&d)return 0;if(f)return 1;if(d)return-1}return l}(a.lower,o.lower,a.lowerOpen,o.lowerOpen)<=0&&0<=function(c,l,f,d){if(c===void 0)return l!==void 0?1:0;if(l===void 0)return-1;if((l=De(c,l))===0){if(f&&d)return 0;if(f)return-1;if(d)return 1}return l}(a.upper,o.upper,a.upperOpen,o.upperOpen)}function Bc(a,o,c,l){a.subscribers.add(c),l.addEventListener("abort",function(){var f,d;a.subscribers.delete(c),a.subscribers.size===0&&(f=a,d=o,setTimeout(function(){f.subscribers.size===0&&Ye(d,f)},3e3))})}var Lc={stack:"dbcore",level:0,name:"Cache",create:function(a){var o=a.schema.name;return n(n({},a),{transaction:function(c,l,f){var d,p,m=a.transaction(c,l,f);return l==="readwrite"&&(p=(d=new AbortController).signal,f=function(w){return function(){if(d.abort(),l==="readwrite"){for(var g=new Set,P=0,y=c;P<y.length;P++){var O=y[P],b=Mr["idb://".concat(o,"/").concat(O)];if(b){var x=a.table(O),k=b.optimisticOps.filter(function(ue){return ue.trans===m});if(m._explicit&&w&&m.mutatedParts)for(var _=0,C=Object.values(b.queries.query);_<C.length;_++)for(var S=0,E=(H=C[_]).slice();S<E.length;S++)pi((B=E[S]).obsSet,m.mutatedParts)&&(Ye(H,B),B.subscribers.forEach(function(ue){return g.add(ue)}));else if(0<k.length){b.optimisticOps=b.optimisticOps.filter(function(ue){return ue.trans!==m});for(var A=0,I=Object.values(b.queries.query);A<I.length;A++)for(var H,B,L,Y=0,W=(H=I[A]).slice();Y<W.length;Y++)(B=W[Y]).res!=null&&m.mutatedParts&&(w&&!B.dirty?(L=Object.isFrozen(B.res),L=ns(B.res,B.req,k,x,B,L),B.dirty?(Ye(H,B),B.subscribers.forEach(function(ue){return g.add(ue)})):L!==B.res&&(B.res=L,B.promise=K.resolve({result:L}))):(B.dirty&&Ye(H,B),B.subscribers.forEach(function(ue){return g.add(ue)})))}}}g.forEach(function(ue){return ue()})}}},m.addEventListener("abort",f(!1),{signal:p}),m.addEventListener("error",f(!1),{signal:p}),m.addEventListener("complete",f(!0),{signal:p})),m},table:function(c){var l=a.table(c),f=l.schema.primaryKey;return n(n({},l),{mutate:function(d){var p=V.trans;if(f.outbound||p.db._options.cache==="disabled"||p.explicit)return l.mutate(d);var m=Mr["idb://".concat(o,"/").concat(c)];return m?(p=l.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||wi(f,d).some(function(w){return w==null}))?(m.optimisticOps.push(d),d.mutatedParts&&ma(d.mutatedParts),p.then(function(w){0<w.numFailures&&(Ye(m.optimisticOps,d),(w=rs(0,d,w))&&m.optimisticOps.push(w),d.mutatedParts&&ma(d.mutatedParts))}),p.catch(function(){Ye(m.optimisticOps,d),d.mutatedParts&&ma(d.mutatedParts)})):p.then(function(w){var g=rs(0,n(n({},d),{values:d.values.map(function(b,y){var O,b=(O=f.keyPath)!==null&&O!==void 0&&O.includes(".")?Se(b):n({},b);return ne(b,f.keyPath,w.results[y]),b})}),w);m.optimisticOps.push(g),queueMicrotask(function(){return d.mutatedParts&&ma(d.mutatedParts)})}),p):l.mutate(d)},query:function(d){if(!es(V,l)||!ts("query",d))return l.query(d);var p=((g=V.trans)===null||g===void 0?void 0:g.db._options.cache)==="immutable",y=V,m=y.requery,w=y.signal,g=function(x,k,_,C){var S=Mr["idb://".concat(x,"/").concat(k)];if(!S)return[];if(!(k=S.queries[_]))return[null,!1,S,null];var E=k[(C.query?C.query.index.name:null)||""];if(!E)return[null,!1,S,null];switch(_){case"query":var A=E.find(function(I){return I.req.limit===C.limit&&I.req.values===C.values&&as(I.req.query.range,C.query.range)});return A?[A,!0,S,E]:[E.find(function(I){return("limit"in I.req?I.req.limit:1/0)>=C.limit&&(!C.values||I.req.values)&&Nc(I.req.query.range,C.query.range)}),!1,S,E];case"count":return A=E.find(function(I){return as(I.req.query.range,C.query.range)}),[A,!!A,S,E]}}(o,c,"query",d),P=g[0],y=g[1],O=g[2],b=g[3];return P&&y?P.obsSet=d.obsSet:(y=l.query(d).then(function(x){var k=x.result;if(P&&(P.res=k),p){for(var _=0,C=k.length;_<C;++_)Object.freeze(k[_]);Object.freeze(k)}else x.result=Se(k);return x}).catch(function(x){return b&&P&&Ye(b,P),Promise.reject(x)}),P={obsSet:d.obsSet,promise:y,subscribers:new Set,type:"query",req:d,dirty:!1},b?b.push(P):(b=[P],(O=O||(Mr["idb://".concat(o,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=b)),Bc(P,b,m,w),P.promise.then(function(x){return{result:ns(x.result,d,O==null?void 0:O.optimisticOps,l,P,p)}})}})}})}};function ga(a,o){return new Proxy(a,{get:function(c,l,f){return l==="db"?o:Reflect.get(c,l,f)}})}var ur=(rt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new re.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var o=this._versions,c=o.filter(function(l){return l._cfg.version===a})[0];return c||(c=new this.Version(a),o.push(c),o.sort(Ec),c.stores({}),this._state.autoSchema=!1,c)},rt.prototype._whenReady=function(a){var o=this;return this.idbdb&&(this._state.openComplete||V.letThrough||this._vip)?a():new K(function(c,l){if(o._state.openComplete)return l(new re.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void l(new re.DatabaseClosed);o.open().catch(ge)}o._state.dbReadyPromise.then(c,l)}).then(a)},rt.prototype.use=function(a){var o=a.stack,c=a.create,l=a.level,f=a.name;return f&&this.unuse({stack:o,name:f}),a=this._middlewares[o]||(this._middlewares[o]=[]),a.push({stack:o,create:c,level:l??10,name:f}),a.sort(function(d,p){return d.level-p.level}),this},rt.prototype.unuse=function(a){var o=a.stack,c=a.name,l=a.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(f){return l?f.create!==l:!!c&&f.name!==c})),this},rt.prototype.open=function(){var a=this;return Er(Ne,function(){return Ic(a)})},rt.prototype._close=function(){var a=this._state,o=Qr.indexOf(this);if(0<=o&&Qr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new K(function(c){a.dbReadyResolve=c}),a.openCanceller=new K(function(c,l){a.cancelOpen=l}))},rt.prototype.close=function(c){var o=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;o?(c.isBeingOpened&&c.cancelOpen(new re.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new re.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},rt.prototype.delete=function(a){var o=this;a===void 0&&(a={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",l=this._state;return new K(function(f,d){function p(){o.close(a);var m=o._deps.indexedDB.deleteDatabase(o.name);m.onsuccess=$e(function(){var w,g,P;w=o._deps,g=o.name,P=w.indexedDB,w=w.IDBKeyRange,li(P)||g===na||ci(P,w).delete(g).catch(ge),f()}),m.onerror=Xt(d),m.onblocked=o._fireOnBlocked}if(c)throw new re.InvalidArgument("Invalid closeOptions argument to db.delete()");l.isBeingOpened?l.dbReadyPromise.then(p):p()})},rt.prototype.backendDB=function(){return this.idbdb},rt.prototype.isOpen=function(){return this.idbdb!==null},rt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rt.prototype,"tables",{get:function(){var a=this;return s(this._allTables).map(function(o){return a._allTables[o]})},enumerable:!1,configurable:!0}),rt.prototype.transaction=function(){var a=(function(o,c,l){var f=arguments.length;if(f<2)throw new re.InvalidArgument("Too few arguments");for(var d=new Array(f-1);--f;)d[f-1]=arguments[f];return l=d.pop(),[o,Me(d),l]}).apply(this,arguments);return this._transaction.apply(this,a)},rt.prototype._transaction=function(a,o,c){var l=this,f=V.trans;f&&f.db===this&&a.indexOf("!")===-1||(f=null);var d,p,m=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(p=o.map(function(g){if(g=g instanceof l.Table?g.name:g,typeof g!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return g}),a=="r"||a===Va)d=Va;else{if(a!="rw"&&a!=Xa)throw new re.InvalidArgument("Invalid transaction mode: "+a);d=Xa}if(f){if(f.mode===Va&&d===Xa){if(!m)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&p.forEach(function(g){if(f&&f.storeNames.indexOf(g)===-1){if(!m)throw new re.SubTransaction("Table "+g+" not included in parent transaction.");f=null}}),m&&f&&!f.active&&(f=null)}}catch(g){return f?f._promise(null,function(P,y){y(g)}):tt(g)}var w=(function g(P,y,O,b,x){return K.resolve().then(function(){var k=V.transless||V,_=P._createTransaction(y,O,P._dbSchema,b);if(_.explicit=!0,k={trans:_,transless:k},b)_.idbtrans=b.idbtrans;else try{_.create(),_.idbtrans._explicit=!0,P._state.PR1398_maxLoop=3}catch(E){return E.name===vt.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return g(P,y,O,null,x)})):tt(E)}var C,S=dt(x);return S&&Gr(),k=K.follow(function(){var E;(C=x.call(_,_))&&(S?(E=yr.bind(null,null),C.then(E,E)):typeof C.next=="function"&&typeof C.throw=="function"&&(C=gi(C)))},k),(C&&typeof C.then=="function"?K.resolve(C).then(function(E){return _.active?E:tt(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return C})).then(function(E){return b&&_._resolve(),_._completion.then(function(){return E})}).catch(function(E){return _._reject(E),tt(E)})})}).bind(null,this,d,p,f,c);return f?f._promise(d,w,"lock"):V.trans?Er(V.transless,function(){return l._whenReady(w)}):this._whenReady(w)},rt.prototype.table=function(a){if(!D(this._allTables,a))throw new re.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},rt);function rt(a,o){var c=this;this._middlewares={},this.verno=0;var l=rt.dependencies;this._options=o=n({addons:rt.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},l=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,d,p,m,w,g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ge,dbReadyPromise:null,cancelOpen:ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};g.dbReadyPromise=new K(function(y){g.dbReadyResolve=y}),g.openCanceller=new K(function(y,O){g.cancelOpen=O}),this._state=g,this.name=a,this.on=vn(this,"populate","blocked","versionchange","close",{ready:[vr,ge]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(y){return function(O,b){rt.vip(function(){var x,k=c._state;k.openComplete?(k.dbOpenError||K.resolve().then(O),b&&y(O)):k.onReadyBeingFired?(k.onReadyBeingFired.push(O),b&&y(O)):(y(O),x=c,b||y(function _(){x.on.ready.unsubscribe(O),x.on.ready.unsubscribe(_)}))})}}),this.Collection=(f=this,mn(xc.prototype,function(C,_){this.db=f;var b=Ro,x=null;if(_)try{b=_()}catch(S){x=S}var k=C._ctx,_=k.table,C=_.hook.reading.fire;this._ctx={table:_,index:k.index,isPrimKey:!k.index||_.schema.primKey.keyPath&&k.index===_.schema.primKey.name,range:b,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:x,or:k.or,valueMapper:C!==Qt?C:null}})),this.Table=(d=this,mn(Lo.prototype,function(y,O,b){this.db=d,this._tx=b,this.name=y,this.schema=O,this.hook=d._allTables[y]?d._allTables[y].hook:vn(null,{creating:[kr,ge],reading:[fn,Qt],updating:[Kr,ge],deleting:[Cr,ge]})})),this.Transaction=(p=this,mn(Oc.prototype,function(y,O,b,x,k){var _=this;this.db=p,this.mode=y,this.storeNames=O,this.schema=b,this.chromeTransactionDurability=x,this.idbtrans=null,this.on=vn(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K(function(C,S){_._resolve=C,_._reject=S}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(C){var S=_.active;return _.active=!1,_.on.error.fire(C),_.parent?_.parent._reject(C):S&&_.idbtrans&&_.idbtrans.abort(),tt(C)})})),this.Version=(m=this,mn(Mc.prototype,function(y){this.db=m,this._cfg={version:y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,mn(Wo.prototype,function(y,O,b){if(this.db=w,this._ctx={table:y,index:O===":id"?null:O,or:b},this._cmp=this._ascending=De,this._descending=function(x,k){return De(k,x)},this._max=function(x,k){return 0<De(x,k)?x:k},this._min=function(x,k){return De(x,k)<0?x:k},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new re.MissingAPI})),this.on("versionchange",function(y){0<y.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=bn(o.IDBKeyRange),this._createTransaction=function(y,O,b,x){return new c.Transaction(y,O,b,c._options.chromeTransactionDurability,x)},this._fireOnBlocked=function(y){c.on("blocked").fire(y),Qr.filter(function(O){return O.name===c.name&&O!==c&&!O._state.vcFired}).map(function(O){return O.on("versionchange").fire(y)})},this.use(Rc),this.use(Lc),this.use(qc),this.use(jc),this.use(Uc);var P=new Proxy(this,{get:function(y,O,b){if(O==="_vip")return!0;if(O==="table")return function(k){return ga(c.table(k),P)};var x=Reflect.get(y,O,b);return x instanceof Lo?ga(x,P):O==="tables"?x.map(function(k){return ga(k,P)}):O==="_createTransaction"?function(){return ga(x.apply(this,arguments),P)}:x}});this.vip=P,l.forEach(function(y){return y(c)})}var ba,Bt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fc=(xi.prototype.subscribe=function(a,o,c){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:o,complete:c})},xi.prototype[Bt]=function(){return this},xi);function xi(a){this._subscribe=a}try{ba={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{ba={indexedDB:null,IDBKeyRange:null}}function is(a){var o,c=!1,l=new Fc(function(f){var d=dt(a),p,m=!1,w={},g={},P={get closed(){return m},unsubscribe:function(){m||(m=!0,p&&p.abort(),y&&wr.storagemutated.unsubscribe(b))}};f.start&&f.start(P);var y=!1,O=function(){return za(x)},b=function(k){va(w,k),pi(g,w)&&O()},x=function(){var k,_,C;!m&&ba.indexedDB&&(w={},k={},p&&p.abort(),p=new AbortController,C=function(S){var E=Wr();try{d&&Gr();var A=mr(a,S);return A=d?A.finally(yr):A}finally{E&&$r()}}(_={subscr:k,signal:p.signal,requery:O,querier:a,trans:null}),Promise.resolve(C).then(function(S){c=!0,o=S,m||_.signal.aborted||(w={},function(E){for(var A in E)if(D(E,A))return;return 1}(g=k)||y||(wr(gn,b),y=!0),za(function(){return!m&&f.next&&f.next(S)}))},function(S){c=!1,["DatabaseClosedError","AbortError"].includes(S==null?void 0:S.name)||m||za(function(){m||f.error&&f.error(S)})}))};return setTimeout(O,0),P});return l.hasValue=function(){return c},l.getValue=function(){return o},l}var Ir=ur;function Ti(a){var o=_r;try{_r=!0,wr.storagemutated.fire(a),yi(a,!0)}finally{_r=o}}q(Ir,n(n({},qt),{delete:function(a){return new Ir(a,{addons:[]}).delete()},exists:function(a){return new Ir(a,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return o=Ir.dependencies,c=o.indexedDB,o=o.IDBKeyRange,(li(c)?Promise.resolve(c.databases()).then(function(l){return l.map(function(f){return f.name}).filter(function(f){return f!==na})}):ci(c,o).toCollection().primaryKeys()).then(a)}catch{return tt(new re.MissingAPI)}var o,c},defineClass:function(){return function(a){v(this,a)}},ignoreTransaction:function(a){return V.trans?Er(V.transless,a):a()},vip:fi,async:function(a){return function(){try{var o=gi(a.apply(this,arguments));return o&&typeof o.then=="function"?o:K.resolve(o)}catch(c){return tt(c)}}},spawn:function(a,o,c){try{var l=gi(a.apply(c,o||[]));return l&&typeof l.then=="function"?l:K.resolve(l)}catch(f){return tt(f)}},currentTransaction:{get:function(){return V.trans||null}},waitFor:function(a,o){return o=K.resolve(typeof a=="function"?Ir.ignoreTransaction(a):a).timeout(o||6e4),V.trans?V.trans.waitFor(o):o},Promise:K,debug:{get:function(){return _t},set:function(a){Sr(a)}},derive:F,extend:v,props:q,override:ee,Events:vn,on:wr,liveQuery:is,extendObservabilitySet:va,getByKeyPath:J,setByKeyPath:ne,delByKeyPath:function(a,o){typeof o=="string"?ne(a,o,void 0):"length"in o&&[].map.call(o,function(c){ne(a,c,void 0)})},shallowClone:se,deepClone:Se,getObjectDiff:bi,cmp:De,asap:de,minKey:-1/0,addons:[],connections:Qr,errnames:vt,dependencies:ba,cache:Mr,semVer:"4.0.4",version:"4.0.4".split(".").map(function(a){return parseInt(a)}).reduce(function(a,o,c){return a+o/Math.pow(10,2*c)})})),Ir.maxKey=bn(Ir.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wr(gn,function(a){_r||(a=new CustomEvent(ri,{detail:a}),_r=!0,dispatchEvent(a),_r=!1)}),addEventListener(ri,function(a){a=a.detail,_r||Ti(a)}));var Xr,_r=!1,os=function(){};return typeof BroadcastChannel<"u"&&((os=function(){(Xr=new BroadcastChannel(ri)).onmessage=function(a){return a.data&&Ti(a.data)}})(),typeof Xr.unref=="function"&&Xr.unref(),wr(gn,function(a){_r||Xr.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!ur.disableBfCache&&a.persisted){_t&&console.debug("Dexie: handling persisted pagehide"),Xr!=null&&Xr.close();for(var o=0,c=Qr;o<c.length;o++)c[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!ur.disableBfCache&&a.persisted&&(_t&&console.debug("Dexie: handling persisted pageshow"),os(),Ti({all:new xt(-1/0,[[]])}))})),K.rejectionMapper=function(a,o){return!a||a instanceof Be||a instanceof TypeError||a instanceof SyntaxError||!a.name||!wt[a.name]?a:(o=new wt[a.name](o||a.message,a),"stack"in a&&$(o,"stack",{get:function(){return this.inner.stack}}),o)},Sr(_t),n(ur,Object.freeze({__proto__:null,Dexie:ur,liveQuery:is,Entity:qo,cmp:De,PropModSymbol:sr,PropModification:ei,replacePrefix:function(a,o){return new ei({replacePrefix:[a,o]})},default:ur,RangeSet:xt,mergeRanges:xn,rangesOverlap:pa}),{default:ur}),ur})})(Wu);var Pv=Wu.exports;const $i=Tv(Pv),Hs=Symbol.for("Dexie"),Gi=globalThis[Hs]||(globalThis[Hs]=$i);if($i.semVer!==Gi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$i.semVer} and ${Gi.semVer}`);class Ov extends Gi{constructor(){super("myDatabase");Tn(this,"processInfos");Tn(this,"metricInfos");Tn(this,"hosts");this.version(2).stores({processInfos:"&name, serial, show",metricInfos:"name, type",hosts:"ip"})}}const Rr=new Ov;function kv(e,t){return e>t}function Cv(e,t,r){for(var n=-1,i=e.length;++n<i;){var u=e[n],s=t(u);if(s!=null&&(h===void 0?s===s&&!on(s):r(s,h)))var h=s,v=u}return v}function Sv(e,t){return e&&e.length?Cv(e,Yu(t),kv):void 0}var Yn,Wn,$n,Gn,Qn,zn;class Qi{constructor(){Ut(this,Yn,Dt(""));Ut(this,Wn,Dt(""));Ut(this,$n,Dt(3e3));Ut(this,Gn,Dt(!0));Ut(this,Qn,Dt(!1));Ut(this,zn,Dt(!1))}get name(){return R(Ge(this,Yn))}set name(t){Ke(Ge(this,Yn),yt(t))}get ip(){return R(Ge(this,Wn))}set ip(t){Ke(Ge(this,Wn),yt(t))}get port(){return R(Ge(this,$n))}set port(t){Ke(Ge(this,$n),yt(t))}get visibile(){return R(Ge(this,Gn))}set visibile(t){Ke(Ge(this,Gn),yt(t))}get host(){return R(Ge(this,Qn))}set host(t){Ke(Ge(this,Qn),yt(t))}get pinged(){return R(Ge(this,zn))}set pinged(t){Ke(Ge(this,zn),yt(t))}}Yn=new WeakMap,Wn=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,zn=new WeakMap;let zi=new xv,ke=new To("name"),rr=new To("name"),Pr=new To("ip");async function Ev(){let e=await Rr.hosts.toArray();if(console.log(e),!e.find(t=>t.ip=="host")){let t=new Qi;t.ip="host",t.port=Number(window.location.port)||3e3,t.host=!0,t.name="host",console.log(t),e.push(t)}Pr.add(e)}async function Br(){if(Pr.data){ke.reset(),rr.reset(),ke.loading=!0;for await(const e of Pr.data){console.log(e.ip),e.host||e.ip+"";const t=await fetch("/api/processes"+(e.host?"":"?host="+e.ip));let r;try{r=await t.json()}catch(i){console.log(i),r=[]}ke.add(r),console.log("processes found on server "+e.ip,r.length),r.forEach(i=>{let u=An.find(s=>s.name===i.name);u||(u={name:i.name,cpus:[]},An.push(u)),u.cpus.push(i.cpu==0?.01:i.cpu)});let n=await Rr.processInfos.toArray();!n||n.length!==r.length?(n=r.map((i,u)=>({name:i.name,serial:u,show:!0})),n.forEach((i,u)=>{try{let s=Rr.processInfos.put(i,"name").catch(h=>{console.log(h)})}catch(s){console.log(s)}})):ke.data.forEach((i,u)=>{if(!n.find(h=>h.name===i.name)){let h=Sv(n,"serial"),v={name:i.name,serial:((h==null?void 0:h.serial)??0)+1,show:!0};n.push(v),Rr.processInfos.put(v,"name")}}),rr.add(n)}ke.loading=!1,console.log("Processes updated")}}async function Dv(e,t){ke.loading=!0;let r=await fetch(`/api/processes/action/${e}?action=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(r),await Br(),ke.loading=!1}async function Av(e){ke.loading=!0;let t=await fetch("/api/processes/delete",{method:"POST",body:JSON.stringify({id:e.pm_id}),headers:{"Content-Type":"application/json"}});console.log(t),await Br(),ke.loading=!1}async function Mv(e){ke.loading=!0;let t=await fetch(`/api/processes/restart/${e.pm_id}`,{method:"POST",headers:{"Content-Type":"application/json"}});console.log(t),await Br(),ke.loading=!1}async function Iv(e){ke.loading=!0;let t=await fetch(`/api/processes/stop/${e.pm_id}`,{method:"POST",headers:{"Content-Type":"application/json"}});console.log(t),await Br(),ke.loading=!1}async function jv(e){ke.loading=!0,(await fetch(`/api/processes/logs/${e.name}/flush`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name})})).ok&&alert("Logs flushed"),ke.loading=!1}async function Oa(e,t){if(!e)return;ke.loading=!0;const n=await(await fetch(`/api/processes/logs/${e.name}?lines=${t||10}`)).json();console.log(n);let i=n.outLogs.split(`
`).map(s=>{try{let h=JSON.parse(s.replace(`
`,""));h.timestamp=bs(h.timestamp.split(" ")[0]+" "+h.timestamp.split(" ")[1],"dd/MM HH:mm:ss.SSS",new Date);let v=h.message.split(qi(Fs));return h.message=v.filter((T,M)=>v.length>1?M>0:!0).join(qi(Fs)),console.log(h),h}catch{return console.log(s),s}}).filter(s=>!!s);_v.set(i);let u=n.errLogs.split(`
`).map(s=>{try{let h=JSON.parse(s.replace(`
`,""));return h.timestamp=bs(h.timestamp.split(" ")[0]+" "+h.timestamp.split(" ")[1],"dd/MM HH:mm:ss.SSS",new Date),h}catch{console.log(s);return}}).filter(s=>!!s);wv.set(u),zi.logs=bv([...i,...u],"timestamp","desc"),console.log(zi.logs),ke.loading=!1}var Vi=function(e,t){return Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Vi(e,t)};function pr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vi(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Xi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ia(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(h){s={error:h}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u}function ja(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,u;n<i;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))}function $t(e){return typeof e=="function"}function $u(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Di=$u(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Ua(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Vn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,u;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var h=Xi(s),v=h.next();!v.done;v=h.next()){var T=v.value;T.remove(this)}}catch(F){t={error:F}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}else s.remove(this);var M=this.initialTeardown;if($t(M))try{M()}catch(F){u=F instanceof Di?F.errors:[F]}var D=this._finalizers;if(D){this._finalizers=null;try{for(var q=Xi(D),N=q.next();!N.done;N=q.next()){var $=N.value;try{Ys($)}catch(F){u=u??[],F instanceof Di?u=ja(ja([],Ia(u)),Ia(F.errors)):u.push(F)}}}catch(F){n={error:F}}finally{try{N&&!N.done&&(i=q.return)&&i.call(q)}finally{if(n)throw n.error}}}if(u)throw new Di(u)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ys(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Ua(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Ua(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Gu=Vn.EMPTY;function Qu(e){return e instanceof Vn||e&&"closed"in e&&$t(e.remove)&&$t(e.add)&&$t(e.unsubscribe)}function Ys(e){$t(e)?e():e.unsubscribe()}var zu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vu={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,ja([e,t],Ia(r)))},clearTimeout:function(e){var t=Vu.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Uv(e){Vu.setTimeout(function(){throw e})}function Ws(){}function ka(e){e()}var Po=function(e){pr(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Qu(r)&&r.add(n)):n.destination=Bv,n}return t.create=function(r,n,i){return new Ji(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Vn),Rv=Function.prototype.bind;function Ai(e,t){return Rv.call(e,t)}var qv=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){xa(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){xa(n)}else xa(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){xa(r)}},e}(),Ji=function(e){pr(t,e);function t(r,n,i){var u=e.call(this)||this,s;if($t(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var h;u&&zu.useDeprecatedNextContext?(h=Object.create(r),h.unsubscribe=function(){return u.unsubscribe()},s={next:r.next&&Ai(r.next,h),error:r.error&&Ai(r.error,h),complete:r.complete&&Ai(r.complete,h)}):s=r}return u.destination=new qv(s),u}return t}(Po);function xa(e){Uv(e)}function Nv(e){throw e}var Bv={closed:!0,next:Ws,error:Nv,complete:Ws},Lv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Fv(e){return e}function Kv(e){return e.length===0?Fv:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Zi=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,u=Yv(t)?t:new Ji(t,r,n);return ka(function(){var s=i,h=s.operator,v=s.source;u.add(h?h.call(u,v):v?i._subscribe(u):i._trySubscribe(u))}),u},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=$s(r),new r(function(i,u){var s=new Ji({next:function(h){try{t(h)}catch(v){u(v),s.unsubscribe()}},error:u,complete:i});n.subscribe(s)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Lv]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Kv(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=$s(t),new t(function(n,i){var u;r.subscribe(function(s){return u=s},function(s){return i(s)},function(){return n(u)})})},e.create=function(t){return new e(t)},e}();function $s(e){var t;return(t=e??zu.Promise)!==null&&t!==void 0?t:Promise}function Hv(e){return e&&$t(e.next)&&$t(e.error)&&$t(e.complete)}function Yv(e){return e&&e instanceof Po||Hv(e)&&Qu(e)}function Wv(e){return $t(e==null?void 0:e.lift)}function $v(e){return function(t){if(Wv(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gv(e,t,r,n,i){return new Qv(e,t,r,n,i)}var Qv=function(e){pr(t,e);function t(r,n,i,u,s,h){var v=e.call(this,r)||this;return v.onFinalize=s,v.shouldUnsubscribe=h,v._next=n?function(T){try{n(T)}catch(M){r.error(M)}}:e.prototype._next,v._error=u?function(T){try{u(T)}catch(M){r.error(M)}finally{this.unsubscribe()}}:e.prototype._error,v._complete=i?function(){try{i()}catch(T){r.error(T)}finally{this.unsubscribe()}}:e.prototype._complete,v}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Po),zv=$u(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Xu=function(e){pr(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Gs(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new zv},t.prototype.next=function(r){var n=this;ka(function(){var i,u;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Xi(n.currentObservers),h=s.next();!h.done;h=s.next()){var v=h.value;v.next(r)}}catch(T){i={error:T}}finally{try{h&&!h.done&&(u=s.return)&&u.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;ka(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;ka(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,u=i.hasError,s=i.isStopped,h=i.observers;return u||s?Gu:(this.currentObservers=null,h.push(r),new Vn(function(){n.currentObservers=null,Ua(h,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,u=n.thrownError,s=n.isStopped;i?r.error(u):s&&r.complete()},t.prototype.asObservable=function(){var r=new Zi;return r.source=this,r},t.create=function(r,n){return new Gs(r,n)},t}(Zi),Gs=function(e){pr(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Gu},t}(Xu),Vv=function(e){pr(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,u=r._value;if(n)throw i;return this._throwIfClosed(),u},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Xu),Xv={now:function(){return Date.now()},delegate:void 0},Jv=function(e){pr(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Vn),eo={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,ja([e,t],Ia(r)))},clearInterval:function(e){var t=eo.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Zv=function(e){pr(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var u=this.id,s=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(s,u,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),eo.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&eo.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,u;try{this.work(r)}catch(s){i=!0,u=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,u=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ua(u,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Jv),Qs=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=Xv.now,e}(),em=function(e){pr(t,e);function t(r,n){n===void 0&&(n=Qs.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(Qs),tm=new em(Zv),rm=tm;function nm(e){return $t(e.schedule)}function am(e){return e instanceof Date&&!isNaN(e)}function im(e,t,r){r===void 0&&(r=rm);var n=-1;return nm(t)?r=t:n=t,new Zi(function(i){var u=am(e)?+e-r.now():e;u<0&&(u=0);var s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},u)})}function om(e,t){return $v(function(r,n){var i=0;r.subscribe(Gv(n,function(u){return e.call(t,u,i++)&&n.next(u)}))})}function Ju(e){if(!e)return"0B";const t=["B","KB","MB","GB","TB","PB"],r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(r))).toFixed(2)+" "+t[r]}function Zu(e){if(!e)return"0s";const t=Math.floor(e/(24*60*60*1e3)),r=e%(24*60*60*1e3),n=Math.floor(r/(60*60*1e3)),i=e%(60*60*1e3),u=Math.floor(i/(60*1e3)),s=e%(60*1e3),h=Math.floor(s/1e3);return[t?t+"d":"",n?n+"h":"",u?u+"m":"",h?h+"s":""].join("")}const ec=["Active handles","Active requests","Event Loop Latency p95","Event Loop Latency","Heap Size","Heap Usage","Used Heap Size"];var sm=Ce('<span class="badge badge-success badge-outline"> </span>'),um=Ce('<span class="badge badge-error badge-outline"> </span>');function Oo(e,t){nr(t,!1),Ba();var r=gt(),n=Re(r);He(n,()=>t.process.status==="online",i=>{var u=sm(),s=G(u);fe(()=>Ue(s,t.process.status)),ae(i,u)},i=>{var u=um(),s=G(u);fe(()=>Ue(s,t.process.status)),ae(i,u)}),ae(e,r),ar()}const Mn=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ya=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const h=i.pop(),v=i.pop(),T={provider:i.length>0?i[0]:n,prefix:v,name:h};return t&&!Ca(T)?null:T}const u=i[0],s=u.split("-");if(s.length>1){const h={provider:n,prefix:s.shift(),name:s.join("-")};return t&&!Ca(h)?null:h}if(r&&n===""){const h={provider:n,prefix:"",name:u};return t&&!Ca(h,r)?null:h}return null},Ca=(e,t)=>e?!!((e.provider===""||e.provider.match(Mn))&&(t&&e.prefix===""||e.prefix.match(Mn))&&e.name.match(Mn)):!1,tc=Object.freeze({left:0,top:0,width:16,height:16}),Ra=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Wa=Object.freeze({...tc,...Ra}),to=Object.freeze({...Wa,body:"",hidden:!1});function cm(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function zs(e,t){const r=cm(e,t);for(const n in to)n in Ra?n in e&&!(n in r)&&(r[n]=Ra[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function lm(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function u(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const h=n[s]&&n[s].parent,v=h&&u(h);v&&(i[s]=[h].concat(v))}return i[s]}return Object.keys(r).concat(Object.keys(n)).forEach(u),i}function fm(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let u={};function s(h){u=zs(n[h]||i[h],u)}return s(t),r.forEach(s),zs(e,u)}function rc(e,t){const r=[];if(typeof e!="object"||typeof e.icons!="object")return r;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),r.push(i)});const n=lm(e);for(const i in n){const u=n[i];u&&(t(i,fm(e,i,u)),r.push(i))}return r}const dm={provider:"",aliases:{},not_found:{},...tc};function Mi(e,t){for(const r in t)if(r in e&&typeof e[r]!=typeof t[r])return!1;return!0}function nc(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Mi(e,dm))return null;const r=t.icons;for(const i in r){const u=r[i];if(!i.match(Mn)||typeof u.body!="string"||!Mi(u,to))return null}const n=t.aliases||Object.create(null);for(const i in n){const u=n[i],s=u.parent;if(!i.match(Mn)||typeof s!="string"||!r[s]&&!n[s]||!Mi(u,to))return null}return t}const Vs=Object.create(null);function hm(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Lr(e,t){const r=Vs[e]||(Vs[e]=Object.create(null));return r[t]||(r[t]=hm(e,t))}function ko(e,t){return nc(t)?rc(t,(r,n)=>{n?e.icons[r]=n:e.missing.add(r)}):[]}function pm(e,t,r){try{if(typeof r.body=="string")return e.icons[t]={...r},!0}catch{}return!1}let qn=!1;function ac(e){return typeof e=="boolean"&&(qn=e),qn}function vm(e){const t=typeof e=="string"?Ya(e,!0,qn):e;if(t){const r=Lr(t.provider,t.prefix),n=t.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function mm(e,t){const r=Ya(e,!0,qn);if(!r)return!1;const n=Lr(r.provider,r.prefix);return pm(n,r.name,t)}function ym(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),qn&&!t&&!e.prefix){let i=!1;return nc(e)&&(e.prefix="",rc(e,(u,s)=>{s&&mm(u,s)&&(i=!0)})),i}const r=e.prefix;if(!Ca({provider:t,prefix:r,name:"a"}))return!1;const n=Lr(t,r);return!!ko(n,e)}const ic=Object.freeze({width:null,height:null}),oc=Object.freeze({...ic,...Ra}),gm=/(-?[0-9.]*[0-9]+[0-9.]*)/g,bm=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Xs(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(gm);if(n===null||!n.length)return e;const i=[];let u=n.shift(),s=bm.test(u);for(;;){if(s){const h=parseFloat(u);isNaN(h)?i.push(u):i.push(Math.ceil(h*t*r)/r)}else i.push(u);if(u=n.shift(),u===void 0)return i.join("");s=!s}}function wm(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),u=e.indexOf("</"+t);if(i===-1||u===-1)break;const s=e.indexOf(">",u);if(s===-1)break;r+=e.slice(i+1,u).trim(),e=e.slice(0,n).trim()+e.slice(s+1)}return{defs:r,content:e}}function _m(e,t){return e?"<defs>"+e+"</defs>"+t:t}function xm(e,t,r){const n=wm(e);return _m(n.defs,t+n.content+r)}const Tm=e=>e==="unset"||e==="undefined"||e==="none";function Pm(e,t){const r={...Wa,...e},n={...oc,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let u=r.body;[r,n].forEach(F=>{const Z=[],X=F.hFlip,U=F.vFlip;let ee=F.rotate;X?U?ee+=2:(Z.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),Z.push("scale(-1 1)"),i.top=i.left=0):U&&(Z.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),Z.push("scale(1 -1)"),i.top=i.left=0);let oe;switch(ee<0&&(ee-=Math.floor(ee/4)*4),ee=ee%4,ee){case 1:oe=i.height/2+i.top,Z.unshift("rotate(90 "+oe.toString()+" "+oe.toString()+")");break;case 2:Z.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:oe=i.width/2+i.left,Z.unshift("rotate(-90 "+oe.toString()+" "+oe.toString()+")");break}ee%2===1&&(i.left!==i.top&&(oe=i.left,i.left=i.top,i.top=oe),i.width!==i.height&&(oe=i.width,i.width=i.height,i.height=oe)),Z.length&&(u=xm(u,'<g transform="'+Z.join(" ")+'">',"</g>"))});const s=n.width,h=n.height,v=i.width,T=i.height;let M,D;s===null?(D=h===null?"1em":h==="auto"?T:h,M=Xs(D,v/T)):(M=s==="auto"?v:s,D=h===null?Xs(M,T/v):h==="auto"?T:h);const q={},N=(F,Z)=>{Tm(Z)||(q[F]=Z.toString())};N("width",M),N("height",D);const $=[i.left,i.top,v,T];return q.viewBox=$.join(" "),{attributes:q,viewBox:$,body:u}}const Om=/\sid="(\S+)"/g,km="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Cm=0;function Sm(e,t=km){const r=[];let n;for(;n=Om.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(u=>{const s=typeof t=="function"?t(u):t+(Cm++).toString(),h=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+h+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const ro=Object.create(null);function Em(e,t){ro[e]=t}function no(e){return ro[e]||ro[""]}function Co(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const So=Object.create(null),Cn=["https://api.simplesvg.com","https://api.unisvg.com"],Sa=[];for(;Cn.length>0;)Cn.length===1||Math.random()>.5?Sa.push(Cn.shift()):Sa.push(Cn.pop());So[""]=Co({resources:["https://api.iconify.design"].concat(Sa)});function Dm(e,t){const r=Co(t);return r===null?!1:(So[e]=r,!0)}function Eo(e){return So[e]}const Am=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Js=Am();function Mm(e,t){const r=Eo(e);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let i=0;r.resources.forEach(s=>{i=Math.max(i,s.length)});const u=t+".json?icons=";n=r.maxURL-i-r.path.length-u.length}return n}function Im(e){return e===404}const jm=(e,t,r)=>{const n=[],i=Mm(e,t),u="icons";let s={type:u,provider:e,prefix:t,icons:[]},h=0;return r.forEach((v,T)=>{h+=v.length+1,h>=i&&T>0&&(n.push(s),s={type:u,provider:e,prefix:t,icons:[]},h=v.length),s.icons.push(v)}),n.push(s),n};function Um(e){if(typeof e=="string"){const t=Eo(e);if(t)return t.path}return"/"}const Rm=(e,t,r)=>{if(!Js){r("abort",424);return}let n=Um(t.provider);switch(t.type){case"icons":{const u=t.prefix,h=t.icons.join(","),v=new URLSearchParams({icons:h});n+=u+".json?"+v.toString();break}case"custom":{const u=t.uri;n+=u.slice(0,1)==="/"?u.slice(1):u;break}default:r("abort",400);return}let i=503;Js(e+n).then(u=>{const s=u.status;if(s!==200){setTimeout(()=>{r(Im(s)?"abort":"next",s)});return}return i=501,u.json()}).then(u=>{if(typeof u!="object"||u===null){setTimeout(()=>{u===404?r("abort",u):r("next",i)});return}setTimeout(()=>{r("success",u)})}).catch(()=>{r("next",i)})},qm={prepare:jm,send:Rm};function Nm(e){const t={loaded:[],missing:[],pending:[]},r=Object.create(null);e.sort((i,u)=>i.provider!==u.provider?i.provider.localeCompare(u.provider):i.prefix!==u.prefix?i.prefix.localeCompare(u.prefix):i.name.localeCompare(u.name));let n={provider:"",prefix:"",name:""};return e.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const u=i.provider,s=i.prefix,h=i.name,v=r[u]||(r[u]=Object.create(null)),T=v[s]||(v[s]=Lr(u,s));let M;h in T.icons?M=t.loaded:s===""||T.missing.has(h)?M=t.missing:M=t.pending;const D={provider:u,prefix:s,name:h};M.push(D)}),t}function sc(e,t){e.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(i=>i.id!==t))})}function Bm(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let r=!1;const n=e.provider,i=e.prefix;t.forEach(u=>{const s=u.icons,h=s.pending.length;s.pending=s.pending.filter(v=>{if(v.prefix!==i)return!0;const T=v.name;if(e.icons[T])s.loaded.push({provider:n,prefix:i,name:T});else if(e.missing.has(T))s.missing.push({provider:n,prefix:i,name:T});else return r=!0,!0;return!1}),s.pending.length!==h&&(r||sc([e],u.id),u.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),u.abort))})}))}let Lm=0;function Fm(e,t,r){const n=Lm++,i=sc.bind(null,r,n);if(!t.pending.length)return i;const u={id:n,icons:t,callback:e,abort:i};return r.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(u)}),i}function Km(e,t=!0,r=!1){const n=[];return e.forEach(i=>{const u=typeof i=="string"?Ya(i,t,r):i;u&&n.push(u)}),n}var Hm={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ym(e,t,r,n){const i=e.resources.length,u=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let J=e.resources.slice(0);for(s=[];J.length>1;){const ne=Math.floor(Math.random()*J.length);s.push(J[ne]),J=J.slice(0,ne).concat(J.slice(ne+1))}s=s.concat(J)}else s=e.resources.slice(u).concat(e.resources.slice(0,u));const h=Date.now();let v="pending",T=0,M,D=null,q=[],N=[];typeof n=="function"&&N.push(n);function $(){D&&(clearTimeout(D),D=null)}function F(){v==="pending"&&(v="aborted"),$(),q.forEach(J=>{J.status==="pending"&&(J.status="aborted")}),q=[]}function Z(J,ne){ne&&(N=[]),typeof J=="function"&&N.push(J)}function X(){return{startTime:h,payload:t,status:v,queriesSent:T,queriesPending:q.length,subscribe:Z,abort:F}}function U(){v="failed",N.forEach(J=>{J(void 0,M)})}function ee(){q.forEach(J=>{J.status==="pending"&&(J.status="aborted")}),q=[]}function oe(J,ne,se){const Pe=ne!=="success";switch(q=q.filter(Me=>Me!==J),v){case"pending":break;case"failed":if(Pe||!e.dataAfterTimeout)return;break;default:return}if(ne==="abort"){M=se,U();return}if(Pe){M=se,q.length||(s.length?de():U());return}if($(),ee(),!e.random){const Me=e.resources.indexOf(J.resource);Me!==-1&&Me!==e.index&&(e.index=Me)}v="completed",N.forEach(Me=>{Me(se)})}function de(){if(v!=="pending")return;$();const J=s.shift();if(J===void 0){if(q.length){D=setTimeout(()=>{$(),v==="pending"&&(ee(),U())},e.timeout);return}U();return}const ne={status:"pending",resource:J,callback:(se,Pe)=>{oe(ne,se,Pe)}};q.push(ne),T++,D=setTimeout(de,e.rotate),r(J,t,ne.callback)}return setTimeout(de),X}function uc(e){const t={...Hm,...e};let r=[];function n(){r=r.filter(h=>h().status==="pending")}function i(h,v,T){const M=Ym(t,h,v,(D,q)=>{n(),T&&T(D,q)});return r.push(M),M}function u(h){return r.find(v=>h(v))||null}return{query:i,find:u,setIndex:h=>{t.index=h},getIndex:()=>t.index,cleanup:n}}function Zs(){}const Ii=Object.create(null);function Wm(e){if(!Ii[e]){const t=Eo(e);if(!t)return;const r=uc(t),n={config:t,redundancy:r};Ii[e]=n}return Ii[e]}function $m(e,t,r){let n,i;if(typeof e=="string"){const u=no(e);if(!u)return r(void 0,424),Zs;i=u.send;const s=Wm(e);s&&(n=s.redundancy)}else{const u=Co(e);if(u){n=uc(u);const s=e.resources?e.resources[0]:"",h=no(s);h&&(i=h.send)}}return!n||!i?(r(void 0,424),Zs):n.query(t,i,r)().abort}const eu="iconify2",Nn="iconify",cc=Nn+"-count",tu=Nn+"-version",lc=36e5,Gm=168,Qm=50;function ao(e,t){try{return e.getItem(t)}catch{}}function Do(e,t,r){try{return e.setItem(t,r),!0}catch{}}function ru(e,t){try{e.removeItem(t)}catch{}}function io(e,t){return Do(e,cc,t.toString())}function oo(e){return parseInt(ao(e,cc))||0}const $a={local:!0,session:!0},fc={local:new Set,session:new Set};let Ao=!1;function zm(e){Ao=e}let Ta=typeof window>"u"?{}:window;function dc(e){const t=e+"Storage";try{if(Ta&&Ta[t]&&typeof Ta[t].length=="number")return Ta[t]}catch{}$a[e]=!1}function hc(e,t){const r=dc(e);if(!r)return;const n=ao(r,tu);if(n!==eu){if(n){const h=oo(r);for(let v=0;v<h;v++)ru(r,Nn+v.toString())}Do(r,tu,eu),io(r,0);return}const i=Math.floor(Date.now()/lc)-Gm,u=h=>{const v=Nn+h.toString(),T=ao(r,v);if(typeof T=="string"){try{const M=JSON.parse(T);if(typeof M=="object"&&typeof M.cached=="number"&&M.cached>i&&typeof M.provider=="string"&&typeof M.data=="object"&&typeof M.data.prefix=="string"&&t(M,h))return!0}catch{}ru(r,v)}};let s=oo(r);for(let h=s-1;h>=0;h--)u(h)||(h===s-1?(s--,io(r,s)):fc[e].add(h))}function pc(){if(!Ao){zm(!0);for(const e in $a)hc(e,t=>{const r=t.data,n=t.provider,i=r.prefix,u=Lr(n,i);if(!ko(u,r).length)return!1;const s=r.lastModified||-1;return u.lastModifiedCached=u.lastModifiedCached?Math.min(u.lastModifiedCached,s):s,!0})}}function Vm(e,t){const r=e.lastModifiedCached;if(r&&r>=t)return r===t;if(e.lastModifiedCached=t,r)for(const n in $a)hc(n,i=>{const u=i.data;return i.provider!==e.provider||u.prefix!==e.prefix||u.lastModified===t});return!0}function Xm(e,t){Ao||pc();function r(n){let i;if(!$a[n]||!(i=dc(n)))return;const u=fc[n];let s;if(u.size)u.delete(s=Array.from(u).shift());else if(s=oo(i),s>=Qm||!io(i,s+1))return;const h={cached:Math.floor(Date.now()/lc),provider:e.provider,data:t};return Do(i,Nn+s.toString(),JSON.stringify(h))}t.lastModified&&!Vm(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),r("local")||r("session"))}function nu(){}function Jm(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Bm(e)}))}function Zm(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:r,prefix:n}=e,i=e.iconsToLoad;delete e.iconsToLoad;let u;if(!i||!(u=no(r)))return;u.prepare(r,n,i).forEach(h=>{$m(r,h,v=>{if(typeof v!="object")h.icons.forEach(T=>{e.missing.add(T)});else try{const T=ko(e,v);if(!T.length)return;const M=e.pendingIcons;M&&T.forEach(D=>{M.delete(D)}),Xm(e,v)}catch(T){console.error(T)}Jm(e)})})}))}const ey=(e,t)=>{const r=Km(e,!0,ac()),n=Nm(r);if(!n.pending.length){let v=!0;return t&&setTimeout(()=>{v&&t(n.loaded,n.missing,n.pending,nu)}),()=>{v=!1}}const i=Object.create(null),u=[];let s,h;return n.pending.forEach(v=>{const{provider:T,prefix:M}=v;if(M===h&&T===s)return;s=T,h=M,u.push(Lr(T,M));const D=i[T]||(i[T]=Object.create(null));D[M]||(D[M]=[])}),n.pending.forEach(v=>{const{provider:T,prefix:M,name:D}=v,q=Lr(T,M),N=q.pendingIcons||(q.pendingIcons=new Set);N.has(D)||(N.add(D),i[T][M].push(D))}),u.forEach(v=>{const{provider:T,prefix:M}=v;i[T][M].length&&Zm(v,i[T][M])}),t?Fm(t,n,u):nu};function ty(e,t){const r={...e};for(const n in t){const i=t[n],u=typeof i;n in ic?(i===null||i&&(u==="string"||u==="number"))&&(r[n]=i):u===typeof r[n]&&(r[n]=n==="rotate"?i%4:i)}return r}const ry=/[\s,]+/;function ny(e,t){t.split(ry).forEach(r=>{switch(r.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function ay(e,t=0){const r=e.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(r===""){const i=parseInt(e);return isNaN(i)?0:n(i)}else if(r!==e){let i=0;switch(r){case"%":i=25;break;case"deg":i=90}if(i){let u=parseFloat(e.slice(0,e.length-r.length));return isNaN(u)?0:(u=u/i,u%1===0?n(u):0)}}return t}function iy(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function oy(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function sy(e){return"data:image/svg+xml,"+oy(e)}function uy(e){return'url("'+sy(e)+'")'}const au={...oc,inline:!1},cy={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},ly={display:"inline-block"},so={"background-color":"currentColor"},vc={"background-color":"transparent"},iu={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},ou={"-webkit-mask":so,mask:so,background:vc};for(const e in ou){const t=ou[e];for(const r in iu)t[e+"-"+r]=iu[r]}function fy(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function dy(e,t){const r=ty(au,t),n=t.mode||"svg",i=n==="svg"?{...cy}:{};e.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let u=typeof t.style=="string"?t.style:"";for(let X in t){const U=t[X];if(U!==void 0)switch(X){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":r[X]=U===!0||U==="true"||U===1;break;case"flip":typeof U=="string"&&ny(r,U);break;case"color":u=u+(u.length>0&&u.trim().slice(-1)!==";"?";":"")+"color: "+U+"; ";break;case"rotate":typeof U=="string"?r[X]=ay(U):typeof U=="number"&&(r[X]=U);break;case"ariaHidden":case"aria-hidden":U!==!0&&U!=="true"&&delete i["aria-hidden"];break;default:if(X.slice(0,3)==="on:")break;au[X]===void 0&&(i[X]=U)}}const s=Pm(e,r),h=s.attributes;if(r.inline&&(u="vertical-align: -0.125em; "+u),n==="svg"){Object.assign(i,h),u!==""&&(i.style=u);let X=0,U=t.id;return typeof U=="string"&&(U=U.replace(/-/g,"_")),{svg:!0,attributes:i,body:Sm(s.body,U?()=>U+"ID"+X++:"iconifySvelte")}}const{body:v,width:T,height:M}=e,D=n==="mask"||(n==="bg"?!1:v.indexOf("currentColor")!==-1),q=iy(v,{...h,width:T+"",height:M+""}),$={"--svg":uy(q)},F=X=>{const U=h[X];U&&($[X]=fy(U))};F("width"),F("height"),Object.assign($,ly,D?so:vc);let Z="";for(const X in $)Z+=X+": "+$[X]+";";return i.style=Z+u,{svg:!1,attributes:i}}ac(!0);Em("",qm);if(typeof document<"u"&&typeof window<"u"){pc();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!ym(n))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let r in t){const n="IconifyProviders["+r+"] is invalid.";try{const i=t[r];if(typeof i!="object"||!i||i.resources===void 0)continue;Dm(r,i)||console.error(n)}catch{console.error(n)}}}}function hy(e,t,r,n,i){function u(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof e=="object"&&e!==null&&typeof e.body=="string")return t.name="",u(),{data:{...Wa,...e}};let s;if(typeof e!="string"||(s=Ya(e,!1,!0))===null)return u(),null;const h=vm(s);if(!h)return r&&(!t.loading||t.loading.name!==e)&&(u(),t.name="",t.loading={name:e,abort:ey([s],n)}),null;u(),t.name!==e&&(t.name=e,i&&!t.destroyed&&i(e));const v=["iconify"];return s.prefix!==""&&v.push("iconify--"+s.prefix),s.provider!==""&&v.push("iconify--"+s.provider),{data:h,classes:v}}function py(e,t){return e?dy({...Wa,...e},t):null}var vy=Ce("<svg><!></svg>"),my=Ce("<span></span>");function Ga(e,t){const r=Ui(t,["children","$$slots","$$events"]);nr(t,!1);const n=Rt({name:"",loading:null,destroyed:!1});let i=Rt(!1),u=Rt(0),s=Rt();const h=D=>{typeof r.onLoad=="function"&&r.onLoad(D),lu()("load",{icon:D})};function v(){cu(u)}Qc(()=>{Ke(i,!0)}),zc(()=>{Oi(n,R(n).destroyed=!0),R(n).loading&&(R(n).loading.abort(),Oi(n,R(n).loading=null))}),Lt(()=>(R(u),mt(r),R(n),R(i),R(s)),()=>{R(u);const D=hy(r.icon,R(n),R(i),v,h);Ke(s,D?py(D.data,r):null),R(s)&&D.classes&&Oi(s,R(s).attributes.class=(typeof r.class=="string"?r.class+" ":"")+D.classes.join(" "))}),uu(),Ba();var T=gt(),M=Re(T);He(M,()=>R(s),D=>{var q=gt(),N=Re(q);He(N,()=>R(s).svg,$=>{var F=vy();let Z;var X=G(F);fu(X,()=>R(s).body,!0,!1),fe(()=>Z=Ri(F,Z,{...R(s).attributes},!1,"")),ae($,F)},$=>{var F=my();let Z;fe(()=>Z=Ri(F,Z,{...R(s).attributes},!0,"")),ae($,F)}),ae(D,q)}),ae(e,T),ar()}var yy=Ce("<span></span>"),gy=Ce("<!> ",1),by=Ce("<button><!></button>");function Mo(e,t){nr(t,!0);let r=_e(t,"applyLoading",3,!0),n=_e(t,"classes",3,""),i=_e(t,"text",3,"");var u=by();u.__click=function(...h){const v=t.cmd;return v==null?void 0:v.apply(this,h)};var s=G(u);He(s,()=>ke.loading&&r(),h=>{var v=yy();fe(()=>rn(v,` loading loading-spinner loading-xs text-${nt(t.color)}`)),ae(h,v)},h=>{var v=gy(),T=Re(v);Ga(T,{get icon(){return t.icon},class:"text-base"});var M=j(T,!0);fe(()=>Ue(M,` ${nt(i())}`)),ae(h,v)}),fe(()=>rn(u,` ${nt(n()??"")} btn join-item btn-square btn-outline btn-${nt(t.color)} btn-sm`)),ae(e,u),ar()}uo(["click"]);function wy(e){const t=sn(e),{subscribe:r,set:n,update:i}=t,u=typeof window<"u";return u&&localStorage.storable&&n(JSON.parse(localStorage.storable)),{subscribe:r,set:s=>{u&&(localStorage.storable=JSON.stringify(s)),n(s)},update:s=>{const h=s(qi(t));u&&(localStorage.storable=JSON.stringify(h)),n(h)}}}const Sn=new Vv(!0),Zr=wy({showMetrics:!0,showCPUChart:!0,refreshProcesses:!0,refreshTimerSeconds:5,pause:!0});var _y=Ce('<span class="countdown"><span></span></span>'),xy=Ce('<div class="navbar bg-base-100 gap-4 sticky top-0 z-50"><div class="flex flex-row gap-3 items-center m-auto"><div class="m-auto md:text-right"><span class="text-2xl font-bold">Hecate</span></div> <!> <!></div></div> <dialog id="my_modal_3" class="modal"><div class="modal-box"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button></form> <h3 class="font-bold text-lg">Settings</h3> <div class="form-control"><label class="cursor-pointer label w-[200px]"><span class="label-text">Show Cpu Charts</span> <input type="checkbox" class="checkbox checkbox-success"></label> <label class="cursor-pointer label w-[200px]"><span class="label-text">Show Metrics</span> <input type="checkbox" class="checkbox checkbox-success"></label> <button class="btn btn-accent mt-5">Show All</button></div></div></dialog>',1);function Ty(e,t){nr(t,!0);const r={};La(r);const n=()=>jn(Zr,"$settingsStore",r);let i,u=Dt(yt(n().pause)),s=en(()=>[{color:"primary",icon:"mdi:refresh",cmd:async()=>{await Br()}},{color:"accent",icon:R(u)?"mdi:play":"mdi:pause",applyLoading:!1,cmd:async()=>{Sn.next(!Sn.value)}},{color:"info",icon:"mdi:cog",applyLoading:!1,cmd:async()=>{i.showModal()}}]),h=Dt(0);En(()=>{const te=im(1e3,1e3).pipe(om(le=>!Sn.value)).subscribe(le=>{R(h)==n().refreshTimerSeconds?(Ke(h,0),Br()):cu(h)});return()=>{te.unsubscribe()}}),En(()=>(Sn.subscribe(te=>{tn(Zr,Ft(n).pause=te,Ft(n)),Ke(u,yt(te)),te&&Ke(h,0)}),()=>{Sn.unsubscribe()}));function v(){rr.data&&rr.data.forEach(te=>{te.show=!0})}var T=xy(),M=Re(T),D=G(M),q=G(D),N=j(j(q,!0));Yt(N,65,()=>R(s),Wt,(te,le,Se)=>{var Ve=gt(),ot=Re(Ve);Mo(ot,lo(()=>ce(le))),ae(te,Ve)});var $=j(j(N,!0));He($,()=>!R(u),te=>{var le=_y(),Se=G(le);fe(()=>ct(Se,"style",`--value:${nt(n().refreshTimerSeconds-R(h))};`)),ae(te,le)});var F=j(j(M,!0));co(F,te=>i=te,()=>i);var Z=G(F),X=G(Z),U=j(j(X,!0)),ee=j(j(U,!0)),oe=G(ee),de=G(oe),J=j(j(de,!0));In(J);var ne=j(j(oe,!0)),se=G(ne),Pe=j(j(se,!0));In(Pe);var Me=j(j(ne,!0));fs(J,()=>n().showCPUChart,te=>tn(Zr,Ft(n).showCPUChart=te,Ft(n))),fs(Pe,()=>n().showMetrics,te=>tn(Zr,Ft(n).showMetrics=te,Ft(n))),Zt("click",Me,v,!1),ae(e,T),ar()}var Py=Ce('<div class="flex flex-row gap-4 items-center"><div> </div> <!></div> <div class="flex flex-row gap-4"></div> <input type="text" placeholder="Type here" class="input input-bordered input-primary w-full max-w-xs">',1),Oy=Ce('<table class="table table-zebra mt-2 table-xs w-full"><tbody><tr class="!max-h-[30px]"><td class="w-[10px] max-h-[30px]"><!></td><td class="w-[150px]"><div> </div></td><td> </td></tr></tbody></table>'),ky=Ce("<li> </li>"),Cy=Ce('<div class="divider flex-auto mt-12"><!></div> <div class="overflow-x-auto"><!></div>',1);function Sy(e,t){nr(t,!1);var r=Vc(()=>zi);let n=Rt([{color:"info",cmd:async()=>{await Oa(ke.selected,10)},icon:"",text:"10"},{color:"info",cmd:async()=>{await Oa(ke.selected,100)},icon:"",text:"100"},{color:"info",cmd:async()=>{await Oa(ke.selected,500)},icon:"",text:"500"}]);Ba();var i=gt(),u=Re(i);He(u,()=>ke.selected,s=>{var h=gt(),v=Re(h);He(v,()=>r().logs,T=>{var M=Cy(),D=Re(M),q=G(D);He(q,()=>ke.selected,F=>{var Z=Py(),X=Re(Z),U=G(X),ee=G(U),oe=j(j(U,!0));Oo(oe,{get process(){return ke.selected}});var de=j(j(X,!0));Yt(de,9,()=>R(n),Wt,(ne,se,Pe)=>{var Me=gt(),te=Re(Me);Mo(te,lo(()=>ce(se),{$$events:{click:ce(se).cmd}})),ae(ne,Me)});var J=j(j(de,!0));In(J),fe(()=>{var ne;return Ue(ee,(ne=ke.selected)==null?void 0:ne.name)}),Ni(J,()=>r().filterText,ne=>r(r().filterText=ne)),ae(F,Z)});var N=j(j(D,!0)),$=G(N);He($,()=>r().filteredLogs,F=>{var Z=gt(),X=Re(Z);Yt(X,1,()=>r().filteredLogs,Wt,(U,ee,oe)=>{var de=gt(),J=Re(de);He(J,()=>typeof ce(ee)=="object"&&typeof ce(ee).message<"u",ne=>{var se=Oy(),Pe=G(se),Me=G(Pe),te=G(Me),le=G(te);Ga(le,{icon:"radix-icons:dot",class:"text-2xl"});var Se=j(te),Ve=G(Se),ot=G(Ve);fe(()=>Ue(ot,`${nt(Jl(ce(ee).timestamp,"dd/MM HH:mm:ss.SSS"))}:`));var bt=j(Se),ft=G(bt);fe(()=>{rn(bt,ce(ee).type=="out"?"text-info":"text-error"),Ue(ft,ce(ee).message)}),ae(ne,se)},ne=>{var se=ky();rn(se,"");var Pe=G(se);fe(()=>Ue(Pe,ce(ee))),ae(ne,se)}),ae(U,de)}),ae(F,Z)}),ae(T,M)}),ae(s,h)}),ae(e,i),ar()}var Ey=Ce('<div class="flex flex-auto gap-5"></div>');function mc(e,t){nr(t,!0);let r=en(()=>{let i=[];return(t.process.status=="online"||t.process.status=="stopping")&&i.push({color:"warning",icon:"ic:round-pause",cmd:async()=>{await Iv(t.process),ke.selected=t.process}}),i.push({color:t.process.status=="online"?"primary":"success",icon:t.process.status=="online"?"solar:restart-bold":"solar:play-bold",cmd:async()=>{await Mv(t.process),ke.selected=t.process}},{color:"info",icon:"octicon:log-16",cmd:async()=>{await Oa(t.process),ke.selected=t.process,cs.dialogOpen=!0,cs.componentToRender=Sy}},{color:"neutral-content",icon:"fluent-emoji-high-contrast:toilet",cmd:async()=>{await jv(t.process),ke.selected=t.process}},{color:"error",icon:"solar:trash-bin-trash-broken",cmd:async()=>{await Av(t.process),ke.selected=t.process}}),i.filter(Boolean)});var n=Ey();Yt(n,73,()=>R(r),Wt,(i,u,s)=>{var h=gt(),v=Re(h);Mo(v,lo(()=>ce(u))),ae(i,h)}),ae(e,n),ar()}var Dy=Ce('<div class="text-xs italic text-left"> </div> <div class="text-left"> </div>',1),Ay=Ce('<div class="grid grid-cols-2 gap-2 items-center m-auto"><!></div>'),My=Ce('<div class="text-center"><button class="btn btn-ghost"> </button></div>'),Iy=Ce('<div class="card w-96 bg-neutral shadow-xl"><div class="card-body !p-2"><h2 class="card-title mb-1 flex flex-row items-center justify-center"><div> </div> <!> <button class="btn btn-icon-sm btn-ghost"><!></button></h2> <div class="grid grid-cols-3 gap-2 m-auto mb-2"><div class="italic text-xs text-center">Up Time</div> <div class="italic text-xs text-center">Memory</div> <div class="italic text-xs text-center">CPU</div> <div class="text-center"> </div> <div class="text-center"> </div> <div class="text-center"> </div></div> <!> <div class="card-actions justify-end m-auto !mt-1 !mb-1"><!></div> <div class="grid grid-cols-3 gap-2 m-auto mb-2"></div></div></div>');function jy(e,t){nr(t,!0);const r={};La(r);const n=()=>jn(Zr,"$settingsStore",r);function i(te){te.show=!te.show,rr.replace({name:te.name,serial:te.serial,show:te.show})}var u=Iy(),s=G(u),h=G(s),v=G(h),T=G(v),M=j(j(v,!0));Oo(M,{get process(){return t.process}});var D=j(j(M,!0)),q=G(D);Ga(q,{icon:"iconamoon:eye-off",class:"text-xl text-accent"});var N=j(j(h,!0)),$=G(N),F=j(j($,!0)),Z=j(j(F,!0)),X=j(j(Z,!0)),U=G(X);fe(()=>Ue(U,Zu(t.process.uptime)));var ee=j(j(X,!0)),oe=G(ee);fe(()=>Ue(oe,Ju(Number(t.process.memory))));var de=j(j(ee,!0)),J=G(de),ne=j(j(N,!0));He(ne,()=>n().showMetrics,te=>{var le=Ay(),Se=G(le);He(Se,()=>t.process.monitor,Ve=>{var ot=gt(),bt=Re(ot);Yt(bt,65,()=>{var ft;return Object.entries((ft=t.process)==null?void 0:ft.monitor).filter(([Ye,st])=>!ec.includes(Ye)&&st.value!==void 0).map(([Ye,st])=>({key:Ye,value:st.value}))},Wt,(ft,Ye,st)=>{var Xe=Dy(),dt=Re(Xe),Gt=G(dt),Be=j(j(dt,!0)),ie=G(Be);fe(()=>{Ue(Gt,`${nt(ce(Ye).key)}:`),Ue(ie,ce(Ye).value)}),ae(ft,Xe)}),ae(Ve,ot)}),ae(te,le)});var se=j(j(ne,!0)),Pe=G(se);mc(Pe,{get process(){return t.process}});var Me=j(j(se,!0));Yt(Me,73,()=>t.process.actions,Wt,(te,le,Se)=>{var Ve=My(),ot=G(Ve),bt=G(ot);fe(()=>Ue(bt,ce(le))),Zt("click",ot,()=>Dv(t.process.pm_id,ce(le)),!1),ae(te,Ve)}),fe(()=>{Ue(T,t.process.name),Ue(J,`${nt(t.process.cpu)}%`)}),Zt("click",D,()=>i(t.process),!1),ae(e,u),ar()}const ji=sn({}),su=sn({});var Uy=Na('<polyline fill="transparent"></polyline>'),Ry=Na("<rect></rect>"),qy=Na("<circle></circle>"),Ny=Na('<!><rect fill="transparent"></rect>',1),By=Ce(" <span> </span> ",1),Ly=Ce('<div class="tiny-linked-charts-value"><!></div>'),Fy=Ce("<svg><g><!><!></g></svg> <!>",1);function Ky(e,t){const r=Ui(t,["children","$$slots","$$events"]),n=Ui(r,["uid","data","labels","values","linked","height","width","barMinWidth","barMinHeight","hideBarBelow","grow","align","gap","fill","fadeOpacity","hover","transition","showValue","valueDefault","valuePrepend","valueAppend","valuePosition","valueUndefined","scaleMax","scaleMin","type","lineColor","tabindex","dispatchEvents","preserveAspectRatio","clickHandler"]);nr(t,!1);const i={};La(i);const u=()=>jn(su,"$hoveringValue",i),s=()=>jn(ji,"$hoveringKey",i),h=Rt(),v=Rt(),T=Rt(),M=Rt(),D=Rt();let q=_e(t,"uid",8,()=>(Math.random()+1).toString(36).substring(7)),N=_e(t,"data",12,()=>({})),$=_e(t,"labels",8,()=>[]),F=_e(t,"values",8,()=>[]),Z=_e(t,"linked",0,""),X=_e(t,"height",0,40),U=_e(t,"width",0,150),ee=_e(t,"barMinWidth",0,4),oe=_e(t,"barMinHeight",0,0),de=_e(t,"hideBarBelow",0,0),J=_e(t,"grow",0,!1),ne=_e(t,"align",0,"right"),se=_e(t,"gap",0,1),Pe=_e(t,"fill",0,"#ff3e00"),Me=_e(t,"fadeOpacity",0,.5),te=_e(t,"hover",0,!0),le=_e(t,"transition",0,0),Se=_e(t,"showValue",0,!1),Ve=_e(t,"valueDefault",0,"&nbsp;"),ot=_e(t,"valuePrepend",0,""),bt=_e(t,"valueAppend",0,""),ft=_e(t,"valuePosition",0,"static"),Ye=_e(t,"valueUndefined",0,0),st=_e(t,"scaleMax",0,0),Xe=_e(t,"scaleMin",0,0),dt=_e(t,"type",0,"bar"),Gt=_e(t,"lineColor",8,Pe),Be=_e(t,"tabindex",8,()=>-1),ie=_e(t,"dispatchEvents",0,!1),ye=_e(t,"preserveAspectRatio",0,!1),je=_e(t,"clickHandler",0,(qe,Ee)=>null);const vt=lu();let ir=Rt(0),re=Rt([]),wt=Rt();function qt(){return st()?st():R(h)?Math.max(...Object.values(N())):0}function ge(qe){if(qe<de()||qe<Xe())return 0;const Ee=st()||R(T),ut=Xe()||0,Je=(qe-ut)/(Ee-ut);return Math.max(Math.ceil(Je*parseInt(X())),oe())}function Qt(){return Math.max((parseInt(U())-R(h)*parseInt(se()))/R(h),parseInt(ee()))}function fn(){return ne()=="left"?0:parseInt(se())+parseInt(U())-(parseInt(se())+R(v))*R(h)}function Nt(){let qe=[];for(let Ee=0;Ee<Object.keys(N()).length;Ee++)qe.push([Ee*(R(v)+parseInt(se())+R(v)/Object.keys(N()).length),X()-ge(Object.values(N())[Ee])]);return qe}async function kr(qe,Ee){te()&&(tn(ji,Ft(s)[R(D)]=qe,Ft(s)),await us(),ie()&&vt("hover",{uid:q(),key:qe,index:Ee,linkedKey:R(D),value:u()[q()],valueElement:R(wt),eventElement:event.target}))}async function Cr(){te()&&(tn(ji,Ft(s)[R(D)]=null,Ft(s)),await us(),ie()&&vt("blur",{uid:q(),linkedKey:R(D),valueElement:R(wt),eventElement:event.target}))}Lt(()=>(mt($()),mt(F())),()=>{$().length&&F().length&&N(Object.fromEntries($().map((qe,Ee)=>[$()[Ee],F()[Ee]])))}),Lt(()=>mt(N()),()=>{Ke(h,Object.keys(N()).length)}),Lt(()=>(mt(J()),R(h),mt(ee())),()=>{Ke(v,J()?Qt(R(h)):parseInt(ee()))}),Lt(()=>mt(N()),()=>{Ke(T,qt(N()))}),Lt(()=>R(h),()=>{Ke(M,R(h)?fn():0)}),Lt(()=>mt(Z()),()=>{Ke(D,Z()||(Math.random()+1).toString(36).substring(7))}),Lt(()=>(s(),R(D),mt(N())),()=>{tn(su,Ft(u)[q()]=s()[R(D)]?N()[s()[R(D)]]:null,Ft(u))}),Lt(()=>(mt(ft()),mt(se()),R(v),mt(N()),s(),R(D),R(M)),()=>{ft()=="floating"&&Ke(ir,(parseInt(se())+R(v))*Object.keys(N()).indexOf(s()[R(D)])+R(M))}),Lt(()=>(mt(dt()),mt(N())),()=>{dt()=="line"&&Ke(re,Nt(N()))}),Lt(()=>(mt(ie()),u(),mt(q()),R(D),R(wt)),()=>{ie()&&vt("value-update",{value:u()[q()],uid:q(),linkedKey:R(D),valueElement:R(wt)})}),Lt(()=>mt(Be()),()=>{Be()>0&&console.warn("Tabindex should not be higher than 0")}),uu(),Ba();var Kr=Fy(),zt=Re(Kr);let vr;var _t=G(zt),Sr=G(_t);He(Sr,()=>dt()=="line",qe=>{var Ee=Uy();fe(()=>ct(Ee,"points",R(re).join(" "))),fe(()=>ct(Ee,"stroke",Gt())),ae(qe,Ee)});var Vt=j(Sr);Yt(Vt,1,()=>Object.entries(N()),Wt,(qe,Ee,ut)=>{let Je=()=>ce(ce(Ee))[0],kt=()=>ce(ce(Ee))[1];var Et=Ny(),et=Re(Et);He(et,()=>dt()=="bar",Mt=>{var Ne=Ry();fe(()=>ct(Ne,"height",dt()=="line"?X():ge(kt()))),fe(()=>ct(Ne,"x",(parseInt(se())+R(v))*ce(ut))),fe(()=>ct(Ne,"y",X()-ge(kt()))),fe(()=>{ct(Ne,"style",le()?`transition: all ${le()}ms`:null),ct(Ne,"opacity",te()&&s()[R(D)]&&s()[R(D)]!=Je()?Me():1),ct(Ne,"fill",Pe()),ct(Ne,"width",R(v))}),ae(Mt,Ne)},Mt=>{var Ne=gt(),V=Re(Ne);He(V,()=>dt()=="line",Ct=>{var Qe=qy();fe(()=>ct(Qe,"r",J()?parseInt(ee()):R(v)/2)),fe(()=>ct(Qe,"cy",X()-ge(kt()))),fe(()=>ct(Qe,"cx",(parseInt(se())+R(v)+R(v)/Object.keys(N()).length)*ce(ut))),fe(()=>ct(Qe,"fill",te()&&s()[R(D)]!==null&&s()[R(D)]==Je()?Pe():"transparent")),ae(Ct,Qe)},null,!0),ae(Mt,Ne)});var We=j(et);fe(()=>ct(We,"x",(parseInt(se())+R(v))*ce(ut))),fe(()=>{ct(We,"width",R(v)),ct(We,"height",X()),ct(We,"tabindex",Be())}),Zt("mouseover",We,()=>kr(Je(),ce(ut)),!1),Zt("focus",We,()=>kr(Je(),ce(ut)),!1),Zt("touchstart",We,()=>kr(Je(),ce(ut)),!1,!0),Zt("click",We,()=>je()(Je(),ce(ut)),!1),Zt("keypress",We,()=>je()(Je(),ce(ut)),!1),ae(qe,Et)});var Hr=j(j(zt,!0));He(Hr,()=>Se()&&(u()[q()]||Ve()),qe=>{var Ee=Ly(),ut=G(Ee);He(ut,()=>u()[q()]!==null,Je=>{var kt=By(),Et=Re(kt,!0),et=j(Et);co(et,Ne=>Ke(wt,Ne),()=>R(wt));var We=G(et),Mt=j(et,!0);fe(()=>{Ue(Et,`${nt(ot())} `),Ue(We,u()[q()]||Ye()),Ue(Mt,` ${nt(bt())}`)}),ae(Je,kt)},Je=>{var kt=gt(),Et=Re(kt);fu(Et,Ve,!1,!1),ae(Je,kt)}),fe(()=>ct(Ee,"style",ft()=="floating"?`position: absolute; transform: translateX(${R(ir)}px)`:null)),ae(qe,Ee)}),fe(()=>{vr=Ri(zt,vr,{width:U(),height:dt()=="line"?X()+R(v)/2:X(),viewBox:`0 0 ${nt(U())} ${nt(X())}`,preserveAspectRatio:ye()?"true":"none",...n},!1,""),ct(_t,"transform",`translate(${nt(R(M))}, 0)`)}),Zt("mouseleave",zt,Cr,!1),Zt("blur",zt,Cr,!1),ae(e,Kr),ar()}var Hy=(e,t)=>{t.host.visibile=!t.host.visibile},Yy=Ce("<button><div></div> <div> </div></button>");function Wy(e,t){nr(t,!0);var r=Yy();r.__click=[Hy,t];var n=G(r),i=j(j(n,!0)),u=G(i);fe(()=>{rn(r,`
flex flex-row gap-2
items-center
curstor-pointer w-[150px] rounded-full m-auto border-2 p-1 ${nt(t.host.visibile?"border-success":"border-neutral")}`),rn(n,`w-3 h-3 ${nt(t.host.pinged?"bg-neutral":"bg-success animated-pulse")}`),Ue(u,t.host.ip)}),ae(e,r),ar()}uo(["click"]);var $y=(e,t)=>{t()},Gy=Ce('<div class="modal-box"><h3 class="text-lg font-bold">Add Host</h3> <label class="form-control w-full max-w-xs"><div class="label"><span class="label-text">Host name</span></div> <input type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"></label> <label class="form-control w-full max-w-xs"><div class="label"><span class="label-text">Host address</span></div> <input type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"></label> <div class="flex flex-row items-center justify-end gap-2"><button class="btn">Cancel</button> <button class="btn btn-success">Save</button></div></div>'),Qy=Ce('<th class="text-accent"></th>'),zy=Ce('<th class="text-accent">Metrics</th>'),Vy=(e,t,r)=>t(ce(r)),Xy=Ce("<td><!></td>"),Jy=Ce('<div class="text-xs italic text-left"> </div> <div class="text-left"> </div>',1),Zy=Ce('<td class="grid grid-cols-2 gap-1 items-center"><!></td>'),eg=Ce('<tr><td> </td><td class="text-secondary font-semibold"> <button class="btn btn-icon-sm btn-ghost"><!></button></td><td> </td><td><!></td><td> </td><td> </td><td> </td><td> </td><td> </td><!><td><!></td><!></tr>'),tg=Ce('<div class="flex flex-wrap md:hidden justify-center gap-5 mt-5"></div> <div class="text-center m-auto"><div class="hidden md:flex"><table class="table table-zebra" style="" id="tableproc"><thead><tr><th class="text-accent">ID</th><th class="text-accent">Process Name</th><th class="text-accent">PID</th><th class="text-accent">Status</th><th class="text-accent">Uptime</th><th class="text-accent">Memory</th><th class="text-accent">CPU</th><!><th class="text-accent">Istances</th><th class="text-accent">IP</th><th class="text-accent">Actions</th><!></tr></thead><tbody></tbody></table></div></div>',1),rg=Ce("<p>No processes found</p>"),ng=Ce('<!> <div class="flex flex-row items-center gap-2"><!> <button class="btn">open modal</button></div> <dialog id="host_modal" class="modal"><!></dialog> <!> <div class="h-[100px]"></div>',1);function fg(e,t){nr(t,!0);const r={};La(r);const n=()=>jn(Zr,"$settingsStore",r);En(()=>{Pr.data||(console.log("Loading servers"),Ev())}),En(()=>{Pr.data&&(console.log("Loading processes"),Br())});let i=en(()=>!ke.data||!rr.data?[]:ke.data.map(U=>({...rr.data.find(ee=>ee.name==U.name),...U})).filter(U=>U.show));En(()=>{rr.data&&rr.data.forEach(U=>{Rr.processInfos.put({name:U.name,serial:U.serial,show:U.show})})});function u(U){U.show=!U.show,rr.replace({name:U.name,serial:U.serial,show:U.show})}let s,h=Dt(yt(new Qi));function v(U){U||(U=new Qi),Ke(h,yt(U)),s.showModal()}async function T(){let U=await Rr.hosts.toArray();console.log(U),console.log(R(h)),U.find(ee=>ee.ip==R(h).ip)?console.log(R(h)):await Rr.hosts.add({host:R(h).host,ip:R(h).ip,name:R(h).name,pinged:R(h).pinged,port:R(h).port,visibile:R(h).visibile}),Pr.replace(R(h))}var M=ng();$c(U=>{Gc.title="Hecate"});var D=Re(M);Ty(D,{});var q=j(j(D,!0)),N=G(q);He(N,()=>Pr.data,U=>{var ee=gt(),oe=Re(ee);Yt(oe,65,()=>Pr.data??[],Wt,(de,J,ne)=>{var se=gt(),Pe=Re(se);Wy(Pe,{get host(){return ce(J)}}),ae(de,se)}),ae(U,ee)});var $=j(j(N,!0));$.__click=[$y,v];var F=j(j(q,!0));co(F,U=>s=U,()=>s);var Z=G(F);He(Z,()=>R(h),U=>{var ee=Gy(),oe=G(ee),de=j(j(oe,!0)),J=G(de),ne=j(j(J,!0));In(ne);var se=j(j(de,!0)),Pe=G(se),Me=j(j(Pe,!0));In(Me);var te=j(j(se,!0)),le=G(te);le.__click=()=>{s.close()};var Se=j(j(le,!0));Se.__click=()=>{T(),s.close()},Ni(ne,()=>R(h).name,Ve=>R(h).name=Ve),Ni(Me,()=>R(h).ip,Ve=>R(h).ip=Ve),ae(U,ee)});var X=j(j(F,!0));He(X,()=>R(i)&&R(i).length>0,U=>{var ee=tg(),oe=Re(ee);Yt(oe,73,()=>R(i),Wt,(Be,ie,ye)=>{var je=gt(),vt=Re(je);jy(vt,{get process(){return ce(ie)}}),ae(Be,je)});var de=j(j(oe,!0)),J=G(de),ne=G(J),se=G(ne),Pe=G(se),Me=G(Pe),te=j(Me),le=j(te),Se=j(le),Ve=j(Se),ot=j(Ve),bt=j(ot),ft=j(bt);He(ft,()=>n().showCPUChart,Be=>{var ie=Qy();ae(Be,ie)});var Ye=j(ft),st=j(Ye),Xe=j(st),dt=j(Xe);He(dt,()=>n().showCPUChart,Be=>{var ie=zy();ae(Be,ie)});var Gt=j(se);Yt(Gt,73,()=>R(i),Wt,(Be,ie,ye)=>{var je=eg(),vt=G(je),ir=G(vt),re=j(vt),wt=G(re),qt=j(wt);qt.__click=[Vy,u,ie];var ge=G(qt);Ga(ge,{icon:"iconamoon:eye-off",class:"text-xl text-accent"});var Qt=j(re),fn=G(Qt),Nt=j(Qt),kr=G(Nt);Oo(kr,{get process(){return ce(ie)}});var Cr=j(Nt),Kr=G(Cr);fe(()=>Ue(Kr,Zu(ce(ie).uptime)));var zt=j(Cr),vr=G(zt);fe(()=>Ue(vr,Ju(Number(ce(ie).memory))));var _t=j(zt),Sr=G(_t),Vt=j(_t),Hr=G(Vt),qe=j(Vt),Ee=G(qe);fe(()=>{var et;return Ue(Ee,`${nt(ce(ie).ip)}
								${nt(((et=An.find(We=>We.name==ce(ie).name))==null?void 0:et.cpus.length)??0)}`)});var ut=j(qe);He(ut,()=>n().showCPUChart,et=>{var We=Xy(),Mt=G(We),Ne=en(()=>{var Ct;return(Ct=An.find(Qe=>Qe.name==ce(ie).name))==null?void 0:Ct.cpus.map((Qe,It)=>It)}),V=en(()=>{var Ct;return(Ct=An.find(Qe=>Qe.name==ce(ie).name))==null?void 0:Ct.cpus});Ky(Mt,{linked:"link-1",get labels(){return R(Ne)},get values(){return R(V)}}),ae(et,We)});var Je=j(ut),kt=G(Je);mc(kt,{get process(){return ce(ie)}});var Et=j(Je);He(Et,()=>n().showMetrics,et=>{var We=Zy(),Mt=G(We);He(Mt,()=>ce(ie).monitor,Ne=>{var V=gt(),Ct=Re(V);Yt(Ct,65,()=>{var Qe;return Object.entries((Qe=ce(ie))==null?void 0:Qe.monitor).filter(([It,K])=>!ec.includes(It)&&K.value!==void 0).map(([It,K])=>({key:It,value:K.value}))},Wt,(Qe,It,K)=>{var Yr=Jy(),dn=Re(Yr),hn=G(dn),Xn=j(j(dn,!0)),pn=G(Xn);fe(()=>{Ue(hn,`${nt(ce(It).key)}:`),Ue(pn,ce(It).value)}),ae(Qe,Yr)}),ae(Ne,V)}),ae(et,We)}),fe(()=>{Ue(ir,ce(ie).pm_id),Ue(wt,`${nt(ce(ie).name)} `),Ue(fn,ce(ie).pid),Ue(Sr,`${nt(ce(ie).cpu)}%`),Ue(Hr,ce(ie).istances)}),ae(Be,je)}),ae(U,ee)},U=>{var ee=rg();ae(U,ee)}),ae(e,M),ar()}uo(["click"]);export{fg as component};
