var Mc=Object.defineProperty;var Ic=(e,t,n)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var aa=(e,t,n)=>(Ic(e,typeof t!="symbol"?t+"":t,n),n),jc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var It=(e,t,n)=>(jc(e,t,"read from private field"),n?n.call(e):t.get(e)),In=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};import{g as zo,w as Uc,x as ct,d as Ot,s as Ne,a as ae,t as De,f as Be,c as V,n as Rc,b as U,r as Kt,y as Oa,v as qc,$ as Nc}from"../chunks/disclose-version.I6GFEVAi.js";import{r as pe,w as Un,i as N,s as dt,Q as Jn,c as sn,d as un,aq as jt,at as vi,j as vt,ar as Vs,q as Dt,L as Xs,e as pa,f as Ut,as as se,v as Vo}from"../chunks/runtime.D8OBqRL4.js";import{p as rn,i as Qe,l as Oi,o as Bc,c as Lc,d as Js,a as xe,b as Zs,s as Xi}from"../chunks/index-client.B7V-3nGG.js";import{h as eu,s as Ci,e as Vt,i as Xt,c as ki,a as it,r as Fc,d as Xo}from"../chunks/drawer.state.svelte.BzkAP9zv.js";import{i as Ca,u as ka,s as Tr,m as Zn}from"../chunks/store.DvUvb1GQ.js";import{w as rr,g as Si}from"../chunks/index.BhO3S-8N.js";function va(e,t){var n=e.__className,r=Kc(t);zo&&e.className===r?e.__className=r:(n!==r||zo&&e.className!==r)&&(t==null?e.removeAttribute("class"):Uc(e,r),e.__className=r)}function Kc(e){return e??""}let Jo=!1;function tu(e,t,n,r=n){e.addEventListener(t,n);const i=e.__on_r;i?e.__on_r=()=>{i(),r()}:e.__on_r=r,Jo||(Jo=!0,document.addEventListener("reset",u=>{Promise.resolve().then(()=>{var s;if(!u.defaultPrevented)for(const h of u.target.elements)(s=h.__on_r)==null||s.call(h)})},{capture:!0}))}function Yc(e,t,n){tu(e,"input",()=>{n(es(e)?ts(e.value):e.value)}),pe(()=>{var r=t();e.__value=r,!(es(e)&&r===ts(e.value))&&(e.type==="date"&&!r&&!e.value||(e.value=ct(r)))})}function Zo(e,t,n){tu(e,"change",()=>{var r=e.checked;n(r)}),t()==null&&n(!1),pe(()=>{var r=t();e.checked=!!r})}function es(e){var t=e.type;return t==="number"||t==="range"}function ts(e){return e===""?null:+e}function on(e){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function kt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ot(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _t(e){ot(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||on(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hc(e,t){ot(2,arguments);var n=_t(e).getTime(),r=kt(t);return new Date(n+r)}var Wc={};function ar(){return Wc}function nu(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var $c=6e4,Gc=36e5,Qc=1e3;function zc(e){return ot(1,arguments),e instanceof Date||on(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vc(e){if(ot(1,arguments),!zc(e)&&typeof e!="number")return!1;var t=_t(e);return!isNaN(Number(t))}function ru(e,t){ot(2,arguments);var n=kt(t);return Hc(e,-n)}var Xc=864e5;function Jc(e){ot(1,arguments);var t=_t(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Xc)+1}function er(e){ot(1,arguments);var t=1,n=_t(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function au(e){ot(1,arguments);var t=_t(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=er(r),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var s=er(u);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Zc(e){ot(1,arguments);var t=au(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=er(n);return r}var el=6048e5;function iu(e){ot(1,arguments);var t=_t(e),n=er(t).getTime()-Zc(t).getTime();return Math.round(n/el)+1}function Rn(e,t){var n,r,i,u,s,h,v,_;ot(1,arguments);var M=ar(),D=kt((n=(r=(i=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&i!==void 0?i:M.weekStartsOn)!==null&&r!==void 0?r:(v=M.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&n!==void 0?n:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var j=_t(e),q=j.getUTCDay(),W=(q<D?7:0)+q-D;return j.setUTCDate(j.getUTCDate()-W),j.setUTCHours(0,0,0,0),j}function Ji(e,t){var n,r,i,u,s,h,v,_;ot(1,arguments);var M=_t(e),D=M.getUTCFullYear(),j=ar(),q=kt((n=(r=(i=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:j.firstWeekContainsDate)!==null&&r!==void 0?r:(v=j.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=new Date(0);W.setUTCFullYear(D+1,0,q),W.setUTCHours(0,0,0,0);var F=Rn(W,t),X=new Date(0);X.setUTCFullYear(D,0,q),X.setUTCHours(0,0,0,0);var z=Rn(X,t);return M.getTime()>=F.getTime()?D+1:M.getTime()>=z.getTime()?D:D-1}function tl(e,t){var n,r,i,u,s,h,v,_;ot(1,arguments);var M=ar(),D=kt((n=(r=(i=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(s=t.locale)===null||s===void 0||(h=s.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:M.firstWeekContainsDate)!==null&&r!==void 0?r:(v=M.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&n!==void 0?n:1),j=Ji(e,t),q=new Date(0);q.setUTCFullYear(j,0,D),q.setUTCHours(0,0,0,0);var W=Rn(q,t);return W}var nl=6048e5;function ou(e,t){ot(1,arguments);var n=_t(e),r=Rn(n,t).getTime()-tl(n,t).getTime();return Math.round(r/nl)+1}function Ie(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var xn={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ie(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ie(r+1,2)},d:function(t,n){return Ie(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ie(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ie(t.getUTCHours(),n.length)},m:function(t,n){return Ie(t.getUTCMinutes(),n.length)},s:function(t,n){return Ie(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),u=Math.floor(i*Math.pow(10,r-3));return Ie(u,n.length)}},Vn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rl={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),u=i>0?i:1-i;return r.ordinalNumber(u,{unit:"year"})}return xn.y(t,n)},Y:function(t,n,r,i){var u=Ji(t,i),s=u>0?u:1-u;if(n==="YY"){var h=s%100;return Ie(h,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ie(s,n.length)},R:function(t,n){var r=au(t);return Ie(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ie(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ie(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ie(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return xn.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ie(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var u=ou(t,i);return n==="wo"?r.ordinalNumber(u,{unit:"week"}):Ie(u,n.length)},I:function(t,n,r){var i=iu(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ie(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):xn.d(t,n)},D:function(t,n,r){var i=Jc(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ie(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var u=t.getUTCDay(),s=(u-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Ie(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(u,{width:"short",context:"formatting"});case"eeee":default:return r.day(u,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var u=t.getUTCDay(),s=(u-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Ie(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(u,{width:"narrow",context:"standalone"});case"cccccc":return r.day(u,{width:"short",context:"standalone"});case"cccc":default:return r.day(u,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),u=i===0?7:i;switch(n){case"i":return String(u);case"ii":return Ie(u,n.length);case"io":return r.ordinalNumber(u,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),u=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),u;switch(i===12?u=Vn.noon:i===0?u=Vn.midnight:u=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),u;switch(i>=17?u=Vn.evening:i>=12?u=Vn.afternoon:i>=4?u=Vn.morning:u=Vn.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return xn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xn.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xn.s(t,n)},S:function(t,n){return xn.S(t,n)},X:function(t,n,r,i){var u=i._originalDate||t,s=u.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return rs(s);case"XXXX":case"XX":return jn(s);case"XXXXX":case"XXX":default:return jn(s,":")}},x:function(t,n,r,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(n){case"x":return rs(s);case"xxxx":case"xx":return jn(s);case"xxxxx":case"xxx":default:return jn(s,":")}},O:function(t,n,r,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ns(s,":");case"OOOO":default:return"GMT"+jn(s,":")}},z:function(t,n,r,i){var u=i._originalDate||t,s=u.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ns(s,":");case"zzzz":default:return"GMT"+jn(s,":")}},t:function(t,n,r,i){var u=i._originalDate||t,s=Math.floor(u.getTime()/1e3);return Ie(s,n.length)},T:function(t,n,r,i){var u=i._originalDate||t,s=u.getTime();return Ie(s,n.length)}};function ns(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),u=r%60;if(u===0)return n+String(i);var s=t;return n+String(i)+s+Ie(u,2)}function rs(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ie(Math.abs(e)/60,2)}return jn(e,t)}function jn(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),u=Ie(Math.floor(i/60),2),s=Ie(i%60,2);return r+u+n+s}var as=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},su=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},al=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],u=r[2];if(!u)return as(t,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",as(i,n)).replace("{{time}}",su(u,n))},Ei={p:su,P:al},il=["D","DD"],ol=["YY","YYYY"];function uu(e){return il.indexOf(e)!==-1}function cu(e){return ol.indexOf(e)!==-1}function ma(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ul=function(t,n,r){var i,u=sl[t];return typeof u=="string"?i=u:n===1?i=u.one:i=u.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function mi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var cl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ll={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dl={date:mi({formats:cl,defaultWidth:"full"}),time:mi({formats:ll,defaultWidth:"full"}),dateTime:mi({formats:fl,defaultWidth:"full"})},hl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pl=function(t,n,r,i){return hl[t]};function vr(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):u;i=e.formattingValues[s]||e.formattingValues[u]}else{var h=e.defaultWidth,v=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[v]||e.values[h]}var _=e.argumentCallback?e.argumentCallback(t):t;return i[_]}}var vl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ml={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_l=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xl={ordinalNumber:_l,era:vr({values:vl,defaultWidth:"wide"}),quarter:vr({values:ml,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vr({values:yl,defaultWidth:"wide"}),day:vr({values:gl,defaultWidth:"wide"}),dayPeriod:vr({values:bl,defaultWidth:"wide",formattingValues:wl,defaultFormattingWidth:"wide"})};function mr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(i);if(!u)return null;var s=u[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(h)?Pl(h,function(D){return D.test(s)}):Tl(h,function(D){return D.test(s)}),_;_=e.valueCallback?e.valueCallback(v):v,_=n.valueCallback?n.valueCallback(_):_;var M=t.slice(s.length);return{value:_,rest:M}}}function Tl(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Pl(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Ol(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],u=t.match(e.parsePattern);if(!u)return null;var s=e.valueCallback?e.valueCallback(u[0]):u[0];s=n.valueCallback?n.valueCallback(s):s;var h=t.slice(i.length);return{value:s,rest:h}}}var Cl=/^(\d+)(th|st|nd|rd)?/i,kl=/\d+/i,Sl={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},El={any:[/^b/i,/^(a|c)/i]},Dl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Al={any:[/1/i,/2/i,/3/i,/4/i]},Ml={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Il={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ul={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ql={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nl={ordinalNumber:Ol({matchPattern:Cl,parsePattern:kl,valueCallback:function(t){return parseInt(t,10)}}),era:mr({matchPatterns:Sl,defaultMatchWidth:"wide",parsePatterns:El,defaultParseWidth:"any"}),quarter:mr({matchPatterns:Dl,defaultMatchWidth:"wide",parsePatterns:Al,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:mr({matchPatterns:Ml,defaultMatchWidth:"wide",parsePatterns:Il,defaultParseWidth:"any"}),day:mr({matchPatterns:jl,defaultMatchWidth:"wide",parsePatterns:Ul,defaultParseWidth:"any"}),dayPeriod:mr({matchPatterns:Rl,defaultMatchWidth:"any",parsePatterns:ql,defaultParseWidth:"any"})},lu={code:"en-US",formatDistance:ul,formatLong:dl,formatRelative:pl,localize:xl,match:Nl,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ll=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fl=/^'([^]*?)'?$/,Kl=/''/g,Yl=/[a-zA-Z]/;function Hl(e,t,n){var r,i,u,s,h,v,_,M,D,j,q,W,F,X;ot(2,arguments);var z=String(t),L=ar(),re=(r=(i=void 0)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:lu,oe=kt((u=(s=(h=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&h!==void 0?h:L.firstWeekContainsDate)!==null&&s!==void 0?s:(_=L.locale)===null||_===void 0||(M=_.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(oe>=1&&oe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var we=kt((D=(j=(q=(W=void 0)!==null&&W!==void 0?W:void 0)!==null&&q!==void 0?q:L.weekStartsOn)!==null&&j!==void 0?j:(F=L.locale)===null||F===void 0||(X=F.options)===null||X===void 0?void 0:X.weekStartsOn)!==null&&D!==void 0?D:0);if(!(we>=0&&we<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!re.localize)throw new RangeError("locale must contain localize property");if(!re.formatLong)throw new RangeError("locale must contain formatLong property");var ee=_t(e);if(!Vc(ee))throw new RangeError("Invalid time value");var ne=nu(ee),ue=ru(ee,ne),je={firstWeekContainsDate:oe,weekStartsOn:we,locale:re,_originalDate:ee},Ue=z.match(Ll).map(function(te){var le=te[0];if(le==="p"||le==="P"){var Ae=Ei[le];return Ae(te,re.formatLong)}return te}).join("").match(Bl).map(function(te){if(te==="''")return"'";var le=te[0];if(le==="'")return Wl(te);var Ae=rl[le];if(Ae)return cu(te)&&ma(te,t,String(e)),uu(te)&&ma(te,t,String(e)),Ae(ue,te,re.localize,je);if(le.match(Yl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return te}).join("");return Ue}function Wl(e){var t=e.match(Fl);return t?t[1].replace(Kl,"'"):e}function $l(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function is(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gl(e,t){if(e){if(typeof e=="string")return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(e,t)}}function os(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gl(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(_){throw _},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,s=!1,h;return{s:function(){n=n.call(e)},n:function(){var _=n.next();return u=_.done,_},e:function(_){s=!0,h=_},f:function(){try{!u&&n.return!=null&&n.return()}finally{if(s)throw h}}}}function Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e,t){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Di(e,t)}function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Di(e,t)}function ya(e){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ya(e)}function Ql(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zl(e,t){if(t&&(on(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Pe(e){var t=Ql();return function(){var r=ya(e),i;if(t){var u=ya(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return zl(this,i)}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vl(e,t){if(on(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(on(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fu(e){var t=Vl(e,"string");return on(t)==="symbol"?t:String(t)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fu(r.key),r)}}function be(e,t,n){return t&&Xl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e,t,n){return t=fu(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl=10,du=function(){function e(){ge(this,e),G(this,"priority",void 0),G(this,"subPriority",0)}return be(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Zl=function(e){Te(n,e);var t=Pe(n);function n(r,i,u,s,h){var v;return ge(this,n),v=t.call(this),v.value=r,v.validateValue=i,v.setValue=u,v.priority=s,h&&(v.subPriority=h),v}return be(n,[{key:"validate",value:function(i,u){return this.validateValue(i,this.value,u)}},{key:"set",value:function(i,u,s){return this.setValue(i,u,this.value,s)}}]),n}(du),ef=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",Jl),G(Q(r),"subPriority",-1),r}return be(n,[{key:"set",value:function(i,u){if(u.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(du),Ee=function(){function e(){ge(this,e),G(this,"incompatibleTokens",void 0),G(this,"priority",void 0),G(this,"subPriority",void 0)}return be(e,[{key:"run",value:function(n,r,i,u){var s=this.parse(n,r,i,u);return s?{setter:new Zl(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),tf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",140),G(Q(r),"incompatibleTokens",["R","u","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,u,s){return u.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),tt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function nt(e,t){return e&&{value:t(e.value),rest:e.rest}}function ze(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function zt(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,u=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*Gc+u*$c+s*Qc),rest:t.slice(n[0].length)}}function hu(e){return ze(tt.anyDigitsSigned,e)}function Je(e,t){switch(e){case 1:return ze(tt.singleDigit,t);case 2:return ze(tt.twoDigits,t);case 3:return ze(tt.threeDigits,t);case 4:return ze(tt.fourDigits,t);default:return ze(new RegExp("^\\d{1,"+e+"}"),t)}}function ga(e,t){switch(e){case 1:return ze(tt.singleDigitSigned,t);case 2:return ze(tt.twoDigitsSigned,t);case 3:return ze(tt.threeDigitsSigned,t);case 4:return ze(tt.fourDigitsSigned,t);default:return ze(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Zi(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function pu(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var u=r+50,s=Math.floor(u/100)*100,h=e>=u%100;i=e+s-(h?100:0)}return n?i:1-i}function vu(e){return e%400===0||e%4===0&&e%100!==0}var nf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",130),G(Q(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){var h=function(_){return{year:_,isTwoDigitYear:u==="yy"}};switch(u){case"y":return nt(Je(4,i),h);case"yo":return nt(s.ordinalNumber(i,{unit:"year"}),h);default:return nt(Je(u.length,i),h)}}},{key:"validate",value:function(i,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(i,u,s){var h=i.getUTCFullYear();if(s.isTwoDigitYear){var v=pu(s.year,h);return i.setUTCFullYear(v,0,1),i.setUTCHours(0,0,0,0),i}var _=!("era"in u)||u.era===1?s.year:1-s.year;return i.setUTCFullYear(_,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),rf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",130),G(Q(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){var h=function(_){return{year:_,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return nt(Je(4,i),h);case"Yo":return nt(s.ordinalNumber(i,{unit:"year"}),h);default:return nt(Je(u.length,i),h)}}},{key:"validate",value:function(i,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(i,u,s,h){var v=Ji(i,h);if(s.isTwoDigitYear){var _=pu(s.year,v);return i.setUTCFullYear(_,0,h.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Rn(i,h)}var M=!("era"in u)||u.era===1?s.year:1-s.year;return i.setUTCFullYear(M,0,h.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Rn(i,h)}}]),n}(Ee),af=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",130),G(Q(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u){return ga(u==="R"?4:u.length,i)}},{key:"set",value:function(i,u,s){var h=new Date(0);return h.setUTCFullYear(s,0,4),h.setUTCHours(0,0,0,0),er(h)}}]),n}(Ee),of=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",130),G(Q(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u){return ga(u==="u"?4:u.length,i)}},{key:"set",value:function(i,u,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),sf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",120),G(Q(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"Q":case"QQ":return Je(u.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=1&&u<=4}},{key:"set",value:function(i,u,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),uf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",120),G(Q(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"q":case"qq":return Je(u.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=1&&u<=4}},{key:"set",value:function(i,u,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),cf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),G(Q(r),"priority",110),r}return be(n,[{key:"parse",value:function(i,u,s){var h=function(_){return _-1};switch(u){case"M":return nt(ze(tt.month,i),h);case"MM":return nt(Je(2,i),h);case"Mo":return nt(s.ordinalNumber(i,{unit:"month"}),h);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),lf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",110),G(Q(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){var h=function(_){return _-1};switch(u){case"L":return nt(ze(tt.month,i),h);case"LL":return nt(Je(2,i),h);case"Lo":return nt(s.ordinalNumber(i,{unit:"month"}),h);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ee);function ff(e,t,n){ot(2,arguments);var r=_t(e),i=kt(t),u=ou(r,n)-i;return r.setUTCDate(r.getUTCDate()-u*7),r}var df=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",100),G(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"w":return ze(tt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=53}},{key:"set",value:function(i,u,s,h){return Rn(ff(i,s,h),h)}}]),n}(Ee);function hf(e,t){ot(2,arguments);var n=_t(e),r=kt(t),i=iu(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var pf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",100),G(Q(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"I":return ze(tt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=53}},{key:"set",value:function(i,u,s){return er(hf(i,s))}}]),n}(Ee),vf=[31,28,31,30,31,30,31,31,30,31,30,31],mf=[31,29,31,30,31,30,31,31,30,31,30,31],yf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"subPriority",1),G(Q(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"d":return ze(tt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){var s=i.getUTCFullYear(),h=vu(s),v=i.getUTCMonth();return h?u>=1&&u<=mf[v]:u>=1&&u<=vf[v]}},{key:"set",value:function(i,u,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),gf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"subpriority",1),G(Q(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"D":case"DD":return ze(tt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){var s=i.getUTCFullYear(),h=vu(s);return h?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(i,u,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Ee);function eo(e,t,n){var r,i,u,s,h,v,_,M;ot(2,arguments);var D=ar(),j=kt((r=(i=(u=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(h=n.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&u!==void 0?u:D.weekStartsOn)!==null&&i!==void 0?i:(_=D.locale)===null||_===void 0||(M=_.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&r!==void 0?r:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var q=_t(e),W=kt(t),F=q.getUTCDay(),X=W%7,z=(X+7)%7,L=(z<j?7:0)+W-F;return q.setUTCDate(q.getUTCDate()+L),q}var bf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=eo(i,s,h),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),wf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s,h){var v=function(M){var D=Math.floor((M-1)/7)*7;return(M+h.weekStartsOn+6)%7+D};switch(u){case"e":case"ee":return nt(Je(u.length,i),v);case"eo":return nt(s.ordinalNumber(i,{unit:"day"}),v);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=eo(i,s,h),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),_f=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s,h){var v=function(M){var D=Math.floor((M-1)/7)*7;return(M+h.weekStartsOn+6)%7+D};switch(u){case"c":case"cc":return nt(Je(u.length,i),v);case"co":return nt(s.ordinalNumber(i,{unit:"day"}),v);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,u){return u>=0&&u<=6}},{key:"set",value:function(i,u,s,h){return i=eo(i,s,h),i.setUTCHours(0,0,0,0),i}}]),n}(Ee);function xf(e,t){ot(2,arguments);var n=kt(t);n%7===0&&(n=n-7);var r=1,i=_t(e),u=i.getUTCDay(),s=n%7,h=(s+7)%7,v=(h<r?7:0)+n-u;return i.setUTCDate(i.getUTCDate()+v),i}var Tf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",90),G(Q(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){var h=function(_){return _===0?7:_};switch(u){case"i":case"ii":return Je(u.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return nt(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h);case"iiiii":return nt(s.day(i,{width:"narrow",context:"formatting"}),h);case"iiiiii":return nt(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h);case"iiii":default:return nt(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),h)}}},{key:"validate",value:function(i,u){return u>=1&&u<=7}},{key:"set",value:function(i,u,s){return i=xf(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Ee),Pf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",80),G(Q(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(Zi(s),0,0,0),i}}]),n}(Ee),Of=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",80),G(Q(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(Zi(s),0,0,0),i}}]),n}(Ee),Cf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",80),G(Q(r),"incompatibleTokens",["a","b","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,u,s){return i.setUTCHours(Zi(s),0,0,0),i}}]),n}(Ee),kf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",70),G(Q(r),"incompatibleTokens",["H","K","k","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"h":return ze(tt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=12}},{key:"set",value:function(i,u,s){var h=i.getUTCHours()>=12;return h&&s<12?i.setUTCHours(s+12,0,0,0):!h&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Ee),Sf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",70),G(Q(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"H":return ze(tt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=23}},{key:"set",value:function(i,u,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Ee),Ef=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",70),G(Q(r),"incompatibleTokens",["h","H","k","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"K":return ze(tt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=11}},{key:"set",value:function(i,u,s){var h=i.getUTCHours()>=12;return h&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Ee),Df=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",70),G(Q(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"k":return ze(tt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=1&&u<=24}},{key:"set",value:function(i,u,s){var h=s<=24?s%24:s;return i.setUTCHours(h,0,0,0),i}}]),n}(Ee),Af=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",60),G(Q(r),"incompatibleTokens",["t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"m":return ze(tt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=59}},{key:"set",value:function(i,u,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Ee),Mf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",50),G(Q(r),"incompatibleTokens",["t","T"]),r}return be(n,[{key:"parse",value:function(i,u,s){switch(u){case"s":return ze(tt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Je(u.length,i)}}},{key:"validate",value:function(i,u){return u>=0&&u<=59}},{key:"set",value:function(i,u,s){return i.setUTCSeconds(s,0),i}}]),n}(Ee),If=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",30),G(Q(r),"incompatibleTokens",["t","T"]),r}return be(n,[{key:"parse",value:function(i,u){var s=function(v){return Math.floor(v*Math.pow(10,-u.length+3))};return nt(Je(u.length,i),s)}},{key:"set",value:function(i,u,s){return i.setUTCMilliseconds(s),i}}]),n}(Ee),jf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",10),G(Q(r),"incompatibleTokens",["t","T","x"]),r}return be(n,[{key:"parse",value:function(i,u){switch(u){case"X":return zt(Qt.basicOptionalMinutes,i);case"XX":return zt(Qt.basic,i);case"XXXX":return zt(Qt.basicOptionalSeconds,i);case"XXXXX":return zt(Qt.extendedOptionalSeconds,i);case"XXX":default:return zt(Qt.extended,i)}}},{key:"set",value:function(i,u,s){return u.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Ee),Uf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",10),G(Q(r),"incompatibleTokens",["t","T","X"]),r}return be(n,[{key:"parse",value:function(i,u){switch(u){case"x":return zt(Qt.basicOptionalMinutes,i);case"xx":return zt(Qt.basic,i);case"xxxx":return zt(Qt.basicOptionalSeconds,i);case"xxxxx":return zt(Qt.extendedOptionalSeconds,i);case"xxx":default:return zt(Qt.extended,i)}}},{key:"set",value:function(i,u,s){return u.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Ee),Rf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",40),G(Q(r),"incompatibleTokens","*"),r}return be(n,[{key:"parse",value:function(i){return hu(i)}},{key:"set",value:function(i,u,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Ee),qf=function(e){Te(n,e);var t=Pe(n);function n(){var r;ge(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=t.call.apply(t,[this].concat(u)),G(Q(r),"priority",20),G(Q(r),"incompatibleTokens","*"),r}return be(n,[{key:"parse",value:function(i){return hu(i)}},{key:"set",value:function(i,u,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Ee),Nf={G:new tf,y:new nf,Y:new rf,R:new af,u:new of,Q:new sf,q:new uf,M:new cf,L:new lf,w:new df,I:new pf,d:new yf,D:new gf,E:new bf,e:new wf,c:new _f,i:new Tf,a:new Pf,b:new Of,B:new Cf,h:new kf,H:new Sf,K:new Ef,k:new Df,m:new Af,s:new Mf,S:new If,X:new jf,x:new Uf,t:new Rf,T:new qf},Bf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ff=/^'([^]*?)'?$/,Kf=/''/g,Yf=/\S/,Hf=/[a-zA-Z]/;function ss(e,t,n,r){var i,u,s,h,v,_,M,D,j,q,W,F,X,z;ot(3,arguments);var L=String(e),re=String(t),oe=ar(),we=(i=(u=void 0)!==null&&u!==void 0?u:oe.locale)!==null&&i!==void 0?i:lu;if(!we.match)throw new RangeError("locale must contain match property");var ee=kt((s=(h=(v=(_=void 0)!==null&&_!==void 0?_:void 0)!==null&&v!==void 0?v:oe.firstWeekContainsDate)!==null&&h!==void 0?h:(M=oe.locale)===null||M===void 0||(D=M.options)===null||D===void 0?void 0:D.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(ee>=1&&ee<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ne=kt((j=(q=(W=(F=void 0)!==null&&F!==void 0?F:void 0)!==null&&W!==void 0?W:oe.weekStartsOn)!==null&&q!==void 0?q:(X=oe.locale)===null||X===void 0||(z=X.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&j!==void 0?j:0);if(!(ne>=0&&ne<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(re==="")return L===""?_t(n):new Date(NaN);var ue={firstWeekContainsDate:ee,weekStartsOn:ne,locale:we},je=[new ef],Ue=re.match(Lf).map(function(ke){var ye=ke[0];if(ye in Ei){var Le=Ei[ye];return Le(ke,we.formatLong)}return ke}).join("").match(Bf),te=[],le=os(Ue),Ae;try{var He=function(){var ye=Ae.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&cu(ye)&&ma(ye,re,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&uu(ye)&&ma(ye,re,e);var Le=ye[0],Ct=Nf[Le];if(Ct){var Ht=Ct.incompatibleTokens;if(Array.isArray(Ht)){var Z=te.find(function(Nt){return Ht.includes(Nt.token)||Nt.token===Le});if(Z)throw new RangeError("The format string mustn't contain `".concat(Z.fullToken,"` and `").concat(ye,"` at the same time"))}else if(Ct.incompatibleTokens==="*"&&te.length>0)throw new RangeError("The format string mustn't contain `".concat(ye,"` and any other token at the same time"));te.push({token:Le,fullToken:ye});var yt=Ct.run(L,ye,we.match,ue);if(!yt)return{v:new Date(NaN)};je.push(yt.setter),L=yt.rest}else{if(Le.match(Hf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Le+"`");if(ye==="''"?ye="'":Le==="'"&&(ye=Wf(ye)),L.indexOf(ye)===0)L=L.slice(ye.length);else return{v:new Date(NaN)}}};for(le.s();!(Ae=le.n()).done;){var ce=He();if(on(ce)==="object")return ce.v}}catch(ke){le.e(ke)}finally{le.f()}if(L.length>0&&Yf.test(L))return new Date(NaN);var mt=je.map(function(ke){return ke.priority}).sort(function(ke,ye){return ye-ke}).filter(function(ke,ye,Le){return Le.indexOf(ke)===ye}).map(function(ke){return je.filter(function(ye){return ye.priority===ke}).sort(function(ye,Le){return Le.subPriority-ye.subPriority})}).map(function(ke){return ke[0]}),Ve=_t(n);if(isNaN(Ve.getTime()))return new Date(NaN);var Re=ru(Ve,nu(Ve)),rt={},Ge=os(mt),at;try{for(Ge.s();!(at=Ge.n()).done;){var qt=at.value;if(!qt.validate(Re,ue))return new Date(NaN);var st=qt.set(Re,rt,ue);Array.isArray(st)?(Re=st[0],$l(rt,st[1])):Re=st}}catch(ke){Ge.e(ke)}finally{Ge.f()}return Re}function Wf(e){return e.match(Ff)[1].replace(Kf,"'")}function ua(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Rt=Array.isArray,mu=typeof global=="object"&&global&&global.Object===Object&&global,$f=typeof self=="object"&&self&&self.Object===Object&&self,cn=mu||$f||Function("return this")(),Pn=cn.Symbol,yu=Object.prototype,Gf=yu.hasOwnProperty,Qf=yu.toString,yr=Pn?Pn.toStringTag:void 0;function zf(e){var t=Gf.call(e,yr),n=e[yr];try{e[yr]=void 0;var r=!0}catch{}var i=Qf.call(e);return r&&(t?e[yr]=n:delete e[yr]),i}var Vf=Object.prototype,Xf=Vf.toString;function Jf(e){return Xf.call(e)}var Zf="[object Null]",ed="[object Undefined]",us=Pn?Pn.toStringTag:void 0;function ir(e){return e==null?e===void 0?ed:Zf:us&&us in Object(e)?zf(e):Jf(e)}function tr(e){return e!=null&&typeof e=="object"}var td="[object Symbol]";function nr(e){return typeof e=="symbol"||tr(e)&&ir(e)==td}var nd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rd=/^\w*$/;function to(e,t){if(Rt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nr(e)?!0:rd.test(e)||!nd.test(e)||t!=null&&e in Object(t)}function no(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ad="[object AsyncFunction]",id="[object Function]",od="[object GeneratorFunction]",sd="[object Proxy]";function gu(e){if(!no(e))return!1;var t=ir(e);return t==id||t==od||t==ad||t==sd}var yi=cn["__core-js_shared__"],cs=function(){var e=/[^.]+$/.exec(yi&&yi.keys&&yi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ud(e){return!!cs&&cs in e}var cd=Function.prototype,ld=cd.toString;function Ln(e){if(e!=null){try{return ld.call(e)}catch{}try{return e+""}catch{}}return""}var fd=/[\\^$.*+?()[\]{}|]/g,dd=/^\[object .+?Constructor\]$/,hd=Function.prototype,pd=Object.prototype,vd=hd.toString,md=pd.hasOwnProperty,yd=RegExp("^"+vd.call(md).replace(fd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gd(e){if(!no(e)||ud(e))return!1;var t=gu(e)?yd:dd;return t.test(Ln(e))}function bd(e,t){return e==null?void 0:e[t]}function or(e,t){var n=bd(e,t);return gd(n)?n:void 0}var Pr=or(Object,"create");function wd(){this.__data__=Pr?Pr(null):{},this.size=0}function _d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xd="__lodash_hash_undefined__",Td=Object.prototype,Pd=Td.hasOwnProperty;function Od(e){var t=this.__data__;if(Pr){var n=t[e];return n===xd?void 0:n}return Pd.call(t,e)?t[e]:void 0}var Cd=Object.prototype,kd=Cd.hasOwnProperty;function Sd(e){var t=this.__data__;return Pr?t[e]!==void 0:kd.call(t,e)}var Ed="__lodash_hash_undefined__";function Dd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pr&&t===void 0?Ed:t,this}function qn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qn.prototype.clear=wd;qn.prototype.delete=_d;qn.prototype.get=Od;qn.prototype.has=Sd;qn.prototype.set=Dd;function Ad(){this.__data__=[],this.size=0}function bu(e,t){return e===t||e!==e&&t!==t}function Sa(e,t){for(var n=e.length;n--;)if(bu(e[n][0],t))return n;return-1}var Md=Array.prototype,Id=Md.splice;function jd(e){var t=this.__data__,n=Sa(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Id.call(t,n,1),--this.size,!0}function Ud(e){var t=this.__data__,n=Sa(t,e);return n<0?void 0:t[n][1]}function Rd(e){return Sa(this.__data__,e)>-1}function qd(e,t){var n=this.__data__,r=Sa(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ln(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ln.prototype.clear=Ad;ln.prototype.delete=jd;ln.prototype.get=Ud;ln.prototype.has=Rd;ln.prototype.set=qd;var Or=or(cn,"Map");function Nd(){this.size=0,this.__data__={hash:new qn,map:new(Or||ln),string:new qn}}function Bd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ea(e,t){var n=e.__data__;return Bd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ld(e){var t=Ea(this,e).delete(e);return this.size-=t?1:0,t}function Fd(e){return Ea(this,e).get(e)}function Kd(e){return Ea(this,e).has(e)}function Yd(e,t){var n=Ea(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fn.prototype.clear=Nd;fn.prototype.delete=Ld;fn.prototype.get=Fd;fn.prototype.has=Kd;fn.prototype.set=Yd;var Hd="Expected a function";function ro(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hd);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],u=n.cache;if(u.has(i))return u.get(i);var s=e.apply(this,r);return n.cache=u.set(i,s)||u,s};return n.cache=new(ro.Cache||fn),n}ro.Cache=fn;var Wd=500;function $d(e){var t=ro(e,function(r){return n.size===Wd&&n.clear(),r}),n=t.cache;return t}var Gd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qd=/\\(\\)?/g,zd=$d(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gd,function(n,r,i,u){t.push(i?u.replace(Qd,"$1"):r||n)}),t}),Vd=1/0,ls=Pn?Pn.prototype:void 0,fs=ls?ls.toString:void 0;function wu(e){if(typeof e=="string")return e;if(Rt(e))return ua(e,wu)+"";if(nr(e))return fs?fs.call(e):"";var t=e+"";return t=="0"&&1/e==-Vd?"-0":t}function Xd(e){return e==null?"":wu(e)}function _u(e,t){return Rt(e)?e:to(e,t)?[e]:zd(Xd(e))}var Jd=1/0;function Da(e){if(typeof e=="string"||nr(e))return e;var t=e+"";return t=="0"&&1/e==-Jd?"-0":t}function ao(e,t){t=_u(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Da(t[n++])];return n&&n==r?e:void 0}function Zd(){this.__data__=new ln,this.size=0}function eh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function th(e){return this.__data__.get(e)}function nh(e){return this.__data__.has(e)}var rh=200;function ah(e,t){var n=this.__data__;if(n instanceof ln){var r=n.__data__;if(!Or||r.length<rh-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fn(r)}return n.set(e,t),this.size=n.size,this}function an(e){var t=this.__data__=new ln(e);this.size=t.size}an.prototype.clear=Zd;an.prototype.delete=eh;an.prototype.get=th;an.prototype.has=nh;an.prototype.set=ah;var ih="__lodash_hash_undefined__";function oh(e){return this.__data__.set(e,ih),this}function sh(e){return this.__data__.has(e)}function ba(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fn;++t<n;)this.add(e[t])}ba.prototype.add=ba.prototype.push=oh;ba.prototype.has=sh;function uh(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ch(e,t){return e.has(t)}var lh=1,fh=2;function xu(e,t,n,r,i,u){var s=n&lh,h=e.length,v=t.length;if(h!=v&&!(s&&v>h))return!1;var _=u.get(e),M=u.get(t);if(_&&M)return _==t&&M==e;var D=-1,j=!0,q=n&fh?new ba:void 0;for(u.set(e,t),u.set(t,e);++D<h;){var W=e[D],F=t[D];if(r)var X=s?r(F,W,D,t,e,u):r(W,F,D,e,t,u);if(X!==void 0){if(X)continue;j=!1;break}if(q){if(!uh(t,function(z,L){if(!ch(q,L)&&(W===z||i(W,z,n,r,u)))return q.push(L)})){j=!1;break}}else if(!(W===F||i(W,F,n,r,u))){j=!1;break}}return u.delete(e),u.delete(t),j}var ds=cn.Uint8Array;function dh(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function hh(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ph=1,vh=2,mh="[object Boolean]",yh="[object Date]",gh="[object Error]",bh="[object Map]",wh="[object Number]",_h="[object RegExp]",xh="[object Set]",Th="[object String]",Ph="[object Symbol]",Oh="[object ArrayBuffer]",Ch="[object DataView]",hs=Pn?Pn.prototype:void 0,gi=hs?hs.valueOf:void 0;function kh(e,t,n,r,i,u,s){switch(n){case Ch:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oh:return!(e.byteLength!=t.byteLength||!u(new ds(e),new ds(t)));case mh:case yh:case wh:return bu(+e,+t);case gh:return e.name==t.name&&e.message==t.message;case _h:case Th:return e==t+"";case bh:var h=dh;case xh:var v=r&ph;if(h||(h=hh),e.size!=t.size&&!v)return!1;var _=s.get(e);if(_)return _==t;r|=vh,s.set(e,t);var M=xu(h(e),h(t),r,i,u,s);return s.delete(e),M;case Ph:if(gi)return gi.call(e)==gi.call(t)}return!1}function Sh(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Eh(e,t,n){var r=t(e);return Rt(e)?r:Sh(r,n(e))}function Dh(e,t){for(var n=-1,r=e==null?0:e.length,i=0,u=[];++n<r;){var s=e[n];t(s,n,e)&&(u[i++]=s)}return u}function Ah(){return[]}var Mh=Object.prototype,Ih=Mh.propertyIsEnumerable,ps=Object.getOwnPropertySymbols,jh=ps?function(e){return e==null?[]:(e=Object(e),Dh(ps(e),function(t){return Ih.call(e,t)}))}:Ah;function Uh(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Rh="[object Arguments]";function vs(e){return tr(e)&&ir(e)==Rh}var Tu=Object.prototype,qh=Tu.hasOwnProperty,Nh=Tu.propertyIsEnumerable,Pu=vs(function(){return arguments}())?vs:function(e){return tr(e)&&qh.call(e,"callee")&&!Nh.call(e,"callee")};function Bh(){return!1}var Ou=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ms=Ou&&typeof module=="object"&&module&&!module.nodeType&&module,Lh=ms&&ms.exports===Ou,ys=Lh?cn.Buffer:void 0,Fh=ys?ys.isBuffer:void 0,Ai=Fh||Bh,Kh=9007199254740991,Yh=/^(?:0|[1-9]\d*)$/;function Cu(e,t){var n=typeof e;return t=t??Kh,!!t&&(n=="number"||n!="symbol"&&Yh.test(e))&&e>-1&&e%1==0&&e<t}var Hh=9007199254740991;function io(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hh}var Wh="[object Arguments]",$h="[object Array]",Gh="[object Boolean]",Qh="[object Date]",zh="[object Error]",Vh="[object Function]",Xh="[object Map]",Jh="[object Number]",Zh="[object Object]",ep="[object RegExp]",tp="[object Set]",np="[object String]",rp="[object WeakMap]",ap="[object ArrayBuffer]",ip="[object DataView]",op="[object Float32Array]",sp="[object Float64Array]",up="[object Int8Array]",cp="[object Int16Array]",lp="[object Int32Array]",fp="[object Uint8Array]",dp="[object Uint8ClampedArray]",hp="[object Uint16Array]",pp="[object Uint32Array]",Ye={};Ye[op]=Ye[sp]=Ye[up]=Ye[cp]=Ye[lp]=Ye[fp]=Ye[dp]=Ye[hp]=Ye[pp]=!0;Ye[Wh]=Ye[$h]=Ye[ap]=Ye[Gh]=Ye[ip]=Ye[Qh]=Ye[zh]=Ye[Vh]=Ye[Xh]=Ye[Jh]=Ye[Zh]=Ye[ep]=Ye[tp]=Ye[np]=Ye[rp]=!1;function vp(e){return tr(e)&&io(e.length)&&!!Ye[ir(e)]}function ku(e){return function(t){return e(t)}}var Su=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wr=Su&&typeof module=="object"&&module&&!module.nodeType&&module,mp=wr&&wr.exports===Su,bi=mp&&mu.process,gs=function(){try{var e=wr&&wr.require&&wr.require("util").types;return e||bi&&bi.binding&&bi.binding("util")}catch{}}(),bs=gs&&gs.isTypedArray,Eu=bs?ku(bs):vp,yp=Object.prototype,gp=yp.hasOwnProperty;function bp(e,t){var n=Rt(e),r=!n&&Pu(e),i=!n&&!r&&Ai(e),u=!n&&!r&&!i&&Eu(e),s=n||r||i||u,h=s?Uh(e.length,String):[],v=h.length;for(var _ in e)gp.call(e,_)&&!(s&&(_=="length"||i&&(_=="offset"||_=="parent")||u&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Cu(_,v)))&&h.push(_);return h}var wp=Object.prototype;function _p(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||wp;return e===n}function xp(e,t){return function(n){return e(t(n))}}var Tp=xp(Object.keys,Object),Pp=Object.prototype,Op=Pp.hasOwnProperty;function Cp(e){if(!_p(e))return Tp(e);var t=[];for(var n in Object(e))Op.call(e,n)&&n!="constructor"&&t.push(n);return t}function oo(e){return e!=null&&io(e.length)&&!gu(e)}function so(e){return oo(e)?bp(e):Cp(e)}function ws(e){return Eh(e,so,jh)}var kp=1,Sp=Object.prototype,Ep=Sp.hasOwnProperty;function Dp(e,t,n,r,i,u){var s=n&kp,h=ws(e),v=h.length,_=ws(t),M=_.length;if(v!=M&&!s)return!1;for(var D=v;D--;){var j=h[D];if(!(s?j in t:Ep.call(t,j)))return!1}var q=u.get(e),W=u.get(t);if(q&&W)return q==t&&W==e;var F=!0;u.set(e,t),u.set(t,e);for(var X=s;++D<v;){j=h[D];var z=e[j],L=t[j];if(r)var re=s?r(L,z,j,t,e,u):r(z,L,j,e,t,u);if(!(re===void 0?z===L||i(z,L,n,r,u):re)){F=!1;break}X||(X=j=="constructor")}if(F&&!X){var oe=e.constructor,we=t.constructor;oe!=we&&"constructor"in e&&"constructor"in t&&!(typeof oe=="function"&&oe instanceof oe&&typeof we=="function"&&we instanceof we)&&(F=!1)}return u.delete(e),u.delete(t),F}var Mi=or(cn,"DataView"),Ii=or(cn,"Promise"),ji=or(cn,"Set"),Ui=or(cn,"WeakMap"),_s="[object Map]",Ap="[object Object]",xs="[object Promise]",Ts="[object Set]",Ps="[object WeakMap]",Os="[object DataView]",Mp=Ln(Mi),Ip=Ln(Or),jp=Ln(Ii),Up=Ln(ji),Rp=Ln(Ui),Tn=ir;(Mi&&Tn(new Mi(new ArrayBuffer(1)))!=Os||Or&&Tn(new Or)!=_s||Ii&&Tn(Ii.resolve())!=xs||ji&&Tn(new ji)!=Ts||Ui&&Tn(new Ui)!=Ps)&&(Tn=function(e){var t=ir(e),n=t==Ap?e.constructor:void 0,r=n?Ln(n):"";if(r)switch(r){case Mp:return Os;case Ip:return _s;case jp:return xs;case Up:return Ts;case Rp:return Ps}return t});var qp=1,Cs="[object Arguments]",ks="[object Array]",ia="[object Object]",Np=Object.prototype,Ss=Np.hasOwnProperty;function Bp(e,t,n,r,i,u){var s=Rt(e),h=Rt(t),v=s?ks:Tn(e),_=h?ks:Tn(t);v=v==Cs?ia:v,_=_==Cs?ia:_;var M=v==ia,D=_==ia,j=v==_;if(j&&Ai(e)){if(!Ai(t))return!1;s=!0,M=!1}if(j&&!M)return u||(u=new an),s||Eu(e)?xu(e,t,n,r,i,u):kh(e,t,v,n,r,i,u);if(!(n&qp)){var q=M&&Ss.call(e,"__wrapped__"),W=D&&Ss.call(t,"__wrapped__");if(q||W){var F=q?e.value():e,X=W?t.value():t;return u||(u=new an),i(F,X,n,r,u)}}return j?(u||(u=new an),Dp(e,t,n,r,i,u)):!1}function uo(e,t,n,r,i){return e===t?!0:e==null||t==null||!tr(e)&&!tr(t)?e!==e&&t!==t:Bp(e,t,n,r,uo,i)}var Lp=1,Fp=2;function Kp(e,t,n,r){var i=n.length,u=i;if(e==null)return!u;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<u;){s=n[i];var h=s[0],v=e[h],_=s[1];if(s[2]){if(v===void 0&&!(h in e))return!1}else{var M=new an,D;if(!(D===void 0?uo(_,v,Lp|Fp,r,M):D))return!1}}return!0}function Du(e){return e===e&&!no(e)}function Yp(e){for(var t=so(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Du(i)]}return t}function Au(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Hp(e){var t=Yp(e);return t.length==1&&t[0][2]?Au(t[0][0],t[0][1]):function(n){return n===e||Kp(n,e,t)}}function Wp(e,t,n){var r=e==null?void 0:ao(e,t);return r===void 0?n:r}function $p(e,t){return e!=null&&t in Object(e)}function Gp(e,t,n){t=_u(t,e);for(var r=-1,i=t.length,u=!1;++r<i;){var s=Da(t[r]);if(!(u=e!=null&&n(e,s)))break;e=e[s]}return u||++r!=i?u:(i=e==null?0:e.length,!!i&&io(i)&&Cu(s,i)&&(Rt(e)||Pu(e)))}function Qp(e,t){return e!=null&&Gp(e,t,$p)}var zp=1,Vp=2;function Xp(e,t){return to(e)&&Du(t)?Au(Da(e),t):function(n){var r=Wp(n,e);return r===void 0&&r===t?Qp(n,e):uo(t,r,zp|Vp)}}function Mu(e){return e}function Jp(e){return function(t){return t==null?void 0:t[e]}}function Zp(e){return function(t){return ao(t,e)}}function ev(e){return to(e)?Jp(Da(e)):Zp(e)}function Iu(e){return typeof e=="function"?e:e==null?Mu:typeof e=="object"?Rt(e)?Xp(e[0],e[1]):Hp(e):ev(e)}function tv(e){return function(t,n,r){for(var i=-1,u=Object(t),s=r(t),h=s.length;h--;){var v=s[++i];if(n(u[v],v,u)===!1)break}return t}}var nv=tv();function rv(e,t){return e&&nv(e,t,so)}function av(e,t){return function(n,r){if(n==null)return n;if(!oo(n))return e(n,r);for(var i=n.length,u=-1,s=Object(n);++u<i&&r(s[u],u,s)!==!1;);return n}}var iv=av(rv);function ov(e,t){var n=-1,r=oo(e)?Array(e.length):[];return iv(e,function(i,u,s){r[++n]=t(i,u,s)}),r}function sv(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function uv(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,u=nr(e),s=t!==void 0,h=t===null,v=t===t,_=nr(t);if(!h&&!_&&!u&&e>t||u&&s&&v&&!h&&!_||r&&s&&v||!n&&v||!i)return 1;if(!r&&!u&&!_&&e<t||_&&n&&i&&!r&&!u||h&&n&&i||!s&&i||!v)return-1}return 0}function cv(e,t,n){for(var r=-1,i=e.criteria,u=t.criteria,s=i.length,h=n.length;++r<s;){var v=uv(i[r],u[r]);if(v){if(r>=h)return v;var _=n[r];return v*(_=="desc"?-1:1)}}return e.index-t.index}function lv(e,t,n){t.length?t=ua(t,function(u){return Rt(u)?function(s){return ao(s,u.length===1?u[0]:u)}:u}):t=[Mu];var r=-1;t=ua(t,ku(Iu));var i=ov(e,function(u,s,h){var v=ua(t,function(_){return _(u)});return{criteria:v,index:++r,value:u}});return sv(i,function(u,s){return cv(u,s,n)})}function fv(e,t,n,r){return e==null?[]:(Rt(t)||(t=t==null?[]:[t]),n=n,Rt(n)||(n=n==null?[]:[n]),lv(e,t,n))}let _r=rn([]);var Sr,Er,Dr;class ju{constructor(t){In(this,Sr,Un(null));aa(this,"_id");In(this,Er,Un(null));In(this,Dr,Un(!1));this._id=t}get data(){return N(It(this,Sr))}set data(t){dt(It(this,Sr),rn(t))}get selected(){return N(It(this,Er))}set selected(t){dt(It(this,Er),rn(t))}get loading(){return N(It(this,Dr))}set loading(t){dt(It(this,Dr),rn(t))}replace(t){Array.isArray(t)?this.data=[...t,...this.data?this.data.filter(n=>t.map(r=>r[this._id]).includes(n[this._id])):[]]:this.data=[...this.data?this.data.filter(n=>n[this._id]!==t[this._id]):[],t]}remove(t){this.data&&(Array.isArray(t)?this.data=this.data.filter(n=>!t.map(r=>r[this._id]).includes(n[this._id])):this.data=this.data.filter(n=>n[this._id]!==t[this._id]))}reset(){this.data=null}add(t){Array.isArray(t)?this.data=[...this.data??[],...t]:this.data=[...this.data??[],t]}}Sr=new WeakMap,Er=new WeakMap,Dr=new WeakMap;const dv=rr([]),hv=rr([]),Es=rr(" | ");var Ar,Mr,Pa;class pv{constructor(){In(this,Ar,Un(rn([])));In(this,Mr,Un(""));In(this,Pa,Jn(()=>this.logs?this.filterText==""?this.logs:this.logs.filter(n=>{if(typeof n=="object"&&n.message)return n.message.toLowerCase().includes(this.filterText.toLowerCase());if(typeof n=="string")return n.toLowerCase().includes(this.filterText.toLowerCase())}):void 0))}get logs(){return N(It(this,Ar))}set logs(t){dt(It(this,Ar),rn(t))}get filterText(){return N(It(this,Mr))}set filterText(t){dt(It(this,Mr),rn(t))}get filteredLogs(){return N(It(this,Pa))}}Ar=new WeakMap,Mr=new WeakMap,Pa=new WeakMap;var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ds,function(){var n=function(a,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])})(a,o)},r=function(){return(r=Object.assign||function(a){for(var o,c=1,l=arguments.length;c<l;c++)for(var f in o=arguments[c])Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f]);return a}).apply(this,arguments)};function i(a,o,c){for(var l,f=0,d=o.length;f<d;f++)!l&&f in o||((l=l||Array.prototype.slice.call(o,0,f))[f]=o[f]);return a.concat(l||Array.prototype.slice.call(o))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ds,s=Object.keys,h=Array.isArray;function v(a,o){return typeof o!="object"||s(o).forEach(function(c){a[c]=o[c]}),a}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var _=Object.getPrototypeOf,M={}.hasOwnProperty;function D(a,o){return M.call(a,o)}function j(a,o){typeof o=="function"&&(o=o(_(a))),(typeof Reflect>"u"?s:Reflect.ownKeys)(o).forEach(function(c){W(a,c,o[c])})}var q=Object.defineProperty;function W(a,o,c,l){q(a,o,v(c&&D(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},l))}function F(a){return{from:function(o){return a.prototype=Object.create(o.prototype),W(a.prototype,"constructor",a),{extend:j.bind(null,a.prototype)}}}}var X=Object.getOwnPropertyDescriptor,z=[].slice;function L(a,o,c){return z.call(a,o,c)}function re(a,o){return o(a)}function oe(a){if(!a)throw new Error("Assertion Failed")}function we(a){u.setImmediate?setImmediate(a):setTimeout(a,0)}function ee(a,o){if(typeof o=="string"&&D(a,o))return a[o];if(!o)return a;if(typeof o!="string"){for(var c=[],l=0,f=o.length;l<f;++l){var d=ee(a,o[l]);c.push(d)}return c}var p=o.indexOf(".");if(p!==-1){var m=a[o.substr(0,p)];return m==null?void 0:ee(m,o.substr(p+1))}}function ne(a,o,c){if(a&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof o!="string"&&"length"in o){oe(typeof c!="string"&&"length"in c);for(var l=0,f=o.length;l<f;++l)ne(a,o[l],c[l])}else{var d,p,m=o.indexOf(".");m!==-1?(d=o.substr(0,m),(p=o.substr(m+1))===""?c===void 0?h(a)&&!isNaN(parseInt(d))?a.splice(d,1):delete a[d]:a[d]=c:ne(m=!(m=a[d])||!D(a,d)?a[d]={}:m,p,c)):c===void 0?h(a)&&!isNaN(parseInt(o))?a.splice(o,1):delete a[o]:a[o]=c}}function ue(a){var o,c={};for(o in a)D(a,o)&&(c[o]=a[o]);return c}var je=[].concat;function Ue(a){return je.apply([],a)}var en="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ue([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(o){return o+a+"Array"})}))).filter(function(a){return u[a]}),te=new Set(en.map(function(a){return u[a]})),le=null;function Ae(a){return le=new WeakMap,a=function o(c){if(!c||typeof c!="object")return c;var l=le.get(c);if(l)return l;if(h(c)){l=[],le.set(c,l);for(var f=0,d=c.length;f<d;++f)l.push(o(c[f]))}else if(te.has(c.constructor))l=c;else{var p,m=_(c);for(p in l=m===Object.prototype?{}:Object.create(m),le.set(c,l),c)D(c,p)&&(l[p]=o(c[p]))}return l}(a),le=null,a}var He={}.toString;function ce(a){return He.call(a).slice(8,-1)}var mt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof mt=="symbol"?function(a){var o;return a!=null&&(o=a[mt])&&o.apply(a)}:function(){return null};function Re(a,o){return o=a.indexOf(o),0<=o&&a.splice(o,1),0<=o}var rt={};function Ge(a){var o,c,l,f;if(arguments.length===1){if(h(a))return a.slice();if(this===rt&&typeof a=="string")return[a];if(f=Ve(a)){for(c=[];!(l=f.next()).done;)c.push(l.value);return c}if(a==null)return[a];if(typeof(o=a.length)!="number")return[a];for(c=new Array(o);o--;)c[o]=a[o];return c}for(o=arguments.length,c=new Array(o);o--;)c[o]=arguments[o];return c}var at=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qe),qt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function st(a,o){this.name=a,this.message=o}function ke(a,o){return a+". Errors: "+Object.keys(o).map(function(c){return o[c].toString()}).filter(function(c,l,f){return f.indexOf(c)===l}).join(`
`)}function ye(a,o,c,l){this.failures=o,this.failedKeys=l,this.successCount=c,this.message=ke(a,o)}function Le(a,o){this.name="BulkError",this.failures=Object.keys(o).map(function(c){return o[c]}),this.failuresByPos=o,this.message=ke(a,this.failures)}F(st).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(ye).from(st),F(Le).from(st);var Ct=Mt.reduce(function(a,o){return a[o]=o+"Error",a},{}),Ht=st,Z=Mt.reduce(function(a,o){var c=o+"Error";function l(f,d){this.name=c,f?typeof f=="string"?(this.message="".concat(f).concat(d?`
 `+d:""),this.inner=d||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=qt[o]||c,this.inner=null)}return F(l).from(Ht),a[o]=l,a},{});Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError;var yt=qe.reduce(function(a,o){return a[o+"Error"]=Z[o],a},{}),Nt=Mt.reduce(function(a,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(a[o+"Error"]=Z[o]),a},{});function me(){}function Jt(a){return a}function Fn(a,o){return a==null||a===Jt?o:function(c){return o(a(c))}}function Bt(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}}function hn(a,o){return a===me?o:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var l=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var d=o.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?Bt(l,this.onsuccess):l),f&&(this.onerror=this.onerror?Bt(f,this.onerror):f),d!==void 0?d:c}}function Kn(a,o){return a===me?o:function(){a.apply(this,arguments);var c=this.onsuccess,l=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Bt(c,this.onsuccess):c),l&&(this.onerror=this.onerror?Bt(l,this.onerror):l)}}function On(a,o){return a===me?o:function(c){var l=a.apply(this,arguments);v(c,l);var f=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,c=o.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Bt(f,this.onsuccess):f),d&&(this.onerror=this.onerror?Bt(d,this.onerror):d),l===void 0?c===void 0?void 0:c:v(l,c)}}function Wt(a,o){return a===me?o:function(){return o.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function pn(a,o){return a===me?o:function(){var c=a.apply(this,arguments);if(c&&typeof c.then=="function"){for(var l=this,f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];return c.then(function(){return o.apply(l,d)})}return o.apply(this,arguments)}}Nt.ModifyError=ye,Nt.DexieError=st,Nt.BulkError=Le;var xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function At(a){xt=a}var Tt={},vn=100,en=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,_(a),a];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,_(o),a]}(),qe=en[0],Mt=en[1],en=en[2],Mt=Mt&&Mt.then,_e=qe&&qe.constructor,Fe=!!en,Me=function(a,o){Cn.push([a,o]),ht&&(queueMicrotask(uc),ht=!1)},Xe=!0,ht=!0,pt=[],ut=[],Lt=Jt,We={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:me},J=We,Cn=[],St=0,jr=[];function $(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=J;if(typeof a!="function"){if(a!==Tt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ra(this,this._value))}this._state=null,this._value=null,++o.ref,function c(l,f){try{f(function(d){if(l._state===null){if(d===l)throw new TypeError("A promise cannot be resolved with itself.");var p=l._lib&&Yn();d&&typeof d.then=="function"?c(l,function(m,w){d instanceof $?d._then(m,w):d.then(m,w)}):(l._state=!0,l._value=d,wo(l)),p&&Hn()}},Ra.bind(null,l))}catch(d){Ra(l,d)}}(this,a)}var Ua={get:function(){var a=J,o=Nr;function c(l,f){var d=this,p=!a.global&&(a!==J||o!==Nr),m=p&&!yn(),w=new $(function(g,P){qa(d,new bo(xo(l,a,p,m),xo(f,a,p,m),g,P,a))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return c.prototype=Tt,c},set:function(a){W(this,"then",a&&a.prototype===Tt?Ua:{get:function(){return a},set:Ua.set})}};function bo(a,o,c,l,f){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof o=="function"?o:null,this.resolve=c,this.reject=l,this.psd=f}function Ra(a,o){var c,l;ut.push(o),a._state===null&&(c=a._lib&&Yn(),o=Lt(o),a._state=!1,a._value=o,l=a,pt.some(function(f){return f._value===l._value})||pt.push(l),wo(a),c&&Hn())}function wo(a){var o=a._listeners;a._listeners=[];for(var c=0,l=o.length;c<l;++c)qa(a,o[c]);var f=a._PSD;--f.ref||f.finalize(),St===0&&(++St,Me(function(){--St==0&&Na()},[]))}function qa(a,o){if(a._state!==null){var c=a._state?o.onFulfilled:o.onRejected;if(c===null)return(a._state?o.resolve:o.reject)(a._value);++o.psd.ref,++St,Me(sc,[c,a,o])}else a._listeners.push(o)}function sc(a,o,c){try{var l,f=o._value;!o._state&&ut.length&&(ut=[]),l=xt&&o._consoleTask?o._consoleTask.run(function(){return a(f)}):a(f),o._state||ut.indexOf(f)!==-1||function(d){for(var p=pt.length;p;)if(pt[--p]._value===d._value)return pt.splice(p,1)}(o),c.resolve(l)}catch(d){c.reject(d)}finally{--St==0&&Na(),--c.psd.ref||c.psd.finalize()}}function uc(){kn(We,function(){Yn()&&Hn()})}function Yn(){var a=Xe;return ht=Xe=!1,a}function Hn(){var a,o,c;do for(;0<Cn.length;)for(a=Cn,Cn=[],c=a.length,o=0;o<c;++o){var l=a[o];l[0].apply(null,l[1])}while(0<Cn.length);ht=Xe=!0}function Na(){var a=pt;pt=[],a.forEach(function(l){l._PSD.onunhandled.call(null,l._value,l)});for(var o=jr.slice(0),c=o.length;c;)o[--c]()}function Ur(a){return new $(Tt,!1,a)}function $e(a,o){var c=J;return function(){var l=Yn(),f=J;try{return gn(c,!0),a.apply(this,arguments)}catch(d){o&&o(d)}finally{gn(f,!1),l&&Hn()}}}j($.prototype,{then:Ua,_then:function(a,o){qa(this,new bo(null,null,a,o,J))},catch:function(a){if(arguments.length===1)return this.then(null,a);var o=a,c=arguments[1];return typeof o=="function"?this.then(null,function(l){return(l instanceof o?c:Ur)(l)}):this.then(null,function(l){return(l&&l.name===o?c:Ur)(l)})},finally:function(a){return this.then(function(o){return $.resolve(a()).then(function(){return o})},function(o){return $.resolve(a()).then(function(){return Ur(o)})})},timeout:function(a,o){var c=this;return a<1/0?new $(function(l,f){var d=setTimeout(function(){return f(new Z.Timeout(o))},a);c.then(l,f).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&W($.prototype,Symbol.toStringTag,"Dexie.Promise"),We.env=_o(),j($,{all:function(){var a=Ge.apply(null,arguments).map(Br);return new $(function(o,c){a.length===0&&o([]);var l=a.length;a.forEach(function(f,d){return $.resolve(f).then(function(p){a[d]=p,--l||o(a)},c)})})},resolve:function(a){return a instanceof $?a:a&&typeof a.then=="function"?new $(function(o,c){a.then(o,c)}):new $(Tt,!0,a)},reject:Ur,race:function(){var a=Ge.apply(null,arguments).map(Br);return new $(function(o,c){a.map(function(l){return $.resolve(l).then(o,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return Nr}},newPSD:mn,usePSD:kn,scheduler:{get:function(){return Me},set:function(a){Me=a}},rejectionMapper:{get:function(){return Lt},set:function(a){Lt=a}},follow:function(a,o){return new $(function(c,l){return mn(function(f,d){var p=J;p.unhandleds=[],p.onunhandled=d,p.finalize=Bt(function(){var m,w=this;m=function(){w.unhandleds.length===0?f():d(w.unhandleds[0])},jr.push(function g(){m(),jr.splice(jr.indexOf(g),1)}),++St,Me(function(){--St==0&&Na()},[])},p.finalize),a()},o,c,l)})}}),_e&&(_e.allSettled&&W($,"allSettled",function(){var a=Ge.apply(null,arguments).map(Br);return new $(function(o){a.length===0&&o([]);var c=a.length,l=new Array(c);a.forEach(function(f,d){return $.resolve(f).then(function(p){return l[d]={status:"fulfilled",value:p}},function(p){return l[d]={status:"rejected",reason:p}}).then(function(){return--c||o(l)})})})}),_e.any&&typeof AggregateError<"u"&&W($,"any",function(){var a=Ge.apply(null,arguments).map(Br);return new $(function(o,c){a.length===0&&c(new AggregateError([]));var l=a.length,f=new Array(l);a.forEach(function(d,p){return $.resolve(d).then(function(m){return o(m)},function(m){f[p]=m,--l||c(new AggregateError(f))})})})}));var lt={awaits:0,echoes:0,id:0},cc=0,Rr=[],qr=0,Nr=0,lc=0;function mn(a,o,c,l){var f=J,d=Object.create(f);return d.parent=f,d.ref=0,d.global=!1,d.id=++lc,We.env,d.env=Fe?{Promise:$,PromiseProp:{value:$,configurable:!0,writable:!0},all:$.all,race:$.race,allSettled:$.allSettled,any:$.any,resolve:$.resolve,reject:$.reject}:{},o&&v(d,o),++f.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},l=kn(d,a,c,l),d.ref===0&&d.finalize(),l}function Wn(){return lt.id||(lt.id=++cc),++lt.awaits,lt.echoes+=vn,lt.id}function yn(){return!!lt.awaits&&(--lt.awaits==0&&(lt.id=0),lt.echoes=lt.awaits*vn,!0)}function Br(a){return lt.echoes&&a&&a.constructor===_e?(Wn(),a.then(function(o){return yn(),o},function(o){return yn(),Ze(o)})):a}function fc(){var a=Rr[Rr.length-1];Rr.pop(),gn(a,!1)}function gn(a,o){var c,l=J;(o?!lt.echoes||qr++&&a===J:!qr||--qr&&a===J)||queueMicrotask(o?(function(f){++Nr,lt.echoes&&--lt.echoes!=0||(lt.echoes=lt.awaits=lt.id=0),Rr.push(J),gn(f,!0)}).bind(null,a):fc),a!==J&&(J=a,l===We&&(We.env=_o()),Fe&&(c=We.env.Promise,o=a.env,(l.global||a.global)&&(Object.defineProperty(u,"Promise",o.PromiseProp),c.all=o.all,c.race=o.race,c.resolve=o.resolve,c.reject=o.reject,o.allSettled&&(c.allSettled=o.allSettled),o.any&&(c.any=o.any))))}function _o(){var a=u.Promise;return Fe?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function kn(a,o,c,l,f){var d=J;try{return gn(a,!0),o(c,l,f)}finally{gn(d,!1)}}function xo(a,o,c,l){return typeof a!="function"?a:function(){var f=J;c&&Wn(),gn(o,!0);try{return a.apply(this,arguments)}finally{gn(f,!1),l&&queueMicrotask(yn)}}}function Ba(a){Promise===_e&&lt.echoes===0?qr===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Mt).indexOf("[native code]")===-1&&(Wn=yn=me);var Ze=$.reject,Sn="",Zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",To="String expected.",$n=[],Lr="__dbnames",La="readonly",Fa="readwrite";function En(a,o){return a?o?function(){return a.apply(this,arguments)&&o.apply(this,arguments)}:a:o}var Po={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Fr(a){return typeof a!="string"||/\./.test(a)?function(o){return o}:function(o){return o[a]===void 0&&a in o&&delete(o=Ae(o))[a],o}}function Oo(){throw Z.Type()}function Se(a,o){try{var c=Co(a),l=Co(o);if(c!==l)return c==="Array"?1:l==="Array"?-1:c==="binary"?1:l==="binary"?-1:c==="string"?1:l==="string"?-1:c==="Date"?1:l!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return o<a?1:a<o?-1:0;case"binary":return function(f,d){for(var p=f.length,m=d.length,w=p<m?p:m,g=0;g<w;++g)if(f[g]!==d[g])return f[g]<d[g]?-1:1;return p===m?0:p<m?-1:1}(ko(a),ko(o));case"Array":return function(f,d){for(var p=f.length,m=d.length,w=p<m?p:m,g=0;g<w;++g){var P=Se(f[g],d[g]);if(P!==0)return P}return p===m?0:p<m?-1:1}(a,o)}}catch{}return NaN}function Co(a){var o=typeof a;return o!="object"?o:ArrayBuffer.isView(a)?"binary":(a=ce(a),a==="ArrayBuffer"?"binary":a)}function ko(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var So=(Ke.prototype._trans=function(a,o,c){var l=this._tx||J.trans,f=this.name,d=xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function p(g,P,y){if(!y.schema[f])throw new Z.NotFound("Table "+f+" not part of transaction");return o(y.idbtrans,y)}var m=Yn();try{var w=l&&l.db._novip===this.db._novip?l===J.trans?l._promise(a,p,c):mn(function(){return l._promise(a,p,c)},{trans:l,transless:J.transless||J}):function g(P,y,O,b){if(P.idbdb&&(P._state.openComplete||J.letThrough||P._vip)){var T=P._createTransaction(y,O,P._dbSchema);try{T.create(),P._state.PR1398_maxLoop=3}catch(C){return C.name===Ct.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return g(P,y,O,b)})):Ze(C)}return T._promise(y,function(C,x){return mn(function(){return J.trans=T,b(C,x,T)})}).then(function(C){if(y==="readwrite")try{T.idbtrans.commit()}catch{}return y==="readonly"?C:T._completion.then(function(){return C})})}if(P._state.openComplete)return Ze(new Z.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return Ze(new Z.DatabaseClosed);P.open().catch(me)}return P._state.dbReadyPromise.then(function(){return g(P,y,O,b)})}(this.db,a,[this.name],p);return d&&(w._consoleTask=d,w=w.catch(function(g){return console.trace(g),Ze(g)})),w}finally{m&&Hn()}},Ke.prototype.get=function(a,o){var c=this;return a&&a.constructor===Object?this.where(a).first(o):a==null?Ze(new Z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(l){return c.core.get({trans:l,key:a}).then(function(f){return c.hook.reading.fire(f)})}).then(o)},Ke.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var o=s(a);if(o.length===1)return this.where(o[0]).equals(a[o[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&o.every(function(P){return 0<=w.keyPath.indexOf(P)})){for(var g=0;g<o.length;++g)if(o.indexOf(w.keyPath[g])===-1)return!1;return!0}return!1}).sort(function(w,g){return w.keyPath.length-g.keyPath.length})[0];if(c&&this.db._maxKey!==Sn){var p=c.keyPath.slice(0,o.length);return this.where(p).equals(p.map(function(g){return a[g]}))}!c&&xt&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var l=this.schema.idxByName,f=this.db._deps.indexedDB;function d(w,g){return f.cmp(w,g)===0}var m=o.reduce(function(O,g){var P=O[0],y=O[1],O=l[g],b=a[g];return[P||O,P||!O?En(y,O&&O.multi?function(T){return T=ee(T,g),h(T)&&T.some(function(C){return d(b,C)})}:function(T){return d(b,ee(T,g))}):y]},[null,null]),p=m[0],m=m[1];return p?this.where(p.name).equals(a[p.keyPath]).filter(m):c?this.filter(m):this.where(o).equals("")},Ke.prototype.filter=function(a){return this.toCollection().and(a)},Ke.prototype.count=function(a){return this.toCollection().count(a)},Ke.prototype.offset=function(a){return this.toCollection().offset(a)},Ke.prototype.limit=function(a){return this.toCollection().limit(a)},Ke.prototype.each=function(a){return this.toCollection().each(a)},Ke.prototype.toArray=function(a){return this.toCollection().toArray(a)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(a){var o,c=this.db,l=this.name;function f(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Oo&&(function(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function P(){this.constructor=w}n(w,g),w.prototype=g===null?Object.create(g):(P.prototype=g.prototype,new P)}(f,o=a),Object.defineProperty(f.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),f.prototype.table=function(){return l},a=f);for(var d=new Set,p=a.prototype;p;p=_(p))Object.getOwnPropertyNames(p).forEach(function(w){return d.add(w)});function m(w){if(!w)return w;var g,P=Object.create(a.prototype);for(g in w)if(!d.has(g))try{P[g]=w[g]}catch{}return P}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),a},Ke.prototype.defineClass=function(){return this.mapToClass(function(a){v(this,a)})},Ke.prototype.add=function(a,o){var c=this,l=this.schema.primKey,f=l.auto,d=l.keyPath,p=a;return d&&f&&(p=Fr(d)(a)),this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"add",keys:o!=null?[o]:null,values:[p]})}).then(function(m){return m.numFailures?$.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ne(a,d,m)}catch{}return m})},Ke.prototype.update=function(a,o){return typeof a!="object"||h(a)?this.where(":id").equals(a).modify(o):(a=ee(a,this.schema.primKey.keyPath),a===void 0?Ze(new Z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(o))},Ke.prototype.put=function(a,o){var c=this,l=this.schema.primKey,f=l.auto,d=l.keyPath,p=a;return d&&f&&(p=Fr(d)(a)),this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"put",values:[p],keys:o!=null?[o]:null})}).then(function(m){return m.numFailures?$.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ne(a,d,m)}catch{}return m})},Ke.prototype.delete=function(a){var o=this;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(c){return c.numFailures?$.reject(c.failures[0]):void 0})},Ke.prototype.clear=function(){var a=this;return this._trans("readwrite",function(o){return a.core.mutate({trans:o,type:"deleteRange",range:Po})}).then(function(o){return o.numFailures?$.reject(o.failures[0]):void 0})},Ke.prototype.bulkGet=function(a){var o=this;return this._trans("readonly",function(c){return o.core.getMany({keys:a,trans:c}).then(function(l){return l.map(function(f){return o.hook.reading.fire(f)})})})},Ke.prototype.bulkAdd=function(a,o,c){var l=this,f=Array.isArray(o)?o:void 0,d=(c=c||(f?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(p){var g=l.schema.primKey,m=g.auto,g=g.keyPath;if(g&&f)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var w=a.length,g=g&&m?a.map(Fr(g)):a;return l.core.mutate({trans:p,type:"add",keys:f,values:g,wantResults:d}).then(function(T){var y=T.numFailures,O=T.results,b=T.lastResult,T=T.failures;if(y===0)return d?O:b;throw new Le("".concat(l.name,".bulkAdd(): ").concat(y," of ").concat(w," operations failed"),T)})})},Ke.prototype.bulkPut=function(a,o,c){var l=this,f=Array.isArray(o)?o:void 0,d=(c=c||(f?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(p){var g=l.schema.primKey,m=g.auto,g=g.keyPath;if(g&&f)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var w=a.length,g=g&&m?a.map(Fr(g)):a;return l.core.mutate({trans:p,type:"put",keys:f,values:g,wantResults:d}).then(function(T){var y=T.numFailures,O=T.results,b=T.lastResult,T=T.failures;if(y===0)return d?O:b;throw new Le("".concat(l.name,".bulkPut(): ").concat(y," of ").concat(w," operations failed"),T)})})},Ke.prototype.bulkUpdate=function(a){var o=this,c=this.core,l=a.map(function(p){return p.key}),f=a.map(function(p){return p.changes}),d=[];return this._trans("readwrite",function(p){return c.getMany({trans:p,keys:l,cache:"clone"}).then(function(m){var w=[],g=[];a.forEach(function(y,O){var b=y.key,T=y.changes,C=m[O];if(C){for(var x=0,k=Object.keys(T);x<k.length;x++){var S=k[x],E=T[S];if(S===o.schema.primKey.keyPath){if(Se(E,b)!==0)throw new Z.Constraint("Cannot update primary key in bulkUpdate()")}else ne(C,S,E)}d.push(O),w.push(b),g.push(C)}});var P=w.length;return c.mutate({trans:p,type:"put",keys:w,values:g,updates:{keys:l,changeSpecs:f}}).then(function(y){var O=y.numFailures,b=y.failures;if(O===0)return P;for(var T=0,C=Object.keys(b);T<C.length;T++){var x,k=C[T],S=d[Number(k)];S!=null&&(x=b[k],delete b[k],b[S]=x)}throw new Le("".concat(o.name,".bulkUpdate(): ").concat(O," of ").concat(P," operations failed"),b)})})})},Ke.prototype.bulkDelete=function(a){var o=this,c=a.length;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"delete",keys:a})}).then(function(p){var f=p.numFailures,d=p.lastResult,p=p.failures;if(f===0)return d;throw new Le("".concat(o.name,".bulkDelete(): ").concat(f," of ").concat(c," operations failed"),p)})},Ke);function Ke(){}function sr(a){function o(p,m){if(m){for(var w=arguments.length,g=new Array(w-1);--w;)g[w-1]=arguments[w];return c[p].subscribe.apply(null,g),a}if(typeof p=="string")return c[p]}var c={};o.addEventType=d;for(var l=1,f=arguments.length;l<f;++l)d(arguments[l]);return o;function d(p,m,w){if(typeof p!="object"){var g;m=m||Wt;var P={subscribers:[],fire:w=w||me,subscribe:function(y){P.subscribers.indexOf(y)===-1&&(P.subscribers.push(y),P.fire=m(P.fire,y))},unsubscribe:function(y){P.subscribers=P.subscribers.filter(function(O){return O!==y}),P.fire=P.subscribers.reduce(m,w)}};return c[p]=o[p]=P}s(g=p).forEach(function(y){var O=g[y];if(h(O))d(y,g[y][0],g[y][1]);else{if(O!=="asap")throw new Z.InvalidArgument("Invalid event config");var b=d(y,Jt,function(){for(var T=arguments.length,C=new Array(T);T--;)C[T]=arguments[T];b.subscribers.forEach(function(x){we(function(){x.apply(null,C)})})})}})}}function ur(a,o){return F(o).from({prototype:a}),o}function Gn(a,o){return!(a.filter||a.algorithm||a.or)&&(o?a.justLimit:!a.replayFilter)}function Ka(a,o){a.filter=En(a.filter,o)}function Ya(a,o,c){var l=a.replayFilter;a.replayFilter=l?function(){return En(l(),o())}:o,a.justLimit=c&&!l}function Kr(a,o){if(a.isPrimKey)return o.primaryKey;var c=o.getIndexByKeyPath(a.index);if(!c)throw new Z.Schema("KeyPath "+a.index+" on object store "+o.name+" is not indexed");return c}function Eo(a,o,c){var l=Kr(a,o.schema);return o.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:l,range:a.range}})}function Yr(a,o,c,l){var f=a.replayFilter?En(a.filter,a.replayFilter()):a.filter;if(a.or){var d={},p=function(m,w,g){var P,y;f&&!f(w,g,function(O){return w.stop(O)},function(O){return w.fail(O)})||((y=""+(P=w.primaryKey))=="[object ArrayBuffer]"&&(y=""+new Uint8Array(P)),D(d,y)||(d[y]=!0,o(m,w,g)))};return Promise.all([a.or._iterate(p,c),Do(Eo(a,l,c),a.algorithm,p,!a.keysOnly&&a.valueMapper)])}return Do(Eo(a,l,c),En(a.algorithm,f),o,!a.keysOnly&&a.valueMapper)}function Do(a,o,c,l){var f=$e(l?function(d,p,m){return c(l(d),p,m)}:c);return a.then(function(d){if(d)return d.start(function(){var p=function(){return d.continue()};o&&!o(d,function(m){return p=m},function(m){d.stop(m),p=me},function(m){d.fail(m),p=me})||f(d.value,d,function(m){return p=m}),p()})})}var en=Symbol(),Ha=(Ao.prototype.execute=function(a){var o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0];return o&&typeof a=="string"&&a.startsWith(o)?this.replacePrefix[1]+a.substring(o.length):a},Ao);function Ao(a){Object.assign(this,a)}var dc=(Oe.prototype._read=function(a,o){var c=this._ctx;return c.error?c.table._trans(null,Ze.bind(null,c.error)):c.table._trans("readonly",a).then(o)},Oe.prototype._write=function(a){var o=this._ctx;return o.error?o.table._trans(null,Ze.bind(null,o.error)):o.table._trans("readwrite",a,"locked")},Oe.prototype._addAlgorithm=function(a){var o=this._ctx;o.algorithm=En(o.algorithm,a)},Oe.prototype._iterate=function(a,o){return Yr(this._ctx,a,o,this._ctx.table.core)},Oe.prototype.clone=function(a){var o=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return a&&v(c,a),o._ctx=c,o},Oe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Oe.prototype.each=function(a){var o=this._ctx;return this._read(function(c){return Yr(o,a,c,o.table.core)})},Oe.prototype.count=function(a){var o=this;return this._read(function(c){var l=o._ctx,f=l.table.core;if(Gn(l,!0))return f.count({trans:c,query:{index:Kr(l,f.schema),range:l.range}}).then(function(p){return Math.min(p,l.limit)});var d=0;return Yr(l,function(){return++d,!1},c,f).then(function(){return d})}).then(a)},Oe.prototype.sortBy=function(a,o){var c=a.split(".").reverse(),l=c[0],f=c.length-1;function d(w,g){return g?d(w[c[g]],g-1):w[l]}var p=this._ctx.dir==="next"?1:-1;function m(w,g){return w=d(w,f),g=d(g,f),w<g?-p:g<w?p:0}return this.toArray(function(w){return w.sort(m)}).then(o)},Oe.prototype.toArray=function(a){var o=this;return this._read(function(c){var l=o._ctx;if(l.dir==="next"&&Gn(l,!0)&&0<l.limit){var f=l.valueMapper,d=Kr(l,l.table.core.schema);return l.table.core.query({trans:c,limit:l.limit,values:!0,query:{index:d,range:l.range}}).then(function(m){return m=m.result,f?m.map(f):m})}var p=[];return Yr(l,function(m){return p.push(m)},c,l.table.core).then(function(){return p})},a)},Oe.prototype.offset=function(a){var o=this._ctx;return a<=0||(o.offset+=a,Gn(o)?Ya(o,function(){var c=a;return function(l,f){return c===0||(c===1?--c:f(function(){l.advance(c),c=0}),!1)}}):Ya(o,function(){var c=a;return function(){return--c<0}})),this},Oe.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Ya(this._ctx,function(){var o=a;return function(c,l,f){return--o<=0&&l(f),0<=o}},!0),this},Oe.prototype.until=function(a,o){return Ka(this._ctx,function(c,l,f){return!a(c.value)||(l(f),o)}),this},Oe.prototype.first=function(a){return this.limit(1).toArray(function(o){return o[0]}).then(a)},Oe.prototype.last=function(a){return this.reverse().first(a)},Oe.prototype.filter=function(a){var o;return Ka(this._ctx,function(c){return a(c.value)}),(o=this._ctx).isMatch=En(o.isMatch,a),this},Oe.prototype.and=function(a){return this.filter(a)},Oe.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},Oe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Oe.prototype.desc=function(){return this.reverse()},Oe.prototype.eachKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,l){a(l.key,l)})},Oe.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},Oe.prototype.eachPrimaryKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,l){a(l.primaryKey,l)})},Oe.prototype.keys=function(a){var o=this._ctx;o.keysOnly=!o.isMatch;var c=[];return this.each(function(l,f){c.push(f.key)}).then(function(){return c}).then(a)},Oe.prototype.primaryKeys=function(a){var o=this._ctx;if(o.dir==="next"&&Gn(o,!0)&&0<o.limit)return this._read(function(l){var f=Kr(o,o.table.core.schema);return o.table.core.query({trans:l,values:!1,limit:o.limit,query:{index:f,range:o.range}})}).then(function(l){return l.result}).then(a);o.keysOnly=!o.isMatch;var c=[];return this.each(function(l,f){c.push(f.primaryKey)}).then(function(){return c}).then(a)},Oe.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},Oe.prototype.firstKey=function(a){return this.limit(1).keys(function(o){return o[0]}).then(a)},Oe.prototype.lastKey=function(a){return this.reverse().firstKey(a)},Oe.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var o={};return Ka(this._ctx,function(f){var l=f.primaryKey.toString(),f=D(o,l);return o[l]=!0,!f}),this},Oe.prototype.modify=function(a){var o=this,c=this._ctx;return this._write(function(l){var f,d,p;p=typeof a=="function"?a:(f=s(a),d=f.length,function(x){for(var k=!1,S=0;S<d;++S){var E=f[S],A=a[E],I=ee(x,E);A instanceof Ha?(ne(x,E,A.execute(I)),k=!0):I!==A&&(ne(x,E,A),k=!0)}return k});function m(x,E){var S=E.failures,E=E.numFailures;T+=x-E;for(var A=0,I=s(S);A<I.length;A++){var K=I[A];b.push(S[K])}}var w=c.table.core,g=w.schema.primaryKey,P=g.outbound,y=g.extractKey,O=o.db._options.modifyChunkSize||200,b=[],T=0,C=[];return o.clone().primaryKeys().then(function(x){function k(S){var E=Math.min(O,x.length-S);return w.getMany({trans:l,keys:x.slice(S,S+E),cache:"immutable"}).then(function(A){for(var I=[],K=[],R=P?[]:null,B=[],Y=0;Y<E;++Y){var H=A[Y],ie={value:Ae(H),primKey:x[S+Y]};p.call(ie,ie.value,ie)!==!1&&(ie.value==null?B.push(x[S+Y]):P||Se(y(H),y(ie.value))===0?(K.push(ie.value),P&&R.push(x[S+Y])):(B.push(x[S+Y]),I.push(ie.value)))}var fe=Gn(c)&&c.limit===1/0&&(typeof a!="function"||a===Wa)&&{index:c.index,range:c.range};return Promise.resolve(0<I.length&&w.mutate({trans:l,type:"add",values:I}).then(function(ve){for(var de in ve.failures)B.splice(parseInt(de),1);m(I.length,ve)})).then(function(){return(0<K.length||fe&&typeof a=="object")&&w.mutate({trans:l,type:"put",keys:R,values:K,criteria:fe,changeSpec:typeof a!="function"&&a}).then(function(ve){return m(K.length,ve)})}).then(function(){return(0<B.length||fe&&a===Wa)&&w.mutate({trans:l,type:"delete",keys:B,criteria:fe}).then(function(ve){return m(B.length,ve)})}).then(function(){return x.length>S+E&&k(S+O)})})}return k(0).then(function(){if(0<b.length)throw new ye("Error modifying one or more objects",b,T,C);return x.length})})})},Oe.prototype.delete=function(){var a=this._ctx,o=a.range;return Gn(a)&&(a.isPrimKey||o.type===3)?this._write(function(c){var l=a.table.core.schema.primaryKey,f=o;return a.table.core.count({trans:c,query:{index:l,range:f}}).then(function(d){return a.table.core.mutate({trans:c,type:"deleteRange",range:f}).then(function(p){var m=p.failures;if(p.lastResult,p.results,p=p.numFailures,p)throw new ye("Could not delete some values",Object.keys(m).map(function(w){return m[w]}),d-p);return d-p})})}):this.modify(Wa)},Oe);function Oe(){}var Wa=function(a,o){return o.value=null};function hc(a,o){return a<o?-1:a===o?0:1}function pc(a,o){return o<a?-1:a===o?0:1}function Et(a,o,c){return a=a instanceof Io?new a.Collection(a):a,a._ctx.error=new(c||TypeError)(o),a}function Qn(a){return new a.Collection(a,function(){return Mo("")}).limit(0)}function Hr(a,o,c,l){var f,d,p,m,w,g,P,y=c.length;if(!c.every(function(T){return typeof T=="string"}))return Et(a,To);function O(T){f=T==="next"?function(x){return x.toUpperCase()}:function(x){return x.toLowerCase()},d=T==="next"?function(x){return x.toLowerCase()}:function(x){return x.toUpperCase()},p=T==="next"?hc:pc;var C=c.map(function(x){return{lower:d(x),upper:f(x)}}).sort(function(x,k){return p(x.lower,k.lower)});m=C.map(function(x){return x.upper}),w=C.map(function(x){return x.lower}),P=(g=T)==="next"?"":l}O("next"),a=new a.Collection(a,function(){return bn(m[0],w[y-1]+l)}),a._ondirectionchange=function(T){O(T)};var b=0;return a._addAlgorithm(function(T,C,x){var k=T.key;if(typeof k!="string")return!1;var S=d(k);if(o(S,w,b))return!0;for(var E=null,A=b;A<y;++A){var I=function(K,R,B,Y,H,ie){for(var fe=Math.min(K.length,Y.length),ve=-1,de=0;de<fe;++de){var Ft=R[de];if(Ft!==Y[de])return H(K[de],B[de])<0?K.substr(0,de)+B[de]+B.substr(de+1):H(K[de],Y[de])<0?K.substr(0,de)+Y[de]+B.substr(de+1):0<=ve?K.substr(0,ve)+R[ve]+B.substr(ve+1):null;H(K[de],Ft)<0&&(ve=de)}return fe<Y.length&&ie==="next"?K+B.substr(K.length):fe<K.length&&ie==="prev"?K.substr(0,B.length):ve<0?null:K.substr(0,ve)+Y[ve]+B.substr(ve+1)}(k,S,m[A],w[A],p,g);I===null&&E===null?b=A+1:(E===null||0<p(E,I))&&(E=I)}return C(E!==null?function(){T.continue(E+P)}:x),!1}),a}function bn(a,o,c,l){return{type:2,lower:a,upper:o,lowerOpen:c,upperOpen:l}}function Mo(a){return{type:1,lower:a,upper:a}}var Io=(Object.defineProperty(ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ft.prototype.between=function(a,o,c,l){c=c!==!1,l=l===!0;try{return 0<this._cmp(a,o)||this._cmp(a,o)===0&&(c||l)&&(!c||!l)?Qn(this):new this.Collection(this,function(){return bn(a,o,!c,!l)})}catch{return Et(this,Zt)}},ft.prototype.equals=function(a){return a==null?Et(this,Zt):new this.Collection(this,function(){return Mo(a)})},ft.prototype.above=function(a){return a==null?Et(this,Zt):new this.Collection(this,function(){return bn(a,void 0,!0)})},ft.prototype.aboveOrEqual=function(a){return a==null?Et(this,Zt):new this.Collection(this,function(){return bn(a,void 0,!1)})},ft.prototype.below=function(a){return a==null?Et(this,Zt):new this.Collection(this,function(){return bn(void 0,a,!1,!0)})},ft.prototype.belowOrEqual=function(a){return a==null?Et(this,Zt):new this.Collection(this,function(){return bn(void 0,a)})},ft.prototype.startsWith=function(a){return typeof a!="string"?Et(this,To):this.between(a,a+Sn,!0,!0)},ft.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Hr(this,function(o,c){return o.indexOf(c[0])===0},[a],Sn)},ft.prototype.equalsIgnoreCase=function(a){return Hr(this,function(o,c){return o===c[0]},[a],"")},ft.prototype.anyOfIgnoreCase=function(){var a=Ge.apply(rt,arguments);return a.length===0?Qn(this):Hr(this,function(o,c){return c.indexOf(o)!==-1},a,"")},ft.prototype.startsWithAnyOfIgnoreCase=function(){var a=Ge.apply(rt,arguments);return a.length===0?Qn(this):Hr(this,function(o,c){return c.some(function(l){return o.indexOf(l)===0})},a,Sn)},ft.prototype.anyOf=function(){var a=this,o=Ge.apply(rt,arguments),c=this._cmp;try{o.sort(c)}catch{return Et(this,Zt)}if(o.length===0)return Qn(this);var l=new this.Collection(this,function(){return bn(o[0],o[o.length-1])});l._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,o.sort(c)};var f=0;return l._addAlgorithm(function(d,p,m){for(var w=d.key;0<c(w,o[f]);)if(++f===o.length)return p(m),!1;return c(w,o[f])===0||(p(function(){d.continue(o[f])}),!1)}),l},ft.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ft.prototype.noneOf=function(){var a=Ge.apply(rt,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Et(this,Zt)}var o=a.reduce(function(c,l){return c?c.concat([[c[c.length-1][1],l]]):[[-1/0,l]]},null);return o.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},ft.prototype.inAnyRange=function(k,o){var c=this,l=this._cmp,f=this._ascending,d=this._descending,p=this._min,m=this._max;if(k.length===0)return Qn(this);if(!k.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&f(S[0],S[1])<=0}))return Et(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);var w=!o||o.includeLowers!==!1,g=o&&o.includeUppers===!0,P,y=f;function O(S,E){return y(S[0],E[0])}try{(P=k.reduce(function(S,E){for(var A=0,I=S.length;A<I;++A){var K=S[A];if(l(E[0],K[1])<0&&0<l(E[1],K[0])){K[0]=p(K[0],E[0]),K[1]=m(K[1],E[1]);break}}return A===I&&S.push(E),S},[])).sort(O)}catch{return Et(this,Zt)}var b=0,T=g?function(S){return 0<f(S,P[b][1])}:function(S){return 0<=f(S,P[b][1])},C=w?function(S){return 0<d(S,P[b][0])}:function(S){return 0<=d(S,P[b][0])},x=T,k=new this.Collection(this,function(){return bn(P[0][0],P[P.length-1][1],!w,!g)});return k._ondirectionchange=function(S){y=S==="next"?(x=T,f):(x=C,d),P.sort(O)},k._addAlgorithm(function(S,E,A){for(var I,K=S.key;x(K);)if(++b===P.length)return E(A),!1;return!T(I=K)&&!C(I)||(c._cmp(K,P[b][1])===0||c._cmp(K,P[b][0])===0||E(function(){y===f?S.continue(P[b][0]):S.continue(P[b][1])}),!1)}),k},ft.prototype.startsWithAnyOf=function(){var a=Ge.apply(rt,arguments);return a.every(function(o){return typeof o=="string"})?a.length===0?Qn(this):this.inAnyRange(a.map(function(o){return[o,o+Sn]})):Et(this,"startsWithAnyOf() only works with strings")},ft);function ft(){}function $t(a){return $e(function(o){return cr(o),a(o.target.error),!1})}function cr(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var lr="storagemutated",$a="x-storagemutated-1",wn=sr(null,lr),vc=(Gt.prototype._lock=function(){return oe(!J.global),++this._reculock,this._reculock!==1||J.global||(J.lockOwnerFor=this),this},Gt.prototype._unlock=function(){if(oe(!J.global),--this._reculock==0)for(J.global||(J.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{kn(a[1],a[0])}catch{}}return this},Gt.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this},Gt.prototype.create=function(a){var o=this;if(!this.mode)return this;var c=this.db.idbdb,l=this.db._state.dbOpenError;if(oe(!this.idbtrans),!a&&!c)switch(l&&l.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(l);case"MissingAPIError":throw new Z.MissingAPI(l.message,l);default:throw new Z.OpenFailed(l)}if(!this.active)throw new Z.TransactionInactive;return oe(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$e(function(f){cr(f),o._reject(a.error)}),a.onabort=$e(function(f){cr(f),o.active&&o._reject(new Z.Abort(a.error)),o.active=!1,o.on("abort").fire(f)}),a.oncomplete=$e(function(){o.active=!1,o._resolve(),"mutatedParts"in a&&wn.storagemutated.fire(a.mutatedParts)}),this},Gt.prototype._promise=function(a,o,c){var l=this;if(a==="readwrite"&&this.mode!=="readwrite")return Ze(new Z.ReadOnly("Transaction is readonly"));if(!this.active)return Ze(new Z.TransactionInactive);if(this._locked())return new $(function(d,p){l._blockedFuncs.push([function(){l._promise(a,o,c).then(d,p)},J])});if(c)return mn(function(){var d=new $(function(p,m){l._lock();var w=o(p,m,l);w&&w.then&&w.then(p,m)});return d.finally(function(){return l._unlock()}),d._lib=!0,d});var f=new $(function(d,p){var m=o(d,p,l);m&&m.then&&m.then(d,p)});return f._lib=!0,f},Gt.prototype._root=function(){return this.parent?this.parent._root():this},Gt.prototype.waitFor=function(a){var o,c=this._root(),l=$.resolve(a);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return l}):(c._waitingFor=l,c._waitingQueue=[],o=c.idbtrans.objectStore(c.storeNames[0]),function d(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(o.get(-1/0).onsuccess=d)}());var f=c._waitingFor;return new $(function(d,p){l.then(function(m){return c._waitingQueue.push($e(d.bind(null,m)))},function(m){return c._waitingQueue.push($e(p.bind(null,m)))}).finally(function(){c._waitingFor===f&&(c._waitingFor=null)})})},Gt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Z.Abort))},Gt.prototype.table=function(a){var o=this._memoizedTables||(this._memoizedTables={});if(D(o,a))return o[a];var c=this.schema[a];if(!c)throw new Z.NotFound("Table "+a+" not part of transaction");return c=new this.db.Table(a,c,this),c.core=this.db.core.table(a),o[a]=c},Gt);function Gt(){}function Ga(a,o,c,l,f,d,p){return{name:a,keyPath:o,unique:c,multi:l,auto:f,compound:d,src:(c&&!p?"&":"")+(l?"*":"")+(f?"++":"")+jo(o)}}function jo(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Qa(a,o,c){return{name:a,primKey:o,indexes:c,mappedClass:null,idxByName:(l=function(f){return[f.name,f]},c.reduce(function(f,d,p){return p=l(d,p),p&&(f[p[0]]=p[1]),f},{}))};var l}var fr=function(a){try{return a.only([[]]),fr=function(){return[[]]},[[]]}catch{return fr=function(){return Sn},Sn}};function za(a){return a==null?function(){}:typeof a=="string"?(o=a).split(".").length===1?function(c){return c[o]}:function(c){return ee(c,o)}:function(c){return ee(c,a)};var o}function Uo(a){return[].slice.call(a)}var mc=0;function dr(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function yc(a,o,w){function l(x){if(x.type===3)return null;if(x.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var b=x.lower,T=x.upper,C=x.lowerOpen,x=x.upperOpen;return b===void 0?T===void 0?null:o.upperBound(T,!!x):T===void 0?o.lowerBound(b,!!C):o.bound(b,T,!!C,!!x)}function f(O){var b,T=O.name;return{name:T,schema:O,mutate:function(C){var x=C.trans,k=C.type,S=C.keys,E=C.values,A=C.range;return new Promise(function(I,K){I=$e(I);var R=x.objectStore(T),B=R.keyPath==null,Y=k==="put"||k==="add";if(!Y&&k!=="delete"&&k!=="deleteRange")throw new Error("Invalid operation type: "+k);var H,ie=(S||E||{length:1}).length;if(S&&E&&S.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(ie===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(Pt){++Ft,cr(Pt)}var ve=[],de=[],Ft=0;if(k==="deleteRange"){if(A.type===4)return I({numFailures:Ft,failures:de,results:[],lastResult:void 0});A.type===3?ve.push(H=R.clear()):ve.push(H=R.delete(l(A)))}else{var B=Y?B?[E,S]:[E,null]:[S,null],he=B[0],bt=B[1];if(Y)for(var wt=0;wt<ie;++wt)ve.push(H=bt&&bt[wt]!==void 0?R[k](he[wt],bt[wt]):R[k](he[wt])),H.onerror=fe;else for(wt=0;wt<ie;++wt)ve.push(H=R[k](he[wt])),H.onerror=fe}function ra(Pt){Pt=Pt.target.result,ve.forEach(function(Mn,pi){return Mn.error!=null&&(de[pi]=Mn.error)}),I({numFailures:Ft,failures:de,results:k==="delete"?S:ve.map(function(Mn){return Mn.result}),lastResult:Pt})}H.onerror=function(Pt){fe(Pt),ra(Pt)},H.onsuccess=ra})},getMany:function(C){var x=C.trans,k=C.keys;return new Promise(function(S,E){S=$e(S);for(var A,I=x.objectStore(T),K=k.length,R=new Array(K),B=0,Y=0,H=function(ve){ve=ve.target,R[ve._pos]=ve.result,++Y===B&&S(R)},ie=$t(E),fe=0;fe<K;++fe)k[fe]!=null&&((A=I.get(k[fe]))._pos=fe,A.onsuccess=H,A.onerror=ie,++B);B===0&&S(R)})},get:function(C){var x=C.trans,k=C.key;return new Promise(function(S,E){S=$e(S);var A=x.objectStore(T).get(k);A.onsuccess=function(I){return S(I.target.result)},A.onerror=$t(E)})},query:(b=g,function(C){return new Promise(function(x,k){x=$e(x);var S,E,A,B=C.trans,I=C.values,K=C.limit,H=C.query,R=K===1/0?void 0:K,Y=H.index,H=H.range,B=B.objectStore(T),Y=Y.isPrimaryKey?B:B.index(Y.name),H=l(H);if(K===0)return x({result:[]});b?((R=I?Y.getAll(H,R):Y.getAllKeys(H,R)).onsuccess=function(ie){return x({result:ie.target.result})},R.onerror=$t(k)):(S=0,E=!I&&"openKeyCursor"in Y?Y.openKeyCursor(H):Y.openCursor(H),A=[],E.onsuccess=function(ie){var fe=E.result;return fe?(A.push(I?fe.value:fe.primaryKey),++S===K?x({result:A}):void fe.continue()):x({result:A})},E.onerror=$t(k))})}),openCursor:function(C){var x=C.trans,k=C.values,S=C.query,E=C.reverse,A=C.unique;return new Promise(function(I,K){I=$e(I);var Y=S.index,R=S.range,B=x.objectStore(T),B=Y.isPrimaryKey?B:B.index(Y.name),Y=E?A?"prevunique":"prev":A?"nextunique":"next",H=!k&&"openKeyCursor"in B?B.openKeyCursor(l(R),Y):B.openCursor(l(R),Y);H.onerror=$t(K),H.onsuccess=$e(function(ie){var fe,ve,de,Ft,he=H.result;he?(he.___id=++mc,he.done=!1,fe=he.continue.bind(he),ve=(ve=he.continuePrimaryKey)&&ve.bind(he),de=he.advance.bind(he),Ft=function(){throw new Error("Cursor not stopped")},he.trans=x,he.stop=he.continue=he.continuePrimaryKey=he.advance=function(){throw new Error("Cursor not started")},he.fail=$e(K),he.next=function(){var bt=this,wt=1;return this.start(function(){return wt--?bt.continue():bt.stop()}).then(function(){return bt})},he.start=function(bt){function wt(){if(H.result)try{bt()}catch(Pt){he.fail(Pt)}else he.done=!0,he.start=function(){throw new Error("Cursor behind last entry")},he.stop()}var ra=new Promise(function(Pt,Mn){Pt=$e(Pt),H.onerror=$t(Mn),he.fail=Mn,he.stop=function(pi){he.stop=he.continue=he.continuePrimaryKey=he.advance=Ft,Pt(pi)}});return H.onsuccess=$e(function(Pt){H.onsuccess=wt,wt()}),he.continue=fe,he.continuePrimaryKey=ve,he.advance=de,wt(),ra},I(he)):I(null)},K)})},count:function(C){var x=C.query,k=C.trans,S=x.index,E=x.range;return new Promise(function(A,I){var K=k.objectStore(T),R=S.isPrimaryKey?K:K.index(S.name),K=l(E),R=K?R.count(K):R.count();R.onsuccess=$e(function(B){return A(B.target.result)}),R.onerror=$t(I)})}}}var d,p,m,P=(p=w,m=Uo((d=a).objectStoreNames),{schema:{name:d.name,tables:m.map(function(O){return p.objectStore(O)}).map(function(O){var b=O.keyPath,x=O.autoIncrement,T=h(b),C={},x={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b==null,compound:T,keyPath:b,autoIncrement:x,unique:!0,extractKey:za(b)},indexes:Uo(O.indexNames).map(function(k){return O.index(k)}).map(function(A){var S=A.name,E=A.unique,I=A.multiEntry,A=A.keyPath,I={name:S,compound:h(A),keyPath:A,unique:E,multiEntry:I,extractKey:za(A)};return C[dr(A)]=I}),getIndexByKeyPath:function(k){return C[dr(k)]}};return C[":id"]=x.primaryKey,b!=null&&(C[dr(b)]=x.primaryKey),x})},hasGetAll:0<m.length&&"getAll"in p.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=P.schema,g=P.hasGetAll,P=w.tables.map(f),y={};return P.forEach(function(O){return y[O.name]=O}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(O){if(!y[O])throw new Error("Table '".concat(O,"' not found"));return y[O]},MIN_KEY:-1/0,MAX_KEY:fr(o),schema:w}}function gc(a,o,c,l){var f=c.IDBKeyRange;return c.indexedDB,{dbcore:(l=yc(o,f,l),a.dbcore.reduce(function(d,p){return p=p.create,r(r({},d),p(d))},l))}}function Wr(a,l){var c=l.db,l=gc(a._middlewares,c,a._deps,l);a.core=l.dbcore,a.tables.forEach(function(f){var d=f.name;a.core.schema.tables.some(function(p){return p.name===d})&&(f.core=a.core.table(d),a[d]instanceof a.Table&&(a[d].core=f.core))})}function $r(a,o,c,l){c.forEach(function(f){var d=l[f];o.forEach(function(p){var m=function w(g,P){return X(g,P)||(g=_(g))&&w(g,P)}(p,f);(!m||"value"in m&&m.value===void 0)&&(p===a.Transaction.prototype||p instanceof a.Transaction?W(p,f,{get:function(){return this.table(f)},set:function(w){q(this,f,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):p[f]=new a.Table(f,d))})})}function Va(a,o){o.forEach(function(c){for(var l in c)c[l]instanceof a.Table&&delete c[l]})}function bc(a,o){return a._cfg.version-o._cfg.version}function wc(a,o,c,l){var f=a._dbSchema;c.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=Qa("$meta",qo("")[0],[]),a._storeNames.push("$meta"));var d=a._createTransaction("readwrite",a._storeNames,f);d.create(c),d._completion.catch(l);var p=d._reject.bind(d),m=J.transless||J;mn(function(){return J.trans=d,J.transless=m,o!==0?(Wr(a,c),g=o,((w=d).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(P){return P??g}):$.resolve(g)).then(function(P){return O=P,b=d,T=c,C=[],P=(y=a)._versions,x=y._dbSchema=Qr(0,y.idbdb,T),(P=P.filter(function(k){return k._cfg.version>=O})).length!==0?(P.forEach(function(k){C.push(function(){var S=x,E=k._cfg.dbschema;zr(y,S,T),zr(y,E,T),x=y._dbSchema=E;var A=Xa(S,E);A.add.forEach(function(Y){Ja(T,Y[0],Y[1].primKey,Y[1].indexes)}),A.change.forEach(function(Y){if(Y.recreate)throw new Z.Upgrade("Not yet support for changing primary key");var H=T.objectStore(Y.name);Y.add.forEach(function(ie){return Gr(H,ie)}),Y.change.forEach(function(ie){H.deleteIndex(ie.name),Gr(H,ie)}),Y.del.forEach(function(ie){return H.deleteIndex(ie)})});var I=k._cfg.contentUpgrade;if(I&&k._cfg.version>O){Wr(y,T),b._memoizedTables={};var K=ue(E);A.del.forEach(function(Y){K[Y]=S[Y]}),Va(y,[y.Transaction.prototype]),$r(y,[y.Transaction.prototype],s(K),K),b.schema=K;var R,B=at(I);return B&&Wn(),A=$.follow(function(){var Y;(R=I(b))&&B&&(Y=yn.bind(null,null),R.then(Y,Y))}),R&&typeof R.then=="function"?$.resolve(R):A.then(function(){return R})}}),C.push(function(S){var E,A,I=k._cfg.dbschema;E=I,A=S,[].slice.call(A.db.objectStoreNames).forEach(function(K){return E[K]==null&&A.db.deleteObjectStore(K)}),Va(y,[y.Transaction.prototype]),$r(y,[y.Transaction.prototype],y._storeNames,y._dbSchema),b.schema=y._dbSchema}),C.push(function(S){y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(y.idbdb.version/10)===k._cfg.version?(y.idbdb.deleteObjectStore("$meta"),delete y._dbSchema.$meta,y._storeNames=y._storeNames.filter(function(E){return E!=="$meta"})):S.objectStore("$meta").put(k._cfg.version,"version"))})}),function k(){return C.length?$.resolve(C.shift()(b.idbtrans)).then(k):$.resolve()}().then(function(){Ro(x,T)})):$.resolve();var y,O,b,T,C,x}).catch(p)):(s(f).forEach(function(P){Ja(c,P,f[P].primKey,f[P].indexes)}),Wr(a,c),void $.follow(function(){return a.on.populate.fire(d)}).catch(p));var w,g})}function _c(a,o){Ro(a._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var c=Qr(0,a.idbdb,o);zr(a,a._dbSchema,o);for(var l=0,f=Xa(c,a._dbSchema).change;l<f.length;l++){var d=function(p){if(p.change.length||p.recreate)return console.warn("Unable to patch indexes of table ".concat(p.name," because it has changes on the type of index or primary key.")),{value:void 0};var m=o.objectStore(p.name);p.add.forEach(function(w){xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(p.name,".").concat(w.src)),Gr(m,w)})}(f[l]);if(typeof d=="object")return d.value}}function Xa(a,o){var c,l={del:[],add:[],change:[]};for(c in a)o[c]||l.del.push(c);for(c in o){var f=a[c],d=o[c];if(f){var p={name:c,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||f.primKey.auto!==d.primKey.auto)p.recreate=!0,l.change.push(p);else{var m=f.idxByName,w=d.idxByName,g=void 0;for(g in m)w[g]||p.del.push(g);for(g in w){var P=m[g],y=w[g];P?P.src!==y.src&&p.change.push(y):p.add.push(y)}(0<p.del.length||0<p.add.length||0<p.change.length)&&l.change.push(p)}}else l.add.push([c,d])}return l}function Ja(a,o,c,l){var f=a.db.createObjectStore(o,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return l.forEach(function(d){return Gr(f,d)}),f}function Ro(a,o){s(a).forEach(function(c){o.db.objectStoreNames.contains(c)||(xt&&console.debug("Dexie: Creating missing table",c),Ja(o,c,a[c].primKey,a[c].indexes))})}function Gr(a,o){a.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Qr(a,o,c){var l={};return L(o.objectStoreNames,0).forEach(function(f){for(var d=c.objectStore(f),p=Ga(jo(g=d.keyPath),g||"",!0,!1,!!d.autoIncrement,g&&typeof g!="string",!0),m=[],w=0;w<d.indexNames.length;++w){var P=d.index(d.indexNames[w]),g=P.keyPath,P=Ga(P.name,g,!!P.unique,!!P.multiEntry,!1,g&&typeof g!="string",!1);m.push(P)}l[f]=Qa(f,p,m)}),l}function zr(a,o,c){for(var l=c.db.objectStoreNames,f=0;f<l.length;++f){var d=l[f],p=c.objectStore(d);a._hasGetAll="getAll"in p;for(var m=0;m<p.indexNames.length;++m){var w=p.indexNames[m],g=p.index(w).keyPath,P=typeof g=="string"?g:"["+L(g).join("+")+"]";!o[d]||(g=o[d].idxByName[P])&&(g.name=w,delete o[d].idxByName[P],o[d].idxByName[w]=g)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function qo(a){return a.split(",").map(function(o,c){var l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Ga(l,f||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),h(f),c===0)})}var xc=(Vr.prototype._parseStoresSpec=function(a,o){s(a).forEach(function(c){if(a[c]!==null){var l=qo(a[c]),f=l.shift();if(f.unique=!0,f.multi)throw new Z.Schema("Primary key cannot be multi-valued");l.forEach(function(d){if(d.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string")}),o[c]=Qa(c,f,l)}})},Vr.prototype.stores=function(c){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,c):c;var c=o._versions,l={},f={};return c.forEach(function(d){v(l,d._cfg.storesSource),f=d._cfg.dbschema={},d._parseStoresSpec(l,f)}),o._dbSchema=f,Va(o,[o._allTables,o,o.Transaction.prototype]),$r(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],s(f),f),o._storeNames=s(f),this},Vr.prototype.upgrade=function(a){return this._cfg.contentUpgrade=pn(this._cfg.contentUpgrade||me,a),this},Vr);function Vr(){}function Za(a,o){var c=a._dbNamesDB;return c||(c=a._dbNamesDB=new tn(Lr,{addons:[],indexedDB:a,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function ei(a){return a&&typeof a.databases=="function"}function ti(a){return mn(function(){return J.letThrough=!0,a()})}function ni(a){return!("from"in a)}var gt=function(a,o){if(!this){var c=new gt;return a&&"d"in a&&v(c,a),c}v(this,arguments.length?{d:1,from:a,to:1<arguments.length?o:a}:{d:0})};function hr(a,o,c){var l=Se(o,c);if(!isNaN(l)){if(0<l)throw RangeError();if(ni(a))return v(a,{from:o,to:c,d:1});var f=a.l,l=a.r;if(Se(c,a.from)<0)return f?hr(f,o,c):a.l={from:o,to:c,d:1,l:null,r:null},No(a);if(0<Se(o,a.to))return l?hr(l,o,c):a.r={from:o,to:c,d:1,l:null,r:null},No(a);Se(o,a.from)<0&&(a.from=o,a.l=null,a.d=l?l.d+1:1),0<Se(c,a.to)&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1),c=!a.r,f&&!a.l&&pr(a,f),l&&c&&pr(a,l)}}function pr(a,o){ni(o)||function c(l,w){var d=w.from,p=w.to,m=w.l,w=w.r;hr(l,d,p),m&&c(l,m),w&&c(l,w)}(a,o)}function Xr(a,o){var c=ri(o),l=c.next();if(l.done)return!1;for(var f=l.value,d=ri(a),p=d.next(f.from),m=p.value;!l.done&&!p.done;){if(Se(m.from,f.to)<=0&&0<=Se(m.to,f.from))return!0;Se(f.from,m.from)<0?f=(l=c.next(m.from)).value:m=(p=d.next(f.from)).value}return!1}function ri(a){var o=ni(a)?null:{s:0,n:a};return{next:function(c){for(var l=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,l)for(;o.n.l&&Se(c,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!l||Se(c,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function No(a){var o,c,l=(((o=a.r)===null||o===void 0?void 0:o.d)||0)-(((c=a.l)===null||c===void 0?void 0:c.d)||0),f=1<l?"r":l<-1?"l":"";f&&(o=f=="r"?"l":"r",c=r({},a),l=a[f],a.from=l.from,a.to=l.to,a[f]=l[f],c[f]=l[o],(a[o]=c).d=Bo(c)),a.d=Bo(a)}function Bo(c){var o=c.r,c=c.l;return(o?c?Math.max(o.d,c.d):o.d:c?c.d:0)+1}function Jr(a,o){return s(o).forEach(function(c){a[c]?pr(a[c],o[c]):a[c]=function l(f){var d,p,m={};for(d in f)D(f,d)&&(p=f[d],m[d]=!p||typeof p!="object"||te.has(p.constructor)?p:l(p));return m}(o[c])}),a}function ai(a,o){return a.all||o.all||Object.keys(a).some(function(c){return o[c]&&Xr(o[c],a[c])})}j(gt.prototype,((Mt={add:function(a){return pr(this,a),this},addKey:function(a){return hr(this,a,a),this},addKeys:function(a){var o=this;return a.forEach(function(c){return hr(o,c,c)}),this}})[mt]=function(){return ri(this)},Mt));var Dn={},ii={},oi=!1;function Zr(a){Jr(ii,a),oi||(oi=!0,setTimeout(function(){oi=!1,si(ii,!(ii={}))},0))}function si(a,o){o===void 0&&(o=!1);var c=new Set;if(a.all)for(var l=0,f=Object.values(Dn);l<f.length;l++)Lo(p=f[l],a,c,o);else for(var d in a){var p,m=/^idb\:\/\/(.*)\/(.*)\//.exec(d);m&&(d=m[1],m=m[2],(p=Dn["idb://".concat(d,"/").concat(m)])&&Lo(p,a,c,o))}c.forEach(function(w){return w()})}function Lo(a,o,c,l){for(var f=[],d=0,p=Object.entries(a.queries.query);d<p.length;d++){for(var m=p[d],w=m[0],g=[],P=0,y=m[1];P<y.length;P++){var O=y[P];ai(o,O.obsSet)?O.subscribers.forEach(function(x){return c.add(x)}):l&&g.push(O)}l&&f.push([w,g])}if(l)for(var b=0,T=f;b<T.length;b++){var C=T[b],w=C[0],g=C[1];a.queries.query[w]=g}}function Tc(a){var o=a._state,c=a._deps.indexedDB;if(o.isBeingOpened||a.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?Ze(o.dbOpenError):a});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var l=o.openCanceller,f=Math.round(10*a.verno),d=!1;function p(){if(o.openCanceller!==l)throw new Z.DatabaseClosed("db.open() was cancelled")}function m(){return new $(function(O,b){if(p(),!c)throw new Z.MissingAPI;var T=a.name,C=o.autoSchema||!f?c.open(T):c.open(T,f);if(!C)throw new Z.MissingAPI;C.onerror=$t(b),C.onblocked=$e(a._fireOnBlocked),C.onupgradeneeded=$e(function(x){var k;P=C.transaction,o.autoSchema&&!a._options.allowEmptyDB?(C.onerror=cr,P.abort(),C.result.close(),(k=c.deleteDatabase(T)).onsuccess=k.onerror=$e(function(){b(new Z.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(P.onerror=$t(b),x=x.oldVersion>Math.pow(2,62)?0:x.oldVersion,y=x<1,a.idbdb=C.result,d&&_c(a,P),wc(a,x/10,P,b))},b),C.onsuccess=$e(function(){P=null;var x,k,S,E,A,I=a.idbdb=C.result,K=L(I.objectStoreNames);if(0<K.length)try{var R=I.transaction((E=K).length===1?E[0]:E,"readonly");if(o.autoSchema)k=I,S=R,(x=a).verno=k.version/10,S=x._dbSchema=Qr(0,k,S),x._storeNames=L(k.objectStoreNames,0),$r(x,[x._allTables],s(S),S);else if(zr(a,a._dbSchema,R),((A=Xa(Qr(0,(A=a).idbdb,R),A._dbSchema)).add.length||A.change.some(function(B){return B.add.length||B.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),I.close(),f=I.version+1,d=!0,O(m());Wr(a,R)}catch{}$n.push(a),I.onversionchange=$e(function(B){o.vcFired=!0,a.on("versionchange").fire(B)}),I.onclose=$e(function(B){a.on("close").fire(B)}),y&&(A=a._deps,R=T,I=A.indexedDB,A=A.IDBKeyRange,ei(I)||R===Lr||Za(I,A).put({name:R}).catch(me)),O()},b)}).catch(function(O){switch(O==null?void 0:O.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m();break;case"VersionError":if(0<f)return f=0,m()}return $.reject(O)})}var w,g=o.dbReadyResolve,P=null,y=!1;return $.race([l,(typeof navigator>"u"?$.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(O){function b(){return indexedDB.databases().finally(O)}w=setInterval(b,100),b()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(m)]).then(function(){return p(),o.onReadyBeingFired=[],$.resolve(ti(function(){return a.on.ready.fire(a.vip)})).then(function O(){if(0<o.onReadyBeingFired.length){var b=o.onReadyBeingFired.reduce(pn,me);return o.onReadyBeingFired=[],$.resolve(ti(function(){return b(a.vip)})).then(O)}})}).finally(function(){o.openCanceller===l&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(O){o.dbOpenError=O;try{P&&P.abort()}catch{}return l===o.openCanceller&&a._close(),Ze(O)}).finally(function(){o.openComplete=!0,g()}).then(function(){var O;return y&&(O={},a.tables.forEach(function(b){b.schema.indexes.forEach(function(T){T.name&&(O["idb://".concat(a.name,"/").concat(b.name,"/").concat(T.name)]=new gt(-1/0,[[[]]]))}),O["idb://".concat(a.name,"/").concat(b.name,"/")]=O["idb://".concat(a.name,"/").concat(b.name,"/:dels")]=new gt(-1/0,[[[]]])}),wn(lr).fire(O),si(O,!0)),a})}function ui(a){function o(d){return a.next(d)}var c=f(o),l=f(function(d){return a.throw(d)});function f(d){return function(w){var m=d(w),w=m.value;return m.done?w:w&&typeof w.then=="function"?w.then(c,l):h(w)?Promise.all(w).then(c,l):c(w)}}return f(o)()}function ea(a,o,c){for(var l=h(a)?a.slice():[a],f=0;f<c;++f)l.push(o);return l}var Pc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(o){var c=a.table(o),l=c.schema,f={},d=[];function p(y,O,b){var T=dr(y),C=f[T]=f[T]||[],x=y==null?0:typeof y=="string"?1:y.length,k=0<O,k=r(r({},b),{name:k?"".concat(T,"(virtual-from:").concat(b.name,")"):b.name,lowLevelIndex:b,isVirtual:k,keyTail:O,keyLength:x,extractKey:za(y),unique:!k&&b.unique});return C.push(k),k.isPrimaryKey||d.push(k),1<x&&p(x===2?y[0]:y.slice(0,x-1),O+1,b),C.sort(function(S,E){return S.keyTail-E.keyTail}),k}o=p(l.primaryKey.keyPath,0,l.primaryKey),f[":id"]=[o];for(var m=0,w=l.indexes;m<w.length;m++){var g=w[m];p(g.keyPath,0,g)}function P(y){var O,b=y.query.index;return b.isVirtual?r(r({},y),{query:{index:b.lowLevelIndex,range:(O=y.query.range,b=b.keyTail,{type:O.type===1?2:O.type,lower:ea(O.lower,O.lowerOpen?a.MAX_KEY:a.MIN_KEY,b),lowerOpen:!0,upper:ea(O.upper,O.upperOpen?a.MIN_KEY:a.MAX_KEY,b),upperOpen:!0})}}):y}return r(r({},c),{schema:r(r({},l),{primaryKey:o,indexes:d,getIndexByKeyPath:function(y){return(y=f[dr(y)])&&y[0]}}),count:function(y){return c.count(P(y))},query:function(y){return c.query(P(y))},openCursor:function(y){var O=y.query.index,b=O.keyTail,T=O.isVirtual,C=O.keyLength;return T?c.openCursor(P(y)).then(function(k){return k&&x(k)}):c.openCursor(y);function x(k){return Object.create(k,{continue:{value:function(S){S!=null?k.continue(ea(S,y.reverse?a.MAX_KEY:a.MIN_KEY,b)):y.unique?k.continue(k.key.slice(0,C).concat(y.reverse?a.MIN_KEY:a.MAX_KEY,b)):k.continue()}},continuePrimaryKey:{value:function(S,E){k.continuePrimaryKey(ea(S,a.MAX_KEY,b),E)}},primaryKey:{get:function(){return k.primaryKey}},key:{get:function(){var S=k.key;return C===1?S[0]:S.slice(0,C)}},value:{get:function(){return k.value}}})}}})}})}};function ci(a,o,c,l){return c=c||{},l=l||"",s(a).forEach(function(f){var d,p,m;D(o,f)?(d=a[f],p=o[f],typeof d=="object"&&typeof p=="object"&&d&&p?(m=ce(d))!==ce(p)?c[l+f]=o[f]:m==="Object"?ci(d,p,c,l+f+"."):d!==p&&(c[l+f]=o[f]):d!==p&&(c[l+f]=o[f])):c[l+f]=void 0}),s(o).forEach(function(f){D(a,f)||(c[l+f]=o[f])}),c}function li(a,o){return o.type==="delete"?o.keys:o.keys||o.values.map(a.extractKey)}var Oc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(o){var c=a.table(o),l=c.schema.primaryKey;return r(r({},c),{mutate:function(f){var d=J.trans,p=d.table(o).hook,m=p.deleting,w=p.creating,g=p.updating;switch(f.type){case"add":if(w.fire===me)break;return d._promise("readwrite",function(){return P(f)},!0);case"put":if(w.fire===me&&g.fire===me)break;return d._promise("readwrite",function(){return P(f)},!0);case"delete":if(m.fire===me)break;return d._promise("readwrite",function(){return P(f)},!0);case"deleteRange":if(m.fire===me)break;return d._promise("readwrite",function(){return function y(O,b,T){return c.query({trans:O,values:!1,query:{index:l,range:b},limit:T}).then(function(C){var x=C.result;return P({type:"delete",keys:x,trans:O}).then(function(k){return 0<k.numFailures?Promise.reject(k.failures[0]):x.length<T?{failures:[],numFailures:0,lastResult:void 0}:y(O,r(r({},b),{lower:x[x.length-1],lowerOpen:!0}),T)})})}(f.trans,f.range,1e4)},!0)}return c.mutate(f);function P(y){var O,b,T,C=J.trans,x=y.keys||li(l,y);if(!x)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?r(r({},y),{keys:x}):r({},y)).type!=="delete"&&(y.values=i([],y.values)),y.keys&&(y.keys=i([],y.keys)),O=c,T=x,((b=y).type==="add"?Promise.resolve([]):O.getMany({trans:b.trans,keys:T,cache:"immutable"})).then(function(k){var S=x.map(function(E,A){var I,K,R,B=k[A],Y={onerror:null,onsuccess:null};return y.type==="delete"?m.fire.call(Y,E,B,C):y.type==="add"||B===void 0?(I=w.fire.call(Y,E,y.values[A],C),E==null&&I!=null&&(y.keys[A]=E=I,l.outbound||ne(y.values[A],l.keyPath,E))):(I=ci(B,y.values[A]),(K=g.fire.call(Y,I,E,B,C))&&(R=y.values[A],Object.keys(K).forEach(function(H){D(R,H)?R[H]=K[H]:ne(R,H,K[H])}))),Y});return c.mutate(y).then(function(E){for(var A=E.failures,I=E.results,K=E.numFailures,E=E.lastResult,R=0;R<x.length;++R){var B=(I||x)[R],Y=S[R];B==null?Y.onerror&&Y.onerror(A[R]):Y.onsuccess&&Y.onsuccess(y.type==="put"&&k[R]?y.values[R]:B)}return{failures:A,results:I,numFailures:K,lastResult:E}}).catch(function(E){return S.forEach(function(A){return A.onerror&&A.onerror(E)}),Promise.reject(E)})})}}})}})}};function Fo(a,o,c){try{if(!o||o.keys.length<a.length)return null;for(var l=[],f=0,d=0;f<o.keys.length&&d<a.length;++f)Se(o.keys[f],a[d])===0&&(l.push(c?Ae(o.values[f]):o.values[f]),++d);return l.length===a.length?l:null}catch{return null}}var Cc={stack:"dbcore",level:-1,create:function(a){return{table:function(o){var c=a.table(o);return r(r({},c),{getMany:function(l){if(!l.cache)return c.getMany(l);var f=Fo(l.keys,l.trans._cache,l.cache==="clone");return f?$.resolve(f):c.getMany(l).then(function(d){return l.trans._cache={keys:l.keys,values:l.cache==="clone"?Ae(d):d},d})},mutate:function(l){return l.type!=="add"&&(l.trans._cache=null),c.mutate(l)}})}}}};function Ko(a,o){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Yo(a,o){switch(a){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var kc={stack:"dbcore",level:0,name:"Observability",create:function(a){var o=a.schema.name,c=new gt(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(l,f,d){if(J.subscr&&f!=="readonly")throw new Z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(J.querier));return a.transaction(l,f,d)},table:function(l){var f=a.table(l),d=f.schema,p=d.primaryKey,y=d.indexes,m=p.extractKey,w=p.outbound,g=p.autoIncrement&&y.filter(function(b){return b.compound&&b.keyPath.includes(p.keyPath)}),P=r(r({},f),{mutate:function(b){function T(H){return H="idb://".concat(o,"/").concat(l,"/").concat(H),E[H]||(E[H]=new gt)}var C,x,k,S=b.trans,E=b.mutatedParts||(b.mutatedParts={}),A=T(""),I=T(":dels"),K=b.type,Y=b.type==="deleteRange"?[b.range]:b.type==="delete"?[b.keys]:b.values.length<50?[li(p,b).filter(function(H){return H}),b.values]:[],R=Y[0],B=Y[1],Y=b.trans._cache;return h(R)?(A.addKeys(R),(Y=K==="delete"||R.length===B.length?Fo(R,Y):null)||I.addKeys(R),(Y||B)&&(C=T,x=Y,k=B,d.indexes.forEach(function(H){var ie=C(H.name||"");function fe(de){return de!=null?H.extractKey(de):null}function ve(de){return H.multiEntry&&h(de)?de.forEach(function(Ft){return ie.addKey(Ft)}):ie.addKey(de)}(x||k).forEach(function(de,bt){var he=x&&fe(x[bt]),bt=k&&fe(k[bt]);Se(he,bt)!==0&&(he!=null&&ve(he),bt!=null&&ve(bt))})}))):R?(B={from:R.lower,to:R.upper},I.add(B),A.add(B)):(A.add(c),I.add(c),d.indexes.forEach(function(H){return T(H.name).add(c)})),f.mutate(b).then(function(H){return!R||b.type!=="add"&&b.type!=="put"||(A.addKeys(H.results),g&&g.forEach(function(ie){var fe=b.values.map(function(de){return ie.extractKey(de)}),ve=ie.keyPath.findIndex(function(de){return de===p.keyPath});H.results.forEach(function(de){return fe[ve]=de}),T(ie.name).addKeys(fe)})),S.mutatedParts=Jr(S.mutatedParts||{},E),H})}}),y=function(T){var C=T.query,T=C.index,C=C.range;return[T,new gt((T=C.lower)!==null&&T!==void 0?T:a.MIN_KEY,(C=C.upper)!==null&&C!==void 0?C:a.MAX_KEY)]},O={get:function(b){return[p,new gt(b.key)]},getMany:function(b){return[p,new gt().addKeys(b.keys)]},count:y,query:y,openCursor:y};return s(O).forEach(function(b){P[b]=function(T){var C=J.subscr,x=!!C,k=Ko(J,f)&&Yo(b,T)?T.obsSet={}:C;if(x){var S=function(B){return B="idb://".concat(o,"/").concat(l,"/").concat(B),k[B]||(k[B]=new gt)},E=S(""),A=S(":dels"),C=O[b](T),x=C[0],C=C[1];if((b==="query"&&x.isPrimaryKey&&!T.values?A:S(x.name||"")).add(C),!x.isPrimaryKey){if(b!=="count"){var I=b==="query"&&w&&T.values&&f.query(r(r({},T),{values:!1}));return f[b].apply(this,arguments).then(function(B){if(b==="query"){if(w&&T.values)return I.then(function(fe){return fe=fe.result,E.addKeys(fe),B});var Y=T.values?B.result.map(m):B.result;(T.values?E:A).addKeys(Y)}else if(b==="openCursor"){var H=B,ie=T.values;return H&&Object.create(H,{key:{get:function(){return A.addKey(H.primaryKey),H.key}},primaryKey:{get:function(){var fe=H.primaryKey;return A.addKey(fe),fe}},value:{get:function(){return ie&&E.addKey(H.primaryKey),H.value}}})}return B})}A.add(c)}}return f[b].apply(this,arguments)}}),P}})}};function Ho(a,o,c){if(c.numFailures===0)return o;if(o.type==="deleteRange")return null;var l=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return c.numFailures===l?null:(o=r({},o),h(o.keys)&&(o.keys=o.keys.filter(function(f,d){return!(d in c.failures)})),"values"in o&&h(o.values)&&(o.values=o.values.filter(function(f,d){return!(d in c.failures)})),o)}function fi(a,o){return c=a,((l=o).lower===void 0||(l.lowerOpen?0<Se(c,l.lower):0<=Se(c,l.lower)))&&(a=a,(o=o).upper===void 0||(o.upperOpen?Se(a,o.upper)<0:Se(a,o.upper)<=0));var c,l}function Wo(a,o,O,l,f,d){if(!O||O.length===0)return a;var p=o.query.index,m=p.multiEntry,w=o.query.range,g=l.schema.primaryKey.extractKey,P=p.extractKey,y=(p.lowLevelIndex||p).extractKey,O=O.reduce(function(b,T){var C=b,x=T.type==="add"||T.type==="put"?T.values.filter(function(A){return A=P(A),m&&h(A)?A.some(function(I){return fi(I,w)}):fi(A,w)}).map(function(A){return A=Ae(A),d&&Object.freeze(A),A}):[];switch(T.type){case"add":C=b.concat(o.values?x:x.map(function(I){return g(I)}));break;case"put":var k=new gt().addKeys(T.values.map(function(I){return g(I)})),C=b.filter(function(I){return I=o.values?g(I):I,!Xr(new gt(I),k)}).concat(o.values?x:x.map(function(I){return g(I)}));break;case"delete":var S=new gt().addKeys(T.keys);C=b.filter(function(I){return I=o.values?g(I):I,!Xr(new gt(I),S)});break;case"deleteRange":var E=T.range;C=b.filter(function(I){return!fi(g(I),E)})}return C},a);return O===a?a:(O.sort(function(b,T){return Se(y(b),y(T))||Se(g(b),g(T))}),o.limit&&o.limit<1/0&&(O.length>o.limit?O.length=o.limit:a.length===o.limit&&O.length<o.limit&&(f.dirty=!0)),d?Object.freeze(O):O)}function $o(a,o){return Se(a.lower,o.lower)===0&&Se(a.upper,o.upper)===0&&!!a.lowerOpen==!!o.lowerOpen&&!!a.upperOpen==!!o.upperOpen}function Sc(a,o){return function(c,l,f,d){if(c===void 0)return l!==void 0?-1:0;if(l===void 0)return 1;if((l=Se(c,l))===0){if(f&&d)return 0;if(f)return 1;if(d)return-1}return l}(a.lower,o.lower,a.lowerOpen,o.lowerOpen)<=0&&0<=function(c,l,f,d){if(c===void 0)return l!==void 0?1:0;if(l===void 0)return-1;if((l=Se(c,l))===0){if(f&&d)return 0;if(f)return-1;if(d)return 1}return l}(a.upper,o.upper,a.upperOpen,o.upperOpen)}function Ec(a,o,c,l){a.subscribers.add(c),l.addEventListener("abort",function(){var f,d;a.subscribers.delete(c),a.subscribers.size===0&&(f=a,d=o,setTimeout(function(){f.subscribers.size===0&&Re(d,f)},3e3))})}var Dc={stack:"dbcore",level:0,name:"Cache",create:function(a){var o=a.schema.name;return r(r({},a),{transaction:function(c,l,f){var d,p,m=a.transaction(c,l,f);return l==="readwrite"&&(p=(d=new AbortController).signal,f=function(w){return function(){if(d.abort(),l==="readwrite"){for(var g=new Set,P=0,y=c;P<y.length;P++){var O=y[P],b=Dn["idb://".concat(o,"/").concat(O)];if(b){var T=a.table(O),C=b.optimisticOps.filter(function(ie){return ie.trans===m});if(m._explicit&&w&&m.mutatedParts)for(var x=0,k=Object.values(b.queries.query);x<k.length;x++)for(var S=0,E=(K=k[x]).slice();S<E.length;S++)ai((R=E[S]).obsSet,m.mutatedParts)&&(Re(K,R),R.subscribers.forEach(function(ie){return g.add(ie)}));else if(0<C.length){b.optimisticOps=b.optimisticOps.filter(function(ie){return ie.trans!==m});for(var A=0,I=Object.values(b.queries.query);A<I.length;A++)for(var K,R,B,Y=0,H=(K=I[A]).slice();Y<H.length;Y++)(R=H[Y]).res!=null&&m.mutatedParts&&(w&&!R.dirty?(B=Object.isFrozen(R.res),B=Wo(R.res,R.req,C,T,R,B),R.dirty?(Re(K,R),R.subscribers.forEach(function(ie){return g.add(ie)})):B!==R.res&&(R.res=B,R.promise=$.resolve({result:B}))):(R.dirty&&Re(K,R),R.subscribers.forEach(function(ie){return g.add(ie)})))}}}g.forEach(function(ie){return ie()})}}},m.addEventListener("abort",f(!1),{signal:p}),m.addEventListener("error",f(!1),{signal:p}),m.addEventListener("complete",f(!0),{signal:p})),m},table:function(c){var l=a.table(c),f=l.schema.primaryKey;return r(r({},l),{mutate:function(d){var p=J.trans;if(f.outbound||p.db._options.cache==="disabled"||p.explicit)return l.mutate(d);var m=Dn["idb://".concat(o,"/").concat(c)];return m?(p=l.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||li(f,d).some(function(w){return w==null}))?(m.optimisticOps.push(d),d.mutatedParts&&Zr(d.mutatedParts),p.then(function(w){0<w.numFailures&&(Re(m.optimisticOps,d),(w=Ho(0,d,w))&&m.optimisticOps.push(w),d.mutatedParts&&Zr(d.mutatedParts))}),p.catch(function(){Re(m.optimisticOps,d),d.mutatedParts&&Zr(d.mutatedParts)})):p.then(function(w){var g=Ho(0,r(r({},d),{values:d.values.map(function(b,y){var O,b=(O=f.keyPath)!==null&&O!==void 0&&O.includes(".")?Ae(b):r({},b);return ne(b,f.keyPath,w.results[y]),b})}),w);m.optimisticOps.push(g),queueMicrotask(function(){return d.mutatedParts&&Zr(d.mutatedParts)})}),p):l.mutate(d)},query:function(d){if(!Ko(J,l)||!Yo("query",d))return l.query(d);var p=((g=J.trans)===null||g===void 0?void 0:g.db._options.cache)==="immutable",y=J,m=y.requery,w=y.signal,g=function(T,C,x,k){var S=Dn["idb://".concat(T,"/").concat(C)];if(!S)return[];if(!(C=S.queries[x]))return[null,!1,S,null];var E=C[(k.query?k.query.index.name:null)||""];if(!E)return[null,!1,S,null];switch(x){case"query":var A=E.find(function(I){return I.req.limit===k.limit&&I.req.values===k.values&&$o(I.req.query.range,k.query.range)});return A?[A,!0,S,E]:[E.find(function(I){return("limit"in I.req?I.req.limit:1/0)>=k.limit&&(!k.values||I.req.values)&&Sc(I.req.query.range,k.query.range)}),!1,S,E];case"count":return A=E.find(function(I){return $o(I.req.query.range,k.query.range)}),[A,!!A,S,E]}}(o,c,"query",d),P=g[0],y=g[1],O=g[2],b=g[3];return P&&y?P.obsSet=d.obsSet:(y=l.query(d).then(function(T){var C=T.result;if(P&&(P.res=C),p){for(var x=0,k=C.length;x<k;++x)Object.freeze(C[x]);Object.freeze(C)}else T.result=Ae(C);return T}).catch(function(T){return b&&P&&Re(b,P),Promise.reject(T)}),P={obsSet:d.obsSet,promise:y,subscribers:new Set,type:"query",req:d,dirty:!1},b?b.push(P):(b=[P],(O=O||(Dn["idb://".concat(o,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=b)),Ec(P,b,m,w),P.promise.then(function(T){return{result:Wo(T.result,d,O==null?void 0:O.optimisticOps,l,P,p)}})}})}})}};function ta(a,o){return new Proxy(a,{get:function(c,l,f){return l==="db"?o:Reflect.get(c,l,f)}})}var tn=(et.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Z.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var o=this._versions,c=o.filter(function(l){return l._cfg.version===a})[0];return c||(c=new this.Version(a),o.push(c),o.sort(bc),c.stores({}),this._state.autoSchema=!1,c)},et.prototype._whenReady=function(a){var o=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new $(function(c,l){if(o._state.openComplete)return l(new Z.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void l(new Z.DatabaseClosed);o.open().catch(me)}o._state.dbReadyPromise.then(c,l)}).then(a)},et.prototype.use=function(a){var o=a.stack,c=a.create,l=a.level,f=a.name;return f&&this.unuse({stack:o,name:f}),a=this._middlewares[o]||(this._middlewares[o]=[]),a.push({stack:o,create:c,level:l??10,name:f}),a.sort(function(d,p){return d.level-p.level}),this},et.prototype.unuse=function(a){var o=a.stack,c=a.name,l=a.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(f){return l?f.create!==l:!!c&&f.name!==c})),this},et.prototype.open=function(){var a=this;return kn(We,function(){return Tc(a)})},et.prototype._close=function(){var a=this._state,o=$n.indexOf(this);if(0<=o&&$n.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new $(function(c){a.dbReadyResolve=c}),a.openCanceller=new $(function(c,l){a.cancelOpen=l}))},et.prototype.close=function(c){var o=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;o?(c.isBeingOpened&&c.cancelOpen(new Z.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new Z.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},et.prototype.delete=function(a){var o=this;a===void 0&&(a={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",l=this._state;return new $(function(f,d){function p(){o.close(a);var m=o._deps.indexedDB.deleteDatabase(o.name);m.onsuccess=$e(function(){var w,g,P;w=o._deps,g=o.name,P=w.indexedDB,w=w.IDBKeyRange,ei(P)||g===Lr||Za(P,w).delete(g).catch(me),f()}),m.onerror=$t(d),m.onblocked=o._fireOnBlocked}if(c)throw new Z.InvalidArgument("Invalid closeOptions argument to db.delete()");l.isBeingOpened?l.dbReadyPromise.then(p):p()})},et.prototype.backendDB=function(){return this.idbdb},et.prototype.isOpen=function(){return this.idbdb!==null},et.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(et.prototype,"tables",{get:function(){var a=this;return s(this._allTables).map(function(o){return a._allTables[o]})},enumerable:!1,configurable:!0}),et.prototype.transaction=function(){var a=(function(o,c,l){var f=arguments.length;if(f<2)throw new Z.InvalidArgument("Too few arguments");for(var d=new Array(f-1);--f;)d[f-1]=arguments[f];return l=d.pop(),[o,Ue(d),l]}).apply(this,arguments);return this._transaction.apply(this,a)},et.prototype._transaction=function(a,o,c){var l=this,f=J.trans;f&&f.db===this&&a.indexOf("!")===-1||(f=null);var d,p,m=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(p=o.map(function(g){if(g=g instanceof l.Table?g.name:g,typeof g!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return g}),a=="r"||a===La)d=La;else{if(a!="rw"&&a!=Fa)throw new Z.InvalidArgument("Invalid transaction mode: "+a);d=Fa}if(f){if(f.mode===La&&d===Fa){if(!m)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&p.forEach(function(g){if(f&&f.storeNames.indexOf(g)===-1){if(!m)throw new Z.SubTransaction("Table "+g+" not included in parent transaction.");f=null}}),m&&f&&!f.active&&(f=null)}}catch(g){return f?f._promise(null,function(P,y){y(g)}):Ze(g)}var w=(function g(P,y,O,b,T){return $.resolve().then(function(){var C=J.transless||J,x=P._createTransaction(y,O,P._dbSchema,b);if(x.explicit=!0,C={trans:x,transless:C},b)x.idbtrans=b.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,P._state.PR1398_maxLoop=3}catch(E){return E.name===Ct.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return g(P,y,O,null,T)})):Ze(E)}var k,S=at(T);return S&&Wn(),C=$.follow(function(){var E;(k=T.call(x,x))&&(S?(E=yn.bind(null,null),k.then(E,E)):typeof k.next=="function"&&typeof k.throw=="function"&&(k=ui(k)))},C),(k&&typeof k.then=="function"?$.resolve(k).then(function(E){return x.active?E:Ze(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):C.then(function(){return k})).then(function(E){return b&&x._resolve(),x._completion.then(function(){return E})}).catch(function(E){return x._reject(E),Ze(E)})})}).bind(null,this,d,p,f,c);return f?f._promise(d,w,"lock"):J.trans?kn(J.transless,function(){return l._whenReady(w)}):this._whenReady(w)},et.prototype.table=function(a){if(!D(this._allTables,a))throw new Z.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},et);function et(a,o){var c=this;this._middlewares={},this.verno=0;var l=et.dependencies;this._options=o=r({addons:et.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},l=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,d,p,m,w,g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:me,dbReadyPromise:null,cancelOpen:me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};g.dbReadyPromise=new $(function(y){g.dbReadyResolve=y}),g.openCanceller=new $(function(y,O){g.cancelOpen=O}),this._state=g,this.name=a,this.on=sr(this,"populate","blocked","versionchange","close",{ready:[pn,me]}),this.on.ready.subscribe=re(this.on.ready.subscribe,function(y){return function(O,b){et.vip(function(){var T,C=c._state;C.openComplete?(C.dbOpenError||$.resolve().then(O),b&&y(O)):C.onReadyBeingFired?(C.onReadyBeingFired.push(O),b&&y(O)):(y(O),T=c,b||y(function x(){T.on.ready.unsubscribe(O),T.on.ready.unsubscribe(x)}))})}}),this.Collection=(f=this,ur(dc.prototype,function(k,x){this.db=f;var b=Po,T=null;if(x)try{b=x()}catch(S){T=S}var C=k._ctx,x=C.table,k=x.hook.reading.fire;this._ctx={table:x,index:C.index,isPrimKey:!C.index||x.schema.primKey.keyPath&&C.index===x.schema.primKey.name,range:b,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:C.or,valueMapper:k!==Jt?k:null}})),this.Table=(d=this,ur(So.prototype,function(y,O,b){this.db=d,this._tx=b,this.name=y,this.schema=O,this.hook=d._allTables[y]?d._allTables[y].hook:sr(null,{creating:[hn,me],reading:[Fn,Jt],updating:[On,me],deleting:[Kn,me]})})),this.Transaction=(p=this,ur(vc.prototype,function(y,O,b,T,C){var x=this;this.db=p,this.mode=y,this.storeNames=O,this.schema=b,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=sr(this,"complete","error","abort"),this.parent=C||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $(function(k,S){x._resolve=k,x._reject=S}),this._completion.then(function(){x.active=!1,x.on.complete.fire()},function(k){var S=x.active;return x.active=!1,x.on.error.fire(k),x.parent?x.parent._reject(k):S&&x.idbtrans&&x.idbtrans.abort(),Ze(k)})})),this.Version=(m=this,ur(xc.prototype,function(y){this.db=m,this._cfg={version:y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,ur(Io.prototype,function(y,O,b){if(this.db=w,this._ctx={table:y,index:O===":id"?null:O,or:b},this._cmp=this._ascending=Se,this._descending=function(T,C){return Se(C,T)},this._max=function(T,C){return 0<Se(T,C)?T:C},this._min=function(T,C){return Se(T,C)<0?T:C},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new Z.MissingAPI})),this.on("versionchange",function(y){0<y.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=fr(o.IDBKeyRange),this._createTransaction=function(y,O,b,T){return new c.Transaction(y,O,b,c._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(y){c.on("blocked").fire(y),$n.filter(function(O){return O.name===c.name&&O!==c&&!O._state.vcFired}).map(function(O){return O.on("versionchange").fire(y)})},this.use(Cc),this.use(Dc),this.use(kc),this.use(Pc),this.use(Oc);var P=new Proxy(this,{get:function(y,O,b){if(O==="_vip")return!0;if(O==="table")return function(C){return ta(c.table(C),P)};var T=Reflect.get(y,O,b);return T instanceof So?ta(T,P):O==="tables"?T.map(function(C){return ta(C,P)}):O==="_createTransaction"?function(){return ta(T.apply(this,arguments),P)}:T}});this.vip=P,l.forEach(function(y){return y(c)})}var na,Mt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ac=(di.prototype.subscribe=function(a,o,c){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:o,complete:c})},di.prototype[Mt]=function(){return this},di);function di(a){this._subscribe=a}try{na={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{na={indexedDB:null,IDBKeyRange:null}}function Go(a){var o,c=!1,l=new Ac(function(f){var d=at(a),p,m=!1,w={},g={},P={get closed(){return m},unsubscribe:function(){m||(m=!0,p&&p.abort(),y&&wn.storagemutated.unsubscribe(b))}};f.start&&f.start(P);var y=!1,O=function(){return Ba(T)},b=function(C){Jr(w,C),ai(g,w)&&O()},T=function(){var C,x,k;!m&&na.indexedDB&&(w={},C={},p&&p.abort(),p=new AbortController,k=function(S){var E=Yn();try{d&&Wn();var A=mn(a,S);return A=d?A.finally(yn):A}finally{E&&Hn()}}(x={subscr:C,signal:p.signal,requery:O,querier:a,trans:null}),Promise.resolve(k).then(function(S){c=!0,o=S,m||x.signal.aborted||(w={},function(E){for(var A in E)if(D(E,A))return;return 1}(g=C)||y||(wn(lr,b),y=!0),Ba(function(){return!m&&f.next&&f.next(S)}))},function(S){c=!1,["DatabaseClosedError","AbortError"].includes(S==null?void 0:S.name)||m||Ba(function(){m||f.error&&f.error(S)})}))};return setTimeout(O,0),P});return l.hasValue=function(){return c},l.getValue=function(){return o},l}var An=tn;function hi(a){var o=_n;try{_n=!0,wn.storagemutated.fire(a),si(a,!0)}finally{_n=o}}j(An,r(r({},Nt),{delete:function(a){return new An(a,{addons:[]}).delete()},exists:function(a){return new An(a,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return o=An.dependencies,c=o.indexedDB,o=o.IDBKeyRange,(ei(c)?Promise.resolve(c.databases()).then(function(l){return l.map(function(f){return f.name}).filter(function(f){return f!==Lr})}):Za(c,o).toCollection().primaryKeys()).then(a)}catch{return Ze(new Z.MissingAPI)}var o,c},defineClass:function(){return function(a){v(this,a)}},ignoreTransaction:function(a){return J.trans?kn(J.transless,a):a()},vip:ti,async:function(a){return function(){try{var o=ui(a.apply(this,arguments));return o&&typeof o.then=="function"?o:$.resolve(o)}catch(c){return Ze(c)}}},spawn:function(a,o,c){try{var l=ui(a.apply(c,o||[]));return l&&typeof l.then=="function"?l:$.resolve(l)}catch(f){return Ze(f)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,o){return o=$.resolve(typeof a=="function"?An.ignoreTransaction(a):a).timeout(o||6e4),J.trans?J.trans.waitFor(o):o},Promise:$,debug:{get:function(){return xt},set:function(a){At(a)}},derive:F,extend:v,props:j,override:re,Events:sr,on:wn,liveQuery:Go,extendObservabilitySet:Jr,getByKeyPath:ee,setByKeyPath:ne,delByKeyPath:function(a,o){typeof o=="string"?ne(a,o,void 0):"length"in o&&[].map.call(o,function(c){ne(a,c,void 0)})},shallowClone:ue,deepClone:Ae,getObjectDiff:ci,cmp:Se,asap:we,minKey:-1/0,addons:[],connections:$n,errnames:Ct,dependencies:na,cache:Dn,semVer:"4.0.4",version:"4.0.4".split(".").map(function(a){return parseInt(a)}).reduce(function(a,o,c){return a+o/Math.pow(10,2*c)})})),An.maxKey=fr(An.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wn(lr,function(a){_n||(a=new CustomEvent($a,{detail:a}),_n=!0,dispatchEvent(a),_n=!1)}),addEventListener($a,function(a){a=a.detail,_n||hi(a)}));var zn,_n=!1,Qo=function(){};return typeof BroadcastChannel<"u"&&((Qo=function(){(zn=new BroadcastChannel($a)).onmessage=function(a){return a.data&&hi(a.data)}})(),typeof zn.unref=="function"&&zn.unref(),wn(lr,function(a){_n||zn.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!tn.disableBfCache&&a.persisted){xt&&console.debug("Dexie: handling persisted pagehide"),zn!=null&&zn.close();for(var o=0,c=$n;o<c.length;o++)c[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!tn.disableBfCache&&a.persisted&&(xt&&console.debug("Dexie: handling persisted pageshow"),Qo(),hi({all:new gt(-1/0,[[]])}))})),$.rejectionMapper=function(a,o){return!a||a instanceof st||a instanceof TypeError||a instanceof SyntaxError||!a.name||!yt[a.name]?a:(o=new yt[a.name](o||a.message,a),"stack"in a&&W(o,"stack",{get:function(){return this.inner.stack}}),o)},At(xt),r(tn,Object.freeze({__proto__:null,Dexie:tn,liveQuery:Go,Entity:Oo,cmp:Se,PropModSymbol:en,PropModification:Ha,replacePrefix:function(a,o){return new Ha({replacePrefix:[a,o]})},default:tn,RangeSet:gt,mergeRanges:pr,rangesOverlap:Xr}),{default:tn}),tn})})(Uu);var mv=Uu.exports;const Ri=vv(mv),As=Symbol.for("Dexie"),qi=globalThis[As]||(globalThis[As]=Ri);if(Ri.semVer!==qi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ri.semVer} and ${qi.semVer}`);class yv extends qi{constructor(){super("myDatabase");aa(this,"processInfos");aa(this,"metricInfos");this.version(2).stores({processInfos:"&name, serial, show",metricInfos:"name, type"})}}const ca=new yv;function gv(e,t){return e>t}function bv(e,t,n){for(var r=-1,i=e.length;++r<i;){var u=e[r],s=t(u);if(s!=null&&(h===void 0?s===s&&!nr(s):n(s,h)))var h=s,v=u}return v}function wv(e,t){return e&&e.length?bv(e,Iu(t),gv):void 0}let Ni=new pv,Ce=new ju("name"),nn=new ju("name");async function Nn(){Ce.loading=!0;const t=await(await fetch("/api/processes")).json();Ce.reset(),Ce.data=t,t.forEach(r=>{let i=_r.find(u=>u.name===r.name);i||(i={name:r.name,cpus:[]},_r.push(i)),i.cpus.push(r.cpu==0?.01:r.cpu)});let n=await ca.processInfos.toArray();!n||n.length!==t.length?(n=t.map((r,i)=>({name:r.name,serial:i,show:!0})),n.forEach((r,i)=>{try{let u=ca.processInfos.put(r,"name").catch(s=>{console.log(s)})}catch(u){console.log(u)}})):Ce.data.forEach((r,i)=>{if(!n.find(s=>s.name===r.name)){let s=wv(n,"serial"),h={name:r.name,serial:((s==null?void 0:s.serial)??0)+1,show:!0};n.push(h),ca.processInfos.put(h,"name")}}),nn.data=n,Ce.loading=!1}async function _v(e,t){Ce.loading=!0;let n=await fetch(`/api/processes/action/${e}?action=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(n),await Nn(),Ce.loading=!1}async function xv(e){Ce.loading=!0;let t=await fetch("/api/processes/delete",{method:"POST",body:JSON.stringify({id:e.pm_id}),headers:{"Content-Type":"application/json"}});console.log(t),await Nn(),Ce.loading=!1}async function Tv(e){Ce.loading=!0;let t=await fetch(`/api/processes/restart/${e.pm_id}`,{method:"POST",headers:{"Content-Type":"application/json"}});console.log(t),await Nn(),Ce.loading=!1}async function Pv(e){Ce.loading=!0;let t=await fetch(`/api/processes/stop/${e.pm_id}`,{method:"POST",headers:{"Content-Type":"application/json"}});console.log(t),await Nn(),Ce.loading=!1}async function Ov(e){Ce.loading=!0,(await fetch(`/api/processes/logs/${e.name}/flush`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name})})).ok&&alert("Logs flushed"),Ce.loading=!1}async function la(e,t){if(!e)return;Ce.loading=!0;const r=await(await fetch(`/api/processes/logs/${e.name}?lines=${t||10}`)).json();console.log(r);let i=r.outLogs.split(`
`).map(s=>{try{let h=JSON.parse(s.replace(`
`,""));h.timestamp=ss(h.timestamp.split(" ")[0]+" "+h.timestamp.split(" ")[1],"dd/MM HH:mm:ss.SSS",new Date);let v=h.message.split(Si(Es));return h.message=v.filter((_,M)=>v.length>1?M>0:!0).join(Si(Es)),console.log(h),h}catch{return console.log(s),s}}).filter(s=>!!s);hv.set(i);let u=r.errLogs.split(`
`).map(s=>{try{let h=JSON.parse(s.replace(`
`,""));return h.timestamp=ss(h.timestamp.split(" ")[0]+" "+h.timestamp.split(" ")[1],"dd/MM HH:mm:ss.SSS",new Date),h}catch{console.log(s);return}}).filter(s=>!!s);dv.set(u),Ni.logs=fv([...i,...u],"timestamp","desc"),console.log(Ni.logs),Ce.loading=!1}var Bi=function(e,t){return Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Bi(e,t)};function dn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Bi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Li(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wa(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(h){s={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return u}function _a(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}function Yt(e){return typeof e=="function"}function Ru(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wi=Ru(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function xa(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ir=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,u;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var h=Li(s),v=h.next();!v.done;v=h.next()){var _=v.value;_.remove(this)}}catch(F){t={error:F}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}else s.remove(this);var M=this.initialTeardown;if(Yt(M))try{M()}catch(F){u=F instanceof wi?F.errors:[F]}var D=this._finalizers;if(D){this._finalizers=null;try{for(var j=Li(D),q=j.next();!q.done;q=j.next()){var W=q.value;try{Ms(W)}catch(F){u=u??[],F instanceof wi?u=_a(_a([],wa(u)),wa(F.errors)):u.push(F)}}}catch(F){r={error:F}}finally{try{q&&!q.done&&(i=j.return)&&i.call(j)}finally{if(r)throw r.error}}}if(u)throw new wi(u)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ms(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&xa(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&xa(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),qu=Ir.EMPTY;function Nu(e){return e instanceof Ir||e&&"closed"in e&&Yt(e.remove)&&Yt(e.add)&&Yt(e.unsubscribe)}function Ms(e){Yt(e)?e():e.unsubscribe()}var Bu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lu={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,_a([e,t],wa(n)))},clearTimeout:function(e){var t=Lu.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Cv(e){Lu.setTimeout(function(){throw e})}function Is(){}function fa(e){e()}var co=function(e){dn(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Nu(n)&&n.add(r)):r.destination=Dv,r}return t.create=function(n,r,i){return new Fi(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ir),kv=Function.prototype.bind;function _i(e,t){return kv.call(e,t)}var Sv=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){oa(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){oa(r)}else oa(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){oa(n)}},e}(),Fi=function(e){dn(t,e);function t(n,r,i){var u=e.call(this)||this,s;if(Yt(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var h;u&&Bu.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return u.unsubscribe()},s={next:n.next&&_i(n.next,h),error:n.error&&_i(n.error,h),complete:n.complete&&_i(n.complete,h)}):s=n}return u.destination=new Sv(s),u}return t}(co);function oa(e){Cv(e)}function Ev(e){throw e}var Dv={closed:!0,next:Is,error:Ev,complete:Is},Av=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mv(e){return e}function Iv(e){return e.length===0?Mv:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Ki=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,u=Uv(t)?t:new Fi(t,n,r);return fa(function(){var s=i,h=s.operator,v=s.source;u.add(h?h.call(u,v):v?i._subscribe(u):i._trySubscribe(u))}),u},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=js(n),new n(function(i,u){var s=new Fi({next:function(h){try{t(h)}catch(v){u(v),s.unsubscribe()}},error:u,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Av]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Iv(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=js(t),new t(function(r,i){var u;n.subscribe(function(s){return u=s},function(s){return i(s)},function(){return r(u)})})},e.create=function(t){return new e(t)},e}();function js(e){var t;return(t=e??Bu.Promise)!==null&&t!==void 0?t:Promise}function jv(e){return e&&Yt(e.next)&&Yt(e.error)&&Yt(e.complete)}function Uv(e){return e&&e instanceof co||jv(e)&&Nu(e)}function Rv(e){return Yt(e==null?void 0:e.lift)}function qv(e){return function(t){if(Rv(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nv(e,t,n,r,i){return new Bv(e,t,n,r,i)}var Bv=function(e){dn(t,e);function t(n,r,i,u,s,h){var v=e.call(this,n)||this;return v.onFinalize=s,v.shouldUnsubscribe=h,v._next=r?function(_){try{r(_)}catch(M){n.error(M)}}:e.prototype._next,v._error=u?function(_){try{u(_)}catch(M){n.error(M)}finally{this.unsubscribe()}}:e.prototype._error,v._complete=i?function(){try{i()}catch(_){n.error(_)}finally{this.unsubscribe()}}:e.prototype._complete,v}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(co),Lv=Ru(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fu=function(e){dn(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Us(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Lv},t.prototype.next=function(n){var r=this;fa(function(){var i,u;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Li(r.currentObservers),h=s.next();!h.done;h=s.next()){var v=h.value;v.next(n)}}catch(_){i={error:_}}finally{try{h&&!h.done&&(u=s.return)&&u.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;fa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;fa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,u=i.hasError,s=i.isStopped,h=i.observers;return u||s?qu:(this.currentObservers=null,h.push(n),new Ir(function(){r.currentObservers=null,xa(h,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,u=r.thrownError,s=r.isStopped;i?n.error(u):s&&n.complete()},t.prototype.asObservable=function(){var n=new Ki;return n.source=this,n},t.create=function(n,r){return new Us(n,r)},t}(Ki),Us=function(e){dn(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:qu},t}(Fu),Fv=function(e){dn(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,u=n._value;if(r)throw i;return this._throwIfClosed(),u},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Fu),Kv={now:function(){return Date.now()},delegate:void 0},Yv=function(e){dn(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Ir),Yi={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,_a([e,t],wa(n)))},clearInterval:function(e){var t=Yi.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Hv=function(e){dn(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var u=this.id,s=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(s,u,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Yi.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Yi.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,u;try{this.work(n)}catch(s){i=!0,u=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,u=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,xa(u,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Yv),Rs=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Kv.now,e}(),Wv=function(e){dn(t,e);function t(n,r){r===void 0&&(r=Rs.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Rs),$v=new Wv(Hv),Gv=$v;function Qv(e){return Yt(e.schedule)}function zv(e){return e instanceof Date&&!isNaN(e)}function Vv(e,t,n){n===void 0&&(n=Gv);var r=-1;return Qv(t)?n=t:r=t,new Ki(function(i){var u=zv(e)?+e-n.now():e;u<0&&(u=0);var s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},u)})}function Xv(e,t){return qv(function(n,r){var i=0;n.subscribe(Nv(r,function(u){return e.call(t,u,i++)&&r.next(u)}))})}function Ku(e){if(!e)return"0B";const t=["B","KB","MB","GB","TB","PB"],n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+t[n]}function Yu(e){if(!e)return"0s";const t=Math.floor(e/(24*60*60*1e3)),n=e%(24*60*60*1e3),r=Math.floor(n/(60*60*1e3)),i=e%(60*60*1e3),u=Math.floor(i/(60*1e3)),s=e%(60*1e3),h=Math.floor(s/1e3);return[t?t+"d":"",r?r+"h":"",u?u+"m":"",h?h+"s":""].join("")}const Hu=["Active handles","Active requests","Event Loop Latency p95","Event Loop Latency","Heap Size","Heap Usage","Used Heap Size"];var Jv=De('<span class="badge badge-success badge-outline"> </span>'),Zv=De('<span class="badge badge-error badge-outline"> </span>');function lo(e,t){sn(t,!1),Ca();var n=Ot(),r=Be(n);Qe(r,()=>t.process.status==="online",i=>{var u=Jv(),s=V(u);pe(()=>Ne(s,t.process.status)),ae(i,u)},i=>{var u=Zv(),s=V(u);pe(()=>Ne(s,t.process.status)),ae(i,u)}),ae(e,n),un()}const xr=/^[a-z0-9]+(-[a-z0-9]+)*$/,Aa=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const h=i.pop(),v=i.pop(),_={provider:i.length>0?i[0]:r,prefix:v,name:h};return t&&!da(_)?null:_}const u=i[0],s=u.split("-");if(s.length>1){const h={provider:r,prefix:s.shift(),name:s.join("-")};return t&&!da(h)?null:h}if(n&&r===""){const h={provider:r,prefix:"",name:u};return t&&!da(h,n)?null:h}return null},da=(e,t)=>e?!!((e.provider===""||e.provider.match(xr))&&(t&&e.prefix===""||e.prefix.match(xr))&&e.name.match(xr)):!1,Wu=Object.freeze({left:0,top:0,width:16,height:16}),Ta=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ma=Object.freeze({...Wu,...Ta}),Hi=Object.freeze({...Ma,body:"",hidden:!1});function em(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function qs(e,t){const n=em(e,t);for(const r in Hi)r in Ta?r in e&&!(r in n)&&(n[r]=Ta[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function tm(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function u(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const h=r[s]&&r[s].parent,v=h&&u(h);v&&(i[s]=[h].concat(v))}return i[s]}return Object.keys(n).concat(Object.keys(r)).forEach(u),i}function nm(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let u={};function s(h){u=qs(r[h]||i[h],u)}return s(t),n.forEach(s),qs(e,u)}function $u(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=tm(e);for(const i in r){const u=r[i];u&&(t(i,nm(e,i,u)),n.push(i))}return n}const rm={provider:"",aliases:{},not_found:{},...Wu};function xi(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Gu(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!xi(e,rm))return null;const n=t.icons;for(const i in n){const u=n[i];if(!i.match(xr)||typeof u.body!="string"||!xi(u,Hi))return null}const r=t.aliases||Object.create(null);for(const i in r){const u=r[i],s=u.parent;if(!i.match(xr)||typeof s!="string"||!n[s]&&!r[s]||!xi(u,Hi))return null}return t}const Ns=Object.create(null);function am(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Bn(e,t){const n=Ns[e]||(Ns[e]=Object.create(null));return n[t]||(n[t]=am(e,t))}function fo(e,t){return Gu(t)?$u(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function im(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let Cr=!1;function Qu(e){return typeof e=="boolean"&&(Cr=e),Cr}function om(e){const t=typeof e=="string"?Aa(e,!0,Cr):e;if(t){const n=Bn(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function sm(e,t){const n=Aa(e,!0,Cr);if(!n)return!1;const r=Bn(n.provider,n.prefix);return im(r,n.name,t)}function um(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Cr&&!t&&!e.prefix){let i=!1;return Gu(e)&&(e.prefix="",$u(e,(u,s)=>{s&&sm(u,s)&&(i=!0)})),i}const n=e.prefix;if(!da({provider:t,prefix:n,name:"a"}))return!1;const r=Bn(t,n);return!!fo(r,e)}const zu=Object.freeze({width:null,height:null}),Vu=Object.freeze({...zu,...Ta}),cm=/(-?[0-9.]*[0-9]+[0-9.]*)/g,lm=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bs(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(cm);if(r===null||!r.length)return e;const i=[];let u=r.shift(),s=lm.test(u);for(;;){if(s){const h=parseFloat(u);isNaN(h)?i.push(u):i.push(Math.ceil(h*t*n)/n)}else i.push(u);if(u=r.shift(),u===void 0)return i.join("");s=!s}}function fm(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),u=e.indexOf("</"+t);if(i===-1||u===-1)break;const s=e.indexOf(">",u);if(s===-1)break;n+=e.slice(i+1,u).trim(),e=e.slice(0,r).trim()+e.slice(s+1)}return{defs:n,content:e}}function dm(e,t){return e?"<defs>"+e+"</defs>"+t:t}function hm(e,t,n){const r=fm(e);return dm(r.defs,t+r.content+n)}const pm=e=>e==="unset"||e==="undefined"||e==="none";function vm(e,t){const n={...Ma,...e},r={...Vu,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let u=n.body;[n,r].forEach(F=>{const X=[],z=F.hFlip,L=F.vFlip;let re=F.rotate;z?L?re+=2:(X.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),X.push("scale(-1 1)"),i.top=i.left=0):L&&(X.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),X.push("scale(1 -1)"),i.top=i.left=0);let oe;switch(re<0&&(re-=Math.floor(re/4)*4),re=re%4,re){case 1:oe=i.height/2+i.top,X.unshift("rotate(90 "+oe.toString()+" "+oe.toString()+")");break;case 2:X.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:oe=i.width/2+i.left,X.unshift("rotate(-90 "+oe.toString()+" "+oe.toString()+")");break}re%2===1&&(i.left!==i.top&&(oe=i.left,i.left=i.top,i.top=oe),i.width!==i.height&&(oe=i.width,i.width=i.height,i.height=oe)),X.length&&(u=hm(u,'<g transform="'+X.join(" ")+'">',"</g>"))});const s=r.width,h=r.height,v=i.width,_=i.height;let M,D;s===null?(D=h===null?"1em":h==="auto"?_:h,M=Bs(D,v/_)):(M=s==="auto"?v:s,D=h===null?Bs(M,_/v):h==="auto"?_:h);const j={},q=(F,X)=>{pm(X)||(j[F]=X.toString())};q("width",M),q("height",D);const W=[i.left,i.top,v,_];return j.viewBox=W.join(" "),{attributes:j,viewBox:W,body:u}}const mm=/\sid="(\S+)"/g,ym="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let gm=0;function bm(e,t=ym){const n=[];let r;for(;r=mm.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(u=>{const s=typeof t=="function"?t(u):t+(gm++).toString(),h=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+h+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const Wi=Object.create(null);function wm(e,t){Wi[e]=t}function $i(e){return Wi[e]||Wi[""]}function ho(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const po=Object.create(null),gr=["https://api.simplesvg.com","https://api.unisvg.com"],ha=[];for(;gr.length>0;)gr.length===1||Math.random()>.5?ha.push(gr.shift()):ha.push(gr.pop());po[""]=ho({resources:["https://api.iconify.design"].concat(ha)});function _m(e,t){const n=ho(t);return n===null?!1:(po[e]=n,!0)}function vo(e){return po[e]}const xm=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Ls=xm();function Tm(e,t){const n=vo(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(s=>{i=Math.max(i,s.length)});const u=t+".json?icons=";r=n.maxURL-i-n.path.length-u.length}return r}function Pm(e){return e===404}const Om=(e,t,n)=>{const r=[],i=Tm(e,t),u="icons";let s={type:u,provider:e,prefix:t,icons:[]},h=0;return n.forEach((v,_)=>{h+=v.length+1,h>=i&&_>0&&(r.push(s),s={type:u,provider:e,prefix:t,icons:[]},h=v.length),s.icons.push(v)}),r.push(s),r};function Cm(e){if(typeof e=="string"){const t=vo(e);if(t)return t.path}return"/"}const km=(e,t,n)=>{if(!Ls){n("abort",424);return}let r=Cm(t.provider);switch(t.type){case"icons":{const u=t.prefix,h=t.icons.join(","),v=new URLSearchParams({icons:h});r+=u+".json?"+v.toString();break}case"custom":{const u=t.uri;r+=u.slice(0,1)==="/"?u.slice(1):u;break}default:n("abort",400);return}let i=503;Ls(e+r).then(u=>{const s=u.status;if(s!==200){setTimeout(()=>{n(Pm(s)?"abort":"next",s)});return}return i=501,u.json()}).then(u=>{if(typeof u!="object"||u===null){setTimeout(()=>{u===404?n("abort",u):n("next",i)});return}setTimeout(()=>{n("success",u)})}).catch(()=>{n("next",i)})},Sm={prepare:Om,send:km};function Em(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,u)=>i.provider!==u.provider?i.provider.localeCompare(u.provider):i.prefix!==u.prefix?i.prefix.localeCompare(u.prefix):i.name.localeCompare(u.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const u=i.provider,s=i.prefix,h=i.name,v=n[u]||(n[u]=Object.create(null)),_=v[s]||(v[s]=Bn(u,s));let M;h in _.icons?M=t.loaded:s===""||_.missing.has(h)?M=t.missing:M=t.pending;const D={provider:u,prefix:s,name:h};M.push(D)}),t}function Xu(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function Dm(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(u=>{const s=u.icons,h=s.pending.length;s.pending=s.pending.filter(v=>{if(v.prefix!==i)return!0;const _=v.name;if(e.icons[_])s.loaded.push({provider:r,prefix:i,name:_});else if(e.missing.has(_))s.missing.push({provider:r,prefix:i,name:_});else return n=!0,!0;return!1}),s.pending.length!==h&&(n||Xu([e],u.id),u.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),u.abort))})}))}let Am=0;function Mm(e,t,n){const r=Am++,i=Xu.bind(null,n,r);if(!t.pending.length)return i;const u={id:r,icons:t,callback:e,abort:i};return n.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(u)}),i}function Im(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const u=typeof i=="string"?Aa(i,t,n):i;u&&r.push(u)}),r}var jm={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Um(e,t,n,r){const i=e.resources.length,u=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let ee=e.resources.slice(0);for(s=[];ee.length>1;){const ne=Math.floor(Math.random()*ee.length);s.push(ee[ne]),ee=ee.slice(0,ne).concat(ee.slice(ne+1))}s=s.concat(ee)}else s=e.resources.slice(u).concat(e.resources.slice(0,u));const h=Date.now();let v="pending",_=0,M,D=null,j=[],q=[];typeof r=="function"&&q.push(r);function W(){D&&(clearTimeout(D),D=null)}function F(){v==="pending"&&(v="aborted"),W(),j.forEach(ee=>{ee.status==="pending"&&(ee.status="aborted")}),j=[]}function X(ee,ne){ne&&(q=[]),typeof ee=="function"&&q.push(ee)}function z(){return{startTime:h,payload:t,status:v,queriesSent:_,queriesPending:j.length,subscribe:X,abort:F}}function L(){v="failed",q.forEach(ee=>{ee(void 0,M)})}function re(){j.forEach(ee=>{ee.status==="pending"&&(ee.status="aborted")}),j=[]}function oe(ee,ne,ue){const je=ne!=="success";switch(j=j.filter(Ue=>Ue!==ee),v){case"pending":break;case"failed":if(je||!e.dataAfterTimeout)return;break;default:return}if(ne==="abort"){M=ue,L();return}if(je){M=ue,j.length||(s.length?we():L());return}if(W(),re(),!e.random){const Ue=e.resources.indexOf(ee.resource);Ue!==-1&&Ue!==e.index&&(e.index=Ue)}v="completed",q.forEach(Ue=>{Ue(ue)})}function we(){if(v!=="pending")return;W();const ee=s.shift();if(ee===void 0){if(j.length){D=setTimeout(()=>{W(),v==="pending"&&(re(),L())},e.timeout);return}L();return}const ne={status:"pending",resource:ee,callback:(ue,je)=>{oe(ne,ue,je)}};j.push(ne),_++,D=setTimeout(we,e.rotate),n(ee,t,ne.callback)}return setTimeout(we),z}function Ju(e){const t={...jm,...e};let n=[];function r(){n=n.filter(h=>h().status==="pending")}function i(h,v,_){const M=Um(t,h,v,(D,j)=>{r(),_&&_(D,j)});return n.push(M),M}function u(h){return n.find(v=>h(v))||null}return{query:i,find:u,setIndex:h=>{t.index=h},getIndex:()=>t.index,cleanup:r}}function Fs(){}const Ti=Object.create(null);function Rm(e){if(!Ti[e]){const t=vo(e);if(!t)return;const n=Ju(t),r={config:t,redundancy:n};Ti[e]=r}return Ti[e]}function qm(e,t,n){let r,i;if(typeof e=="string"){const u=$i(e);if(!u)return n(void 0,424),Fs;i=u.send;const s=Rm(e);s&&(r=s.redundancy)}else{const u=ho(e);if(u){r=Ju(u);const s=e.resources?e.resources[0]:"",h=$i(s);h&&(i=h.send)}}return!r||!i?(n(void 0,424),Fs):r.query(t,i,n)().abort}const Ks="iconify2",kr="iconify",Zu=kr+"-count",Ys=kr+"-version",ec=36e5,Nm=168,Bm=50;function Gi(e,t){try{return e.getItem(t)}catch{}}function mo(e,t,n){try{return e.setItem(t,n),!0}catch{}}function Hs(e,t){try{e.removeItem(t)}catch{}}function Qi(e,t){return mo(e,Zu,t.toString())}function zi(e){return parseInt(Gi(e,Zu))||0}const Ia={local:!0,session:!0},tc={local:new Set,session:new Set};let yo=!1;function Lm(e){yo=e}let sa=typeof window>"u"?{}:window;function nc(e){const t=e+"Storage";try{if(sa&&sa[t]&&typeof sa[t].length=="number")return sa[t]}catch{}Ia[e]=!1}function rc(e,t){const n=nc(e);if(!n)return;const r=Gi(n,Ys);if(r!==Ks){if(r){const h=zi(n);for(let v=0;v<h;v++)Hs(n,kr+v.toString())}mo(n,Ys,Ks),Qi(n,0);return}const i=Math.floor(Date.now()/ec)-Nm,u=h=>{const v=kr+h.toString(),_=Gi(n,v);if(typeof _=="string"){try{const M=JSON.parse(_);if(typeof M=="object"&&typeof M.cached=="number"&&M.cached>i&&typeof M.provider=="string"&&typeof M.data=="object"&&typeof M.data.prefix=="string"&&t(M,h))return!0}catch{}Hs(n,v)}};let s=zi(n);for(let h=s-1;h>=0;h--)u(h)||(h===s-1?(s--,Qi(n,s)):tc[e].add(h))}function ac(){if(!yo){Lm(!0);for(const e in Ia)rc(e,t=>{const n=t.data,r=t.provider,i=n.prefix,u=Bn(r,i);if(!fo(u,n).length)return!1;const s=n.lastModified||-1;return u.lastModifiedCached=u.lastModifiedCached?Math.min(u.lastModifiedCached,s):s,!0})}}function Fm(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in Ia)rc(r,i=>{const u=i.data;return i.provider!==e.provider||u.prefix!==e.prefix||u.lastModified===t});return!0}function Km(e,t){yo||ac();function n(r){let i;if(!Ia[r]||!(i=nc(r)))return;const u=tc[r];let s;if(u.size)u.delete(s=Array.from(u).shift());else if(s=zi(i),s>=Bm||!Qi(i,s+1))return;const h={cached:Math.floor(Date.now()/ec),provider:e.provider,data:t};return mo(i,kr+s.toString(),JSON.stringify(h))}t.lastModified&&!Fm(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function Ws(){}function Ym(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Dm(e)}))}function Hm(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let u;if(!i||!(u=$i(n)))return;u.prepare(n,r,i).forEach(h=>{qm(n,h,v=>{if(typeof v!="object")h.icons.forEach(_=>{e.missing.add(_)});else try{const _=fo(e,v);if(!_.length)return;const M=e.pendingIcons;M&&_.forEach(D=>{M.delete(D)}),Km(e,v)}catch(_){console.error(_)}Ym(e)})})}))}const Wm=(e,t)=>{const n=Im(e,!0,Qu()),r=Em(n);if(!r.pending.length){let v=!0;return t&&setTimeout(()=>{v&&t(r.loaded,r.missing,r.pending,Ws)}),()=>{v=!1}}const i=Object.create(null),u=[];let s,h;return r.pending.forEach(v=>{const{provider:_,prefix:M}=v;if(M===h&&_===s)return;s=_,h=M,u.push(Bn(_,M));const D=i[_]||(i[_]=Object.create(null));D[M]||(D[M]=[])}),r.pending.forEach(v=>{const{provider:_,prefix:M,name:D}=v,j=Bn(_,M),q=j.pendingIcons||(j.pendingIcons=new Set);q.has(D)||(q.add(D),i[_][M].push(D))}),u.forEach(v=>{const{provider:_,prefix:M}=v;i[_][M].length&&Hm(v,i[_][M])}),t?Mm(t,r,u):Ws};function $m(e,t){const n={...e};for(const r in t){const i=t[r],u=typeof i;r in zu?(i===null||i&&(u==="string"||u==="number"))&&(n[r]=i):u===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const Gm=/[\s,]+/;function Qm(e,t){t.split(Gm).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function zm(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let u=parseFloat(e.slice(0,e.length-n.length));return isNaN(u)?0:(u=u/i,u%1===0?r(u):0)}}return t}function Vm(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Xm(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Jm(e){return"data:image/svg+xml,"+Xm(e)}function Zm(e){return'url("'+Jm(e)+'")'}const $s={...Vu,inline:!1},ey={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},ty={display:"inline-block"},Vi={"background-color":"currentColor"},ic={"background-color":"transparent"},Gs={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Qs={"-webkit-mask":Vi,mask:Vi,background:ic};for(const e in Qs){const t=Qs[e];for(const n in Gs)t[e+"-"+n]=Gs[n]}function ny(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function ry(e,t){const n=$m($s,t),r=t.mode||"svg",i=r==="svg"?{...ey}:{};e.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let u=typeof t.style=="string"?t.style:"";for(let z in t){const L=t[z];if(L!==void 0)switch(z){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[z]=L===!0||L==="true"||L===1;break;case"flip":typeof L=="string"&&Qm(n,L);break;case"color":u=u+(u.length>0&&u.trim().slice(-1)!==";"?";":"")+"color: "+L+"; ";break;case"rotate":typeof L=="string"?n[z]=zm(L):typeof L=="number"&&(n[z]=L);break;case"ariaHidden":case"aria-hidden":L!==!0&&L!=="true"&&delete i["aria-hidden"];break;default:if(z.slice(0,3)==="on:")break;$s[z]===void 0&&(i[z]=L)}}const s=vm(e,n),h=s.attributes;if(n.inline&&(u="vertical-align: -0.125em; "+u),r==="svg"){Object.assign(i,h),u!==""&&(i.style=u);let z=0,L=t.id;return typeof L=="string"&&(L=L.replace(/-/g,"_")),{svg:!0,attributes:i,body:bm(s.body,L?()=>L+"ID"+z++:"iconifySvelte")}}const{body:v,width:_,height:M}=e,D=r==="mask"||(r==="bg"?!1:v.indexOf("currentColor")!==-1),j=Vm(v,{...h,width:_+"",height:M+""}),W={"--svg":Zm(j)},F=z=>{const L=h[z];L&&(W[z]=ny(L))};F("width"),F("height"),Object.assign(W,ty,D?Vi:ic);let X="";for(const z in W)X+=z+": "+W[z]+";";return i.style=X+u,{svg:!1,attributes:i}}Qu(!0);wm("",Sm);if(typeof document<"u"&&typeof window<"u"){ac();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!um(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;_m(n,i)||console.error(r)}catch{console.error(r)}}}}function ay(e,t,n,r,i){function u(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof e=="object"&&e!==null&&typeof e.body=="string")return t.name="",u(),{data:{...Ma,...e}};let s;if(typeof e!="string"||(s=Aa(e,!1,!0))===null)return u(),null;const h=om(s);if(!h)return n&&(!t.loading||t.loading.name!==e)&&(u(),t.name="",t.loading={name:e,abort:Wm([s],r)}),null;u(),t.name!==e&&(t.name=e,i&&!t.destroyed&&i(e));const v=["iconify"];return s.prefix!==""&&v.push("iconify--"+s.prefix),s.provider!==""&&v.push("iconify--"+s.provider),{data:h,classes:v}}function iy(e,t){return e?ry({...Ma,...e},t):null}var oy=De("<svg><!></svg>"),sy=De("<span></span>");function ja(e,t){const n=Oi(t,["children","$$slots","$$events"]);sn(t,!1);const r=Dt({name:"",loading:null,destroyed:!1});let i=Dt(!1),u=Dt(0),s=Dt();const h=D=>{typeof n.onLoad=="function"&&n.onLoad(D),Js()("load",{icon:D})};function v(){Xs(u)}Bc(()=>{dt(i,!0)}),Lc(()=>{vi(r,N(r).destroyed=!0),N(r).loading&&(N(r).loading.abort(),vi(r,N(r).loading=null))}),jt(()=>(N(u),vt(n),N(r),N(i),N(s)),()=>{N(u);const D=ay(n.icon,N(r),N(i),v,h);dt(s,D?iy(D.data,n):null),N(s)&&D.classes&&vi(s,N(s).attributes.class=(typeof n.class=="string"?n.class+" ":"")+D.classes.join(" "))}),Vs(),Ca();var _=Ot(),M=Be(_);Qe(M,()=>N(s),D=>{var j=Ot(),q=Be(j);Qe(q,()=>N(s).svg,W=>{var F=oy();let X;var z=V(F);eu(z,()=>N(s).body,!0,!1),pe(()=>X=Ci(F,X,{...N(s).attributes},!1,"")),ae(W,F)},W=>{var F=sy();let X;pe(()=>X=Ci(F,X,{...N(s).attributes},!0,"")),ae(W,F)}),ae(D,j)}),ae(e,_),un()}var uy=De("<span></span>"),cy=De("<!> ",1),ly=De("<button><!></button>");function go(e,t){sn(t,!0);let n=xe(t,"applyLoading",3,!0),r=xe(t,"classes",3,""),i=xe(t,"text",3,"");var u=ly();u.__click=function(...h){const v=t.cmd;return v==null?void 0:v.apply(this,h)};var s=V(u);Qe(s,()=>Ce.loading&&n(),h=>{var v=uy();pe(()=>va(v,` loading loading-spinner loading-xs text-${ct(t.color)}`)),ae(h,v)},h=>{var v=cy(),_=Be(v);ja(_,{get icon(){return t.icon},class:"text-base"});var M=U(_,!0);pe(()=>Ne(M,` ${ct(i())}`)),ae(h,v)}),pe(()=>va(u,` ${ct(r()??"")} btn join-item btn-square btn-outline btn-${ct(t.color)} btn-sm`)),ae(e,u),un()}Rc(["click"]);function fy(e){const t=rr(e),{subscribe:n,set:r,update:i}=t,u=typeof window<"u";return u&&localStorage.storable&&r(JSON.parse(localStorage.storable)),{subscribe:n,set:s=>{u&&(localStorage.storable=JSON.stringify(s)),r(s)},update:s=>{const h=s(Si(t));u&&(localStorage.storable=JSON.stringify(h)),r(h)}}}const br=new Fv(!0),Xn=fy({showMetrics:!0,showCPUChart:!0,refreshProcesses:!0,refreshTimerSeconds:5,pause:!0});var dy=De('<span class="countdown"><span></span></span>'),hy=De('<div class="navbar bg-base-100 gap-4 sticky top-0 z-50"><div class="flex flex-row gap-3 items-center m-auto"><div class="m-auto md:text-right"><span class="text-2xl font-bold">Hecate</span></div> <!> <!></div></div> <dialog id="my_modal_3" class="modal"><div class="modal-box"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button></form> <h3 class="font-bold text-lg">Settings</h3> <div class="form-control"><label class="cursor-pointer label w-[200px]"><span class="label-text">Show Cpu Charts</span> <input type="checkbox" class="checkbox checkbox-success"></label> <label class="cursor-pointer label w-[200px]"><span class="label-text">Show Metrics</span> <input type="checkbox" class="checkbox checkbox-success"></label> <button class="btn btn-accent mt-5">Show All</button></div></div></dialog>',1);function py(e,t){sn(t,!0);const n={};ka(n);const r=()=>Tr(Xn,"$settingsStore",n);let i,u=Un(rn(r().pause)),s=Jn(()=>[{color:"primary",icon:"mdi:refresh",cmd:async()=>{await Nn()}},{color:"accent",icon:N(u)?"mdi:play":"mdi:pause",applyLoading:!1,cmd:async()=>{br.next(!br.value)}},{color:"info",icon:"mdi:cog",applyLoading:!1,cmd:async()=>{i.showModal()}}]),h=Un(0);pa(()=>{const te=Vv(1e3,1e3).pipe(Xv(le=>!br.value)).subscribe(le=>{N(h)==r().refreshTimerSeconds?(dt(h,0),Nn()):Xs(h)});return()=>{te.unsubscribe()}}),pa(()=>(br.subscribe(te=>{Zn(Xn,Ut(r).pause=te,Ut(r)),dt(u,rn(te)),te&&dt(h,0)}),()=>{br.unsubscribe()}));function v(){nn.data&&nn.data.forEach(te=>{te.show=!0})}var _=hy(),M=Be(_),D=V(M),j=V(D),q=U(U(j,!0));Vt(q,65,()=>N(s),Xt,(te,le,Ae)=>{var He=Ot(),ce=Be(He);go(ce,Xi(()=>se(le))),ae(te,He)});var W=U(U(q,!0));Qe(W,()=>!N(u),te=>{var le=dy(),Ae=V(le);pe(()=>it(Ae,"style",`--value:${ct(r().refreshTimerSeconds-N(h))};`)),ae(te,le)});var F=U(U(M,!0));Zs(F,te=>i=te,()=>i);var X=V(F),z=V(X),L=U(U(z,!0)),re=U(U(L,!0)),oe=V(re),we=V(oe),ee=U(U(we,!0));ki(ee);var ne=U(U(oe,!0)),ue=V(ne),je=U(U(ue,!0));ki(je);var Ue=U(U(ne,!0));Zo(ee,()=>r().showCPUChart,te=>Zn(Xn,Ut(r).showCPUChart=te,Ut(r))),Zo(je,()=>r().showMetrics,te=>Zn(Xn,Ut(r).showMetrics=te,Ut(r))),Kt("click",Ue,v,!1),ae(e,_),un()}var vy=De('<div class="flex flex-row gap-4 items-center"><div> </div> <!></div> <div class="flex flex-row gap-4"></div> <input type="text" placeholder="Type here" class="input input-bordered input-primary w-full max-w-xs">',1),my=De('<table class="table table-zebra mt-2 table-xs w-full"><tbody><tr class="!max-h-[30px]"><td class="w-[10px] max-h-[30px]"><!></td><td class="w-[150px]"><div> </div></td><td> </td></tr></tbody></table>'),yy=De("<li> </li>"),gy=De('<div class="divider flex-auto mt-12"><!></div> <div class="overflow-x-auto"><!></div>',1);function by(e,t){sn(t,!1);var n=Fc(()=>Ni);let r=Dt([{color:"info",cmd:async()=>{await la(Ce.selected,10)},icon:"",text:"10"},{color:"info",cmd:async()=>{await la(Ce.selected,100)},icon:"",text:"100"},{color:"info",cmd:async()=>{await la(Ce.selected,500)},icon:"",text:"500"}]);Ca();var i=Ot(),u=Be(i);Qe(u,()=>Ce.selected,s=>{var h=Ot(),v=Be(h);Qe(v,()=>n().logs,_=>{var M=gy(),D=Be(M),j=V(D);Qe(j,()=>Ce.selected,F=>{var X=vy(),z=Be(X),L=V(z),re=V(L),oe=U(U(L,!0));lo(oe,{get process(){return Ce.selected}});var we=U(U(z,!0));Vt(we,9,()=>N(r),Xt,(ne,ue,je)=>{var Ue=Ot(),te=Be(Ue);go(te,Xi(()=>se(ue),{$$events:{click:se(ue).cmd}})),ae(ne,Ue)});var ee=U(U(we,!0));ki(ee),pe(()=>{var ne;return Ne(re,(ne=Ce.selected)==null?void 0:ne.name)}),Yc(ee,()=>n().filterText,ne=>n(n().filterText=ne)),ae(F,X)});var q=U(U(D,!0)),W=V(q);Qe(W,()=>n().filteredLogs,F=>{var X=Ot(),z=Be(X);Vt(z,1,()=>n().filteredLogs,Xt,(L,re,oe)=>{var we=Ot(),ee=Be(we);Qe(ee,()=>typeof se(re)=="object"&&typeof se(re).message<"u",ne=>{var ue=my(),je=V(ue),Ue=V(je),te=V(Ue),le=V(te);ja(le,{icon:"radix-icons:dot",class:"text-2xl"});var Ae=U(te),He=V(Ae),ce=V(He);pe(()=>Ne(ce,`${ct(Hl(se(re).timestamp,"dd/MM HH:mm:ss.SSS"))}:`));var mt=U(Ae),Ve=V(mt);pe(()=>{va(mt,se(re).type=="out"?"text-info":"text-error"),Ne(Ve,se(re).message)}),ae(ne,ue)},ne=>{var ue=yy();va(ue,"");var je=V(ue);pe(()=>Ne(je,se(re))),ae(ne,ue)}),ae(L,we)}),ae(F,X)}),ae(_,M)}),ae(s,h)}),ae(e,i),un()}var wy=De('<div class="flex flex-auto gap-5"></div>');function oc(e,t){sn(t,!0);let n=Jn(()=>{let i=[];return(t.process.status=="online"||t.process.status=="stopping")&&i.push({color:"warning",icon:"ic:round-pause",cmd:async()=>{await Pv(t.process),Ce.selected=t.process}}),i.push({color:t.process.status=="online"?"primary":"success",icon:t.process.status=="online"?"solar:restart-bold":"solar:play-bold",cmd:async()=>{await Tv(t.process),Ce.selected=t.process}},{color:"info",icon:"octicon:log-16",cmd:async()=>{await la(t.process),Ce.selected=t.process,Xo.dialogOpen=!0,Xo.componentToRender=by}},{color:"neutral-content",icon:"fluent-emoji-high-contrast:toilet",cmd:async()=>{await Ov(t.process),Ce.selected=t.process}},{color:"error",icon:"solar:trash-bin-trash-broken",cmd:async()=>{await xv(t.process),Ce.selected=t.process}}),i.filter(Boolean)});var r=wy();Vt(r,73,()=>N(n),Xt,(i,u,s)=>{var h=Ot(),v=Be(h);go(v,Xi(()=>se(u))),ae(i,h)}),ae(e,r),un()}var _y=De('<div class="text-xs italic text-left"> </div> <div class="text-left"> </div>',1),xy=De('<div class="grid grid-cols-2 gap-2 items-center m-auto"><!></div>'),Ty=De('<div class="text-center"><button class="btn btn-ghost"> </button></div>'),Py=De('<div class="card w-96 bg-neutral shadow-xl"><div class="card-body !p-2"><h2 class="card-title mb-1 flex flex-row items-center justify-center"><div> </div> <!> <button class="btn btn-icon-sm btn-ghost"><!></button></h2> <div class="grid grid-cols-3 gap-2 m-auto mb-2"><div class="italic text-xs text-center">Up Time</div> <div class="italic text-xs text-center">Memory</div> <div class="italic text-xs text-center">CPU</div> <div class="text-center"> </div> <div class="text-center"> </div> <div class="text-center"> </div></div> <!> <div class="card-actions justify-end m-auto !mt-1 !mb-1"><!></div> <div class="grid grid-cols-3 gap-2 m-auto mb-2"></div></div></div>');function Oy(e,t){sn(t,!0);const n={};ka(n);const r=()=>Tr(Xn,"$settingsStore",n);function i(te){te.show=!te.show,nn.replace({name:te.name,serial:te.serial,show:te.show})}var u=Py(),s=V(u),h=V(s),v=V(h),_=V(v),M=U(U(v,!0));lo(M,{get process(){return t.process}});var D=U(U(M,!0)),j=V(D);ja(j,{icon:"iconamoon:eye-off",class:"text-xl text-accent"});var q=U(U(h,!0)),W=V(q),F=U(U(W,!0)),X=U(U(F,!0)),z=U(U(X,!0)),L=V(z);pe(()=>Ne(L,Yu(t.process.uptime)));var re=U(U(z,!0)),oe=V(re);pe(()=>Ne(oe,Ku(Number(t.process.memory))));var we=U(U(re,!0)),ee=V(we),ne=U(U(q,!0));Qe(ne,()=>r().showMetrics,te=>{var le=xy(),Ae=V(le);Qe(Ae,()=>t.process.monitor,He=>{var ce=Ot(),mt=Be(ce);Vt(mt,65,()=>{var Ve;return Object.entries((Ve=t.process)==null?void 0:Ve.monitor).filter(([Re,rt])=>!Hu.includes(Re)&&rt.value!==void 0).map(([Re,rt])=>({key:Re,value:rt.value}))},Xt,(Ve,Re,rt)=>{var Ge=_y(),at=Be(Ge),qt=V(at),st=U(U(at,!0)),ke=V(st);pe(()=>{Ne(qt,`${ct(se(Re).key)}:`),Ne(ke,se(Re).value)}),ae(Ve,Ge)}),ae(He,ce)}),ae(te,le)});var ue=U(U(ne,!0)),je=V(ue);oc(je,{get process(){return t.process}});var Ue=U(U(ue,!0));Vt(Ue,73,()=>t.process.actions,Xt,(te,le,Ae)=>{var He=Ty(),ce=V(He),mt=V(ce);pe(()=>Ne(mt,se(le))),Kt("click",ce,()=>_v(t.process.pm_id,se(le)),!1),ae(te,He)}),pe(()=>{Ne(_,t.process.name),Ne(ee,`${ct(t.process.cpu)}%`)}),Kt("click",D,()=>i(t.process),!1),ae(e,u),un()}const Pi=rr({}),zs=rr({});var Cy=Oa('<polyline fill="transparent"></polyline>'),ky=Oa("<rect></rect>"),Sy=Oa("<circle></circle>"),Ey=Oa('<!><rect fill="transparent"></rect>',1),Dy=De(" <span> </span> ",1),Ay=De('<div class="tiny-linked-charts-value"><!></div>'),My=De("<svg><g><!><!></g></svg> <!>",1);function Iy(e,t){const n=Oi(t,["children","$$slots","$$events"]),r=Oi(n,["uid","data","labels","values","linked","height","width","barMinWidth","barMinHeight","hideBarBelow","grow","align","gap","fill","fadeOpacity","hover","transition","showValue","valueDefault","valuePrepend","valueAppend","valuePosition","valueUndefined","scaleMax","scaleMin","type","lineColor","tabindex","dispatchEvents","preserveAspectRatio","clickHandler"]);sn(t,!1);const i={};ka(i);const u=()=>Tr(zs,"$hoveringValue",i),s=()=>Tr(Pi,"$hoveringKey",i),h=Dt(),v=Dt(),_=Dt(),M=Dt(),D=Dt();let j=xe(t,"uid",8,()=>(Math.random()+1).toString(36).substring(7)),q=xe(t,"data",12,()=>({})),W=xe(t,"labels",8,()=>[]),F=xe(t,"values",8,()=>[]),X=xe(t,"linked",0,""),z=xe(t,"height",0,40),L=xe(t,"width",0,150),re=xe(t,"barMinWidth",0,4),oe=xe(t,"barMinHeight",0,0),we=xe(t,"hideBarBelow",0,0),ee=xe(t,"grow",0,!1),ne=xe(t,"align",0,"right"),ue=xe(t,"gap",0,1),je=xe(t,"fill",0,"#ff3e00"),Ue=xe(t,"fadeOpacity",0,.5),te=xe(t,"hover",0,!0),le=xe(t,"transition",0,0),Ae=xe(t,"showValue",0,!1),He=xe(t,"valueDefault",0,"&nbsp;"),ce=xe(t,"valuePrepend",0,""),mt=xe(t,"valueAppend",0,""),Ve=xe(t,"valuePosition",0,"static"),Re=xe(t,"valueUndefined",0,0),rt=xe(t,"scaleMax",0,0),Ge=xe(t,"scaleMin",0,0),at=xe(t,"type",0,"bar"),qt=xe(t,"lineColor",8,je),st=xe(t,"tabindex",8,()=>-1),ke=xe(t,"dispatchEvents",0,!1),ye=xe(t,"preserveAspectRatio",0,!1),Le=xe(t,"clickHandler",0,(qe,_e)=>null);const Ct=Js();let Ht=Dt(0),Z=Dt([]),yt=Dt();function Nt(){return rt()?rt():N(h)?Math.max(...Object.values(q())):0}function me(qe){if(qe<we()||qe<Ge())return 0;const _e=rt()||N(_),Fe=Ge()||0,Me=(qe-Fe)/(_e-Fe);return Math.max(Math.ceil(Me*parseInt(z())),oe())}function Jt(){return Math.max((parseInt(L())-N(h)*parseInt(ue()))/N(h),parseInt(re()))}function Fn(){return ne()=="left"?0:parseInt(ue())+parseInt(L())-(parseInt(ue())+N(v))*N(h)}function Bt(){let qe=[];for(let _e=0;_e<Object.keys(q()).length;_e++)qe.push([_e*(N(v)+parseInt(ue())+N(v)/Object.keys(q()).length),z()-me(Object.values(q())[_e])]);return qe}async function hn(qe,_e){te()&&(Zn(Pi,Ut(s)[N(D)]=qe,Ut(s)),await Vo(),ke()&&Ct("hover",{uid:j(),key:qe,index:_e,linkedKey:N(D),value:u()[j()],valueElement:N(yt),eventElement:event.target}))}async function Kn(){te()&&(Zn(Pi,Ut(s)[N(D)]=null,Ut(s)),await Vo(),ke()&&Ct("blur",{uid:j(),linkedKey:N(D),valueElement:N(yt),eventElement:event.target}))}jt(()=>(vt(W()),vt(F())),()=>{W().length&&F().length&&q(Object.fromEntries(W().map((qe,_e)=>[W()[_e],F()[_e]])))}),jt(()=>vt(q()),()=>{dt(h,Object.keys(q()).length)}),jt(()=>(vt(ee()),N(h),vt(re())),()=>{dt(v,ee()?Jt(N(h)):parseInt(re()))}),jt(()=>vt(q()),()=>{dt(_,Nt(q()))}),jt(()=>N(h),()=>{dt(M,N(h)?Fn():0)}),jt(()=>vt(X()),()=>{dt(D,X()||(Math.random()+1).toString(36).substring(7))}),jt(()=>(s(),N(D),vt(q())),()=>{Zn(zs,Ut(u)[j()]=s()[N(D)]?q()[s()[N(D)]]:null,Ut(u))}),jt(()=>(vt(Ve()),vt(ue()),N(v),vt(q()),s(),N(D),N(M)),()=>{Ve()=="floating"&&dt(Ht,(parseInt(ue())+N(v))*Object.keys(q()).indexOf(s()[N(D)])+N(M))}),jt(()=>(vt(at()),vt(q())),()=>{at()=="line"&&dt(Z,Bt(q()))}),jt(()=>(vt(ke()),u(),vt(j()),N(D),N(yt)),()=>{ke()&&Ct("value-update",{value:u()[j()],uid:j(),linkedKey:N(D),valueElement:N(yt)})}),jt(()=>vt(st()),()=>{st()>0&&console.warn("Tabindex should not be higher than 0")}),Vs(),Ca();var On=My(),Wt=Be(On);let pn;var xt=V(Wt),At=V(xt);Qe(At,()=>at()=="line",qe=>{var _e=Cy();pe(()=>it(_e,"points",N(Z).join(" "))),pe(()=>it(_e,"stroke",qt())),ae(qe,_e)});var Tt=U(At);Vt(Tt,1,()=>Object.entries(q()),Xt,(qe,_e,Fe)=>{let Me=()=>se(se(_e))[0],Xe=()=>se(se(_e))[1];var ht=Ey(),pt=Be(ht);Qe(pt,()=>at()=="bar",Lt=>{var We=ky();pe(()=>it(We,"height",at()=="line"?z():me(Xe()))),pe(()=>it(We,"x",(parseInt(ue())+N(v))*se(Fe))),pe(()=>it(We,"y",z()-me(Xe()))),pe(()=>{it(We,"style",le()?`transition: all ${le()}ms`:null),it(We,"opacity",te()&&s()[N(D)]&&s()[N(D)]!=Me()?Ue():1),it(We,"fill",je()),it(We,"width",N(v))}),ae(Lt,We)},Lt=>{var We=Ot(),J=Be(We);Qe(J,()=>at()=="line",Cn=>{var St=Sy();pe(()=>it(St,"r",ee()?parseInt(re()):N(v)/2)),pe(()=>it(St,"cy",z()-me(Xe()))),pe(()=>it(St,"cx",(parseInt(ue())+N(v)+N(v)/Object.keys(q()).length)*se(Fe))),pe(()=>it(St,"fill",te()&&s()[N(D)]!==null&&s()[N(D)]==Me()?je():"transparent")),ae(Cn,St)},null,!0),ae(Lt,We)});var ut=U(pt);pe(()=>it(ut,"x",(parseInt(ue())+N(v))*se(Fe))),pe(()=>{it(ut,"width",N(v)),it(ut,"height",z()),it(ut,"tabindex",st())}),Kt("mouseover",ut,()=>hn(Me(),se(Fe)),!1),Kt("focus",ut,()=>hn(Me(),se(Fe)),!1),Kt("touchstart",ut,()=>hn(Me(),se(Fe)),!1,!0),Kt("click",ut,()=>Le()(Me(),se(Fe)),!1),Kt("keypress",ut,()=>Le()(Me(),se(Fe)),!1),ae(qe,ht)});var vn=U(U(Wt,!0));Qe(vn,()=>Ae()&&(u()[j()]||He()),qe=>{var _e=Ay(),Fe=V(_e);Qe(Fe,()=>u()[j()]!==null,Me=>{var Xe=Dy(),ht=Be(Xe,!0),pt=U(ht);Zs(pt,We=>dt(yt,We),()=>N(yt));var ut=V(pt),Lt=U(pt,!0);pe(()=>{Ne(ht,`${ct(ce())} `),Ne(ut,u()[j()]||Re()),Ne(Lt,` ${ct(mt())}`)}),ae(Me,Xe)},Me=>{var Xe=Ot(),ht=Be(Xe);eu(ht,He,!1,!1),ae(Me,Xe)}),pe(()=>it(_e,"style",Ve()=="floating"?`position: absolute; transform: translateX(${N(Ht)}px)`:null)),ae(qe,_e)}),pe(()=>{pn=Ci(Wt,pn,{width:L(),height:at()=="line"?z()+N(v)/2:z(),viewBox:`0 0 ${ct(L())} ${ct(z())}`,preserveAspectRatio:ye()?"true":"none",...r},!1,""),it(xt,"transform",`translate(${ct(N(M))}, 0)`)}),Kt("mouseleave",Wt,Kn,!1),Kt("blur",Wt,Kn,!1),ae(e,On),un()}var jy=De('<th class="text-accent"></th>'),Uy=De('<th class="text-accent">Metrics</th>'),Ry=De("<td><!></td>"),qy=De('<div class="text-xs italic text-left"> </div> <div class="text-left"> </div>',1),Ny=De('<td class="grid grid-cols-2 gap-1 items-center"><!></td>'),By=De('<tr><td> </td><td class="text-secondary font-semibold"> <button class="btn btn-icon-sm btn-ghost"><!></button></td><td> </td><td><!></td><td> </td><td> </td><td> </td><td> </td><td> </td><!><td><!></td><!></tr>'),Ly=De('<div class="flex flex-wrap md:hidden justify-center gap-5 mt-5"></div> <div class="text-center m-auto"><div class="hidden md:flex"><table class="table table-zebra" style="" id="tableproc"><thead><tr><th class="text-accent">ID</th><th class="text-accent">Process Name</th><th class="text-accent">PID</th><th class="text-accent">Status</th><th class="text-accent">Uptime</th><th class="text-accent">Memory</th><th class="text-accent">CPU</th><!><th class="text-accent">Istances</th><th class="text-accent">IP</th><th class="text-accent">Actions</th><!></tr></thead><tbody></tbody></table></div></div>',1),Fy=De("<p>No processes found</p>"),Ky=De('<!> <!> <div class="h-[100px]"></div>',1);function Vy(e,t){sn(t,!0);const n={};ka(n);const r=()=>Tr(Xn,"$settingsStore",n);pa(()=>{Nn()});let i=Jn(()=>!Ce.data||!nn.data?[]:Ce.data.map(_=>({...nn.data.find(M=>M.name==_.name),..._})).filter(_=>_.show));pa(()=>{nn.data&&nn.data.forEach(_=>{ca.processInfos.put({name:_.name,serial:_.serial,show:_.show})})});function u(_){_.show=!_.show,nn.replace({name:_.name,serial:_.serial,show:_.show})}var s=Ky();qc(_=>{Nc.title="Hecate"});var h=Be(s);py(h,{});var v=U(U(h,!0));Qe(v,()=>N(i)&&N(i).length>0,_=>{var M=Ly(),D=Be(M);Vt(D,73,()=>N(i),Xt,(He,ce,mt)=>{var Ve=Ot(),Re=Be(Ve);Oy(Re,{get process(){return se(ce)}}),ae(He,Ve)});var j=U(U(D,!0)),q=V(j),W=V(q),F=V(W),X=V(F),z=V(X),L=U(z),re=U(L),oe=U(re),we=U(oe),ee=U(we),ne=U(ee),ue=U(ne);Qe(ue,()=>r().showCPUChart,He=>{var ce=jy();ae(He,ce)});var je=U(ue),Ue=U(je),te=U(Ue),le=U(te);Qe(le,()=>r().showCPUChart,He=>{var ce=Uy();ae(He,ce)});var Ae=U(F);Vt(Ae,73,()=>N(i),Xt,(He,ce,mt)=>{var Ve=By(),Re=V(Ve),rt=V(Re),Ge=U(Re),at=V(Ge),qt=U(at),st=V(qt);ja(st,{icon:"iconamoon:eye-off",class:"text-xl text-accent"});var ke=U(Ge),ye=V(ke),Le=U(ke),Ct=V(Le);lo(Ct,{get process(){return se(ce)}});var Ht=U(Le),Z=V(Ht);pe(()=>Ne(Z,Yu(se(ce).uptime)));var yt=U(Ht),Nt=V(yt);pe(()=>Ne(Nt,Ku(Number(se(ce).memory))));var me=U(yt),Jt=V(me),Fn=U(me),Bt=V(Fn),hn=U(Fn),Kn=V(hn);pe(()=>{var At;return Ne(Kn,`${ct(se(ce).ip)}
								${ct(((At=_r.find(Tt=>Tt.name==se(ce).name))==null?void 0:At.cpus.length)??0)}`)});var On=U(hn);Qe(On,()=>r().showCPUChart,At=>{var Tt=Ry(),vn=V(Tt),qe=Jn(()=>{var Fe;return(Fe=_r.find(Me=>Me.name==se(ce).name))==null?void 0:Fe.cpus.map((Me,Xe)=>Xe)}),_e=Jn(()=>{var Fe;return(Fe=_r.find(Me=>Me.name==se(ce).name))==null?void 0:Fe.cpus});Iy(vn,{linked:"link-1",get labels(){return N(qe)},get values(){return N(_e)}}),ae(At,Tt)});var Wt=U(On),pn=V(Wt);oc(pn,{get process(){return se(ce)}});var xt=U(Wt);Qe(xt,()=>r().showMetrics,At=>{var Tt=Ny(),vn=V(Tt);Qe(vn,()=>se(ce).monitor,qe=>{var _e=Ot(),Fe=Be(_e);Vt(Fe,65,()=>{var Me;return Object.entries((Me=se(ce))==null?void 0:Me.monitor).filter(([Xe,ht])=>!Hu.includes(Xe)&&ht.value!==void 0).map(([Xe,ht])=>({key:Xe,value:ht.value}))},Xt,(Me,Xe,ht)=>{var pt=qy(),ut=Be(pt),Lt=V(ut),We=U(U(ut,!0)),J=V(We);pe(()=>{Ne(Lt,`${ct(se(Xe).key)}:`),Ne(J,se(Xe).value)}),ae(Me,pt)}),ae(qe,_e)}),ae(At,Tt)}),pe(()=>{Ne(rt,se(ce).pm_id),Ne(at,`${ct(se(ce).name)} `),Ne(ye,se(ce).pid),Ne(Jt,`${ct(se(ce).cpu)}%`),Ne(Bt,se(ce).istances)}),Kt("click",qt,()=>u(se(ce)),!1),ae(He,Ve)}),ae(_,M)},_=>{var M=Fy();ae(_,M)}),ae(e,s),un()}export{Vy as component};
